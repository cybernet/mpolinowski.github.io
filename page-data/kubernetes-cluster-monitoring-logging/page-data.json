{"componentChunkName":"component---src-templates-post-jsx","path":"/kubernetes-cluster-monitoring-logging","webpackCompilationHash":"f36ad6406abdbd88f1fa","result":{"data":{"mdx":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"date\": \"2019-01-19\",\n  \"title\": \"Kubernetes Cluster Monitoring & Logging\",\n  \"categories\": [\"LINUX\", \"Docker\", \"Kubernetes\"]\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1024px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"36.66666666666667%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0px\",\n      \"left\": \"0px\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/65a4bb9682b131df95bd3b6fd0295e2a/a9925/photo-11627898645_5f0761ff9e_o.webp 256w\", \"/static/65a4bb9682b131df95bd3b6fd0295e2a/5406f/photo-11627898645_5f0761ff9e_o.webp 512w\", \"/static/65a4bb9682b131df95bd3b6fd0295e2a/ae385/photo-11627898645_5f0761ff9e_o.webp 1024w\", \"/static/65a4bb9682b131df95bd3b6fd0295e2a/2cd02/photo-11627898645_5f0761ff9e_o.webp 1500w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/65a4bb9682b131df95bd3b6fd0295e2a/2c438/photo-11627898645_5f0761ff9e_o.png 256w\", \"/static/65a4bb9682b131df95bd3b6fd0295e2a/53eb4/photo-11627898645_5f0761ff9e_o.png 512w\", \"/static/65a4bb9682b131df95bd3b6fd0295e2a/e0e05/photo-11627898645_5f0761ff9e_o.png 1024w\", \"/static/65a4bb9682b131df95bd3b6fd0295e2a/10439/photo-11627898645_5f0761ff9e_o.png 1500w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0px\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0px\",\n      \"left\": \"0px\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/65a4bb9682b131df95bd3b6fd0295e2a/e0e05/photo-11627898645_5f0761ff9e_o.png\",\n    \"alt\": \"Angkor Wat, Cambodia\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#prometheus-and-grafana\"\n  }), \"Prometheus and Grafana\"), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#helm-installation\"\n  }), \"Helm Installation\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#prometheus-installation\"\n  }), \"Prometheus Installation\")))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#the-elk-stack\"\n  }), \"The ELK Stack\"), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#installation\"\n  }), \"Installation\"))))), mdx(\"h2\", {\n    \"id\": \"prometheus-and-grafana\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#prometheus-and-grafana\",\n    \"aria-label\": \"prometheus and grafana permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Prometheus and Grafana\"), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://prometheus.io\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"Prometheus\"), \" is an open-source monitoring solution that can be used with the visualization frontend \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://grafana.com\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"Grafana\"), \" to display your clusters health status. To install them we are going to use the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://helm.sh\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"Helm Package Manager\"), \" for Kubernetes.\"), mdx(\"h3\", {\n    \"id\": \"helm-installation\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#helm-installation\",\n    \"aria-label\": \"helm installation permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Helm Installation\"), mdx(\"p\", null, \"Helm helps you manage Kubernetes applications \\u2014 Helm Charts helps you define, install, and upgrade even the most complex Kubernetes application. Charts are easy to create, version, share, and publish \\u2014 so start using Helm and stop the copy-and-paste.\"), mdx(\"p\", null, \"To install Helm, head over to their \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/helm/helm/\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"Github Page\"), \" and grab the link to the install binaries - in my case the latest version is \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/helm/helm/releases/tag/v2.12.3\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"Helm v2.12.3\"), \". Use this link to download the binaries to your Centos server:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"wget https://storage.googleapis.com/kubernetes-helm/helm-v2.12.3-linux-amd64.tar.gz\\ntar zxvf helm-v2.12.3-linux-amd64.tar.gz\\n\")), mdx(\"p\", null, \"The unzipped folder contains a file called \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"helm\"), \" that needs to be copied to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"cp helm /usr/local/bin/\"), \". You can type \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"helm\"), \" to verify that it is working:\"), mdx(\"hr\", null), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"806px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"12.28287841191067%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0px\",\n      \"left\": \"0px\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/518c86f0531fde53b4bcd6ad2113e501/a9925/kubernetes_logging_04.webp 256w\", \"/static/518c86f0531fde53b4bcd6ad2113e501/5406f/kubernetes_logging_04.webp 512w\", \"/static/518c86f0531fde53b4bcd6ad2113e501/f9159/kubernetes_logging_04.webp 806w\"],\n    \"sizes\": \"(max-width: 806px) 100vw, 806px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/518c86f0531fde53b4bcd6ad2113e501/2c438/kubernetes_logging_04.png 256w\", \"/static/518c86f0531fde53b4bcd6ad2113e501/53eb4/kubernetes_logging_04.png 512w\", \"/static/518c86f0531fde53b4bcd6ad2113e501/8a374/kubernetes_logging_04.png 806w\"],\n    \"sizes\": \"(max-width: 806px) 100vw, 806px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0px\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0px\",\n      \"left\": \"0px\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/518c86f0531fde53b4bcd6ad2113e501/8a374/kubernetes_logging_04.png\",\n    \"alt\": \"A Kubernetes Cluster & Microservices\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"hr\", null), mdx(\"p\", null, \"We can now type \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"helm init\"), \" to add the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Tiller Pod\"), \" to our cluster. You can verify that Helm is connected by running \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"helm version\"), \" (it should show your Helm client as well as Kubernetes version) and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"kubectl get pods -n kube-system\"), \":\"), mdx(\"hr\", null), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"804px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"70.77114427860697%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0px\",\n      \"left\": \"0px\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/f4498710f25a7e918a9b344bbeb214d5/a9925/kubernetes_logging_05.webp 256w\", \"/static/f4498710f25a7e918a9b344bbeb214d5/5406f/kubernetes_logging_05.webp 512w\", \"/static/f4498710f25a7e918a9b344bbeb214d5/d031a/kubernetes_logging_05.webp 804w\"],\n    \"sizes\": \"(max-width: 804px) 100vw, 804px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/f4498710f25a7e918a9b344bbeb214d5/2c438/kubernetes_logging_05.png 256w\", \"/static/f4498710f25a7e918a9b344bbeb214d5/53eb4/kubernetes_logging_05.png 512w\", \"/static/f4498710f25a7e918a9b344bbeb214d5/997f5/kubernetes_logging_05.png 804w\"],\n    \"sizes\": \"(max-width: 804px) 100vw, 804px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0px\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0px\",\n      \"left\": \"0px\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/f4498710f25a7e918a9b344bbeb214d5/997f5/kubernetes_logging_05.png\",\n    \"alt\": \"A Kubernetes Cluster & Microservices\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"hr\", null), mdx(\"p\", null, \"Before we can install package, first run a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"helm repo update\"), \" to make sure that you are up to date. And to allow Helm/Tiller to install packages to the default namespace in Kubernetes, we first have to run these three commands (\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"optional\"), \" - the installation below will create a custom namespace \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"monitoring\"), \" that is not going to cause any issues):\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"kubectl create serviceaccount --namespace kube-system tiller\\nkubectl create clusterrolebinding tiller-cluster-rule --clusterrole=cluster-admin --serviceaccount=kube-system:tiller\\nkubectl patch deploy --namespace kube-system tiller-deploy -p '{\\\"spec\\\":{\\\"template\\\":{\\\"spec\\\":{\\\"serviceAccount\\\":\\\"tiller\\\"}}}}' \\n\")), mdx(\"h3\", {\n    \"id\": \"prometheus-installation\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#prometheus-installation\",\n    \"aria-label\": \"prometheus installation permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Prometheus Installation\"), mdx(\"p\", null, \"To install Prometheus we are going to use a repository by CoreOS called \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/helm/charts/tree/master/stable/prometheus-operator\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"Prometheus Operator\"), \" that provides easy monitoring definitions for Kubernetes services and deployment and management of Prometheus instances.\"), mdx(\"p\", null, \"To install the chart with the release name \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"test-release\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"helm install --name test-release stable/prometheus-operator --namespace monitoring\\n\")), mdx(\"p\", null, \"helm install coreos/grafana --name my-release --set adminUser=bob\"), mdx(\"p\", null, \"The command deploys prometheus-operator on the Kubernetes cluster in the default configuration. The \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/helm/charts/tree/master/stable/prometheus-operator#configuration\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"configuration section\"), \" lists the parameters that can be configured during installation.\"), mdx(\"p\", null, \"The default installation includes Prometheus Operator, Alertmanager, Grafana, and configuration for scraping Kubernetes infrastructure.\"), mdx(\"p\", null, \"To uninstall/delete the prometheus-operator deployment:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"helm delete --purge test-release\\nkubectl delete crd prometheuses.monitoring.coreos.com\\nkubectl delete crd prometheusrules.monitoring.coreos.com\\nkubectl delete crd servicemonitors.monitoring.coreos.com\\nkubectl delete crd alertmanagers.monitoring.coreos.com\\n\")), mdx(\"p\", null, \"You can verify the successful installation with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"kubectl get all -n monitoring\"), \":\"), mdx(\"hr\", null), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"805px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"83.22981366459628%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0px\",\n      \"left\": \"0px\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/e90e605663e5abdd6b8ef17e282bc0da/a9925/kubernetes_logging_06.webp 256w\", \"/static/e90e605663e5abdd6b8ef17e282bc0da/5406f/kubernetes_logging_06.webp 512w\", \"/static/e90e605663e5abdd6b8ef17e282bc0da/688d4/kubernetes_logging_06.webp 805w\"],\n    \"sizes\": \"(max-width: 805px) 100vw, 805px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/e90e605663e5abdd6b8ef17e282bc0da/2c438/kubernetes_logging_06.png 256w\", \"/static/e90e605663e5abdd6b8ef17e282bc0da/53eb4/kubernetes_logging_06.png 512w\", \"/static/e90e605663e5abdd6b8ef17e282bc0da/b98f1/kubernetes_logging_06.png 805w\"],\n    \"sizes\": \"(max-width: 805px) 100vw, 805px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0px\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0px\",\n      \"left\": \"0px\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/e90e605663e5abdd6b8ef17e282bc0da/b98f1/kubernetes_logging_06.png\",\n    \"alt\": \"A Kubernetes Cluster & Microservices\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"hr\", null), mdx(\"p\", null, \"We can also verify that the Prometheus web interface is working - but as you can see above, the service \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"kube-prometheus\"), \" only has an internal port set (\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"ClusterIP\"), \"). We can edit this default configuration with:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"kubectl edit svc kube-prometheus -n monitoring\\n\")), mdx(\"p\", null, \"This, by default will open the service configuration in Vim - you can install \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Nano\"), \" and run \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"export EDITOR=nano\"), \" to prevent that from happening to you.\"), mdx(\"hr\", null), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"806px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"63.89578163771712%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0px\",\n      \"left\": \"0px\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/df9b7950539e3077e19d5e08df21958c/a9925/kubernetes_logging_07.webp 256w\", \"/static/df9b7950539e3077e19d5e08df21958c/5406f/kubernetes_logging_07.webp 512w\", \"/static/df9b7950539e3077e19d5e08df21958c/f9159/kubernetes_logging_07.webp 806w\"],\n    \"sizes\": \"(max-width: 806px) 100vw, 806px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/df9b7950539e3077e19d5e08df21958c/2c438/kubernetes_logging_07.png 256w\", \"/static/df9b7950539e3077e19d5e08df21958c/53eb4/kubernetes_logging_07.png 512w\", \"/static/df9b7950539e3077e19d5e08df21958c/8a374/kubernetes_logging_07.png 806w\"],\n    \"sizes\": \"(max-width: 806px) 100vw, 806px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0px\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0px\",\n      \"left\": \"0px\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/df9b7950539e3077e19d5e08df21958c/8a374/kubernetes_logging_07.png\",\n    \"alt\": \"A Kubernetes Cluster & Microservices\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"hr\", null), mdx(\"p\", null, \"We added a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"nodePort: 30088\"), \" and set the type from \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"ClusterIP\"), \" to \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"NodePort\"), \" to expose the port for us. Saving the file will automatically verify your edit and re-apply the service configuration, if no error was found. You can access the web interface now by typing in your Master Server IP address followed by the port \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"30088\"), \":\"), mdx(\"hr\", null), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"812px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"89.65517241379311%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0px\",\n      \"left\": \"0px\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/874ddb502d9af9d33212d10b6b172a6c/a9925/kubernetes_logging_08.webp 256w\", \"/static/874ddb502d9af9d33212d10b6b172a6c/5406f/kubernetes_logging_08.webp 512w\", \"/static/874ddb502d9af9d33212d10b6b172a6c/63188/kubernetes_logging_08.webp 812w\"],\n    \"sizes\": \"(max-width: 812px) 100vw, 812px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/874ddb502d9af9d33212d10b6b172a6c/2c438/kubernetes_logging_08.png 256w\", \"/static/874ddb502d9af9d33212d10b6b172a6c/53eb4/kubernetes_logging_08.png 512w\", \"/static/874ddb502d9af9d33212d10b6b172a6c/00556/kubernetes_logging_08.png 812w\"],\n    \"sizes\": \"(max-width: 812px) 100vw, 812px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0px\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0px\",\n      \"left\": \"0px\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/874ddb502d9af9d33212d10b6b172a6c/00556/kubernetes_logging_08.png\",\n    \"alt\": \"A Kubernetes Cluster & Microservices\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"hr\", null), mdx(\"p\", null, \"But we are going to use Grafana as it offers a lot more as a frontend for Prometheus - I am going to revert the changes I made to service file to close the port \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"30088\"), \" again and let's use it for the Grafana service instead:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"kubectl edit svc kube-prometheus-grafana -n monitoring\\n\")), mdx(\"p\", null, \"And you should now be greeted by the beautiful Grafana user interface:\"), mdx(\"hr\", null), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"812px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"72.29064039408867%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0px\",\n      \"left\": \"0px\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/178ed54412f939b3f58e5734df1ff176/a9925/kubernetes_logging_09.webp 256w\", \"/static/178ed54412f939b3f58e5734df1ff176/5406f/kubernetes_logging_09.webp 512w\", \"/static/178ed54412f939b3f58e5734df1ff176/63188/kubernetes_logging_09.webp 812w\"],\n    \"sizes\": \"(max-width: 812px) 100vw, 812px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/178ed54412f939b3f58e5734df1ff176/2c438/kubernetes_logging_09.png 256w\", \"/static/178ed54412f939b3f58e5734df1ff176/53eb4/kubernetes_logging_09.png 512w\", \"/static/178ed54412f939b3f58e5734df1ff176/00556/kubernetes_logging_09.png 812w\"],\n    \"sizes\": \"(max-width: 812px) 100vw, 812px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0px\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0px\",\n      \"left\": \"0px\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/178ed54412f939b3f58e5734df1ff176/00556/kubernetes_logging_09.png\",\n    \"alt\": \"A Kubernetes Cluster & Microservices\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"hr\", null), mdx(\"h2\", {\n    \"id\": \"the-elk-stack\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#the-elk-stack\",\n    \"aria-label\": \"the elk stack permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"The ELK Stack\"), mdx(\"p\", null, \"We build a Kubernetes cluster with a couple of micro services in the previous step and saw that we can get access to Kubernetes logs for each pod by first finding out it's name and then using the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"logs\"), \" command:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"kubectl get pods\\nkubectl logs webapp-774b78689-l9ftr\\n\")), mdx(\"hr\", null), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"805px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"21.490683229813662%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0px\",\n      \"left\": \"0px\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/8da96ed6f6bb64a3ad11dff3afcbc5cd/a9925/kubernetes_logging_01.webp 256w\", \"/static/8da96ed6f6bb64a3ad11dff3afcbc5cd/5406f/kubernetes_logging_01.webp 512w\", \"/static/8da96ed6f6bb64a3ad11dff3afcbc5cd/688d4/kubernetes_logging_01.webp 805w\"],\n    \"sizes\": \"(max-width: 805px) 100vw, 805px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/8da96ed6f6bb64a3ad11dff3afcbc5cd/2c438/kubernetes_logging_01.png 256w\", \"/static/8da96ed6f6bb64a3ad11dff3afcbc5cd/53eb4/kubernetes_logging_01.png 512w\", \"/static/8da96ed6f6bb64a3ad11dff3afcbc5cd/b98f1/kubernetes_logging_01.png 805w\"],\n    \"sizes\": \"(max-width: 805px) 100vw, 805px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0px\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0px\",\n      \"left\": \"0px\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/8da96ed6f6bb64a3ad11dff3afcbc5cd/b98f1/kubernetes_logging_01.png\",\n    \"alt\": \"A Kubernetes Cluster & Microservices\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"hr\", null), mdx(\"p\", null, \"But it is really cumbersome to do when you have a large number of pods running. Also some information might be logged inside the container itself and are ephemeral in nature.\"), mdx(\"p\", null, \"The most common solution for a distributed logging system is the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.elastic.co\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"ElasticStack\"), \" - also called the ELK stack as it is traditionally build on three blocks:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://hub.docker.com/_/elasticsearch\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"Elasticsearch\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://hub.docker.com/_/logstash\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"Logstash\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://hub.docker.com/_/kibana\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"Kibana\"))), mdx(\"p\", null, \"We are going to switch Logstash with \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.fluentd.org\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"Fluentd\"), \". \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Fluentd\"), \" is an open source data collector, which lets you unify the data collection and consumption for a better use and understanding of data. We are going to use it to connect to our pods, find active logs and collect them and offers a JSON structured downstream that we are going to feed into the Elasticsearch database. FluentD will have to be \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"installed on every node\"), \" inside our cluster - this is done by configuring it as a \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://kubernetes.io/docs/concepts/workloads/controllers/daemonset/\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"DaemonSet\"), \" instead of a \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"ReplicaSet\"), \".\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Elasticsearch\"), \" is a distributed, RESTful search and analytics engine and will be used to store the data collected by FluentD in a NoSQL fashion. The distributed nature of Elasticsearch allows us to easily combine one or more instances of the database into a cluster. It is recommended to have \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"at least 2 instances\"), \" running to ensure fail-over security. The Elasticsearch pod will also be created in a special kind of \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"ReplicaSet\"), \" called a \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"StatefulSet\"), \". This ensures that the pods will not be assigned random names, but will always be called by their assigned pod name (\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"elasticsearch-logging\"), \") followed by an incremental number \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"-0\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"-1\"), \", etc - this is needed for pods that need to be clustered.\"), mdx(\"p\", null, \"And last we have the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Kibana\"), \" frontend that lets you visualize the Elasticsearch data. So that hopefully we can extract some useful information from it - without having to sift through Gigabytes of hard to read Kubernetes logs. The frontend will only be used when we log in to check our logs. It is therefore sufficient to \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"only run 1 instance\"), \" as it is not a critical infrastructure.\"), mdx(\"h3\", {\n    \"id\": \"installation\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#installation\",\n    \"aria-label\": \"installation permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Installation\"), mdx(\"p\", null, \"We are going to use a ready-2-go image from Kubernetes to \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/kubernetes/kubernetes/tree/master/cluster/addons/fluentd-elasticsearch\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"install FluentD, Kibana and Elasticsearch\"), \". This repository contains both the YAML config files for Kubernetes as well as the information for build the required images for the three components. We only need to download the YAML files and download them to the directory where you stored the cluster configuration. When you downloaded all 6 files apply all of them to your cluster:\"), mdx(\"hr\", null), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"812px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"59.60591133004927%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0px\",\n      \"left\": \"0px\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/60e5767b45d938e0db794b0eb22ed8c2/a9925/kubernetes_logging_02.webp 256w\", \"/static/60e5767b45d938e0db794b0eb22ed8c2/5406f/kubernetes_logging_02.webp 512w\", \"/static/60e5767b45d938e0db794b0eb22ed8c2/63188/kubernetes_logging_02.webp 812w\"],\n    \"sizes\": \"(max-width: 812px) 100vw, 812px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/60e5767b45d938e0db794b0eb22ed8c2/2c438/kubernetes_logging_02.png 256w\", \"/static/60e5767b45d938e0db794b0eb22ed8c2/53eb4/kubernetes_logging_02.png 512w\", \"/static/60e5767b45d938e0db794b0eb22ed8c2/00556/kubernetes_logging_02.png 812w\"],\n    \"sizes\": \"(max-width: 812px) 100vw, 812px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0px\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0px\",\n      \"left\": \"0px\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/60e5767b45d938e0db794b0eb22ed8c2/00556/kubernetes_logging_02.png\",\n    \"alt\": \"A Kubernetes Cluster & Microservices\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"hr\", null), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"kubectl apply -f .\\nkubectl get all -n kube-system\\n\")), mdx(\"hr\", null), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"799px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"90.2377972465582%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0px\",\n      \"left\": \"0px\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/482ab228ad18a6f9d35bc4357ad66076/a9925/kubernetes_logging_03.webp 256w\", \"/static/482ab228ad18a6f9d35bc4357ad66076/5406f/kubernetes_logging_03.webp 512w\", \"/static/482ab228ad18a6f9d35bc4357ad66076/22048/kubernetes_logging_03.webp 799w\"],\n    \"sizes\": \"(max-width: 799px) 100vw, 799px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/482ab228ad18a6f9d35bc4357ad66076/2c438/kubernetes_logging_03.png 256w\", \"/static/482ab228ad18a6f9d35bc4357ad66076/53eb4/kubernetes_logging_03.png 512w\", \"/static/482ab228ad18a6f9d35bc4357ad66076/42ee4/kubernetes_logging_03.png 799w\"],\n    \"sizes\": \"(max-width: 799px) 100vw, 799px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0px\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0px\",\n      \"left\": \"0px\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/482ab228ad18a6f9d35bc4357ad66076/42ee4/kubernetes_logging_03.png\",\n    \"alt\": \"A Kubernetes Cluster & Microservices\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"hr\", null), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"TBC\")), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/helm/charts/tree/master/stable/elastic-stack\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"https://github.com/helm/charts/tree/master/stable/elastic-stack\")), mdx(\"p\", null, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/kiwigrid/helm-charts/tree/master/charts/fluentd-elasticsearch\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"https://github.com/kiwigrid/helm-charts/tree/master/charts/fluentd-elasticsearch\")));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"Prometheus and Grafana Helm Installation Prometheus Installation The ELK Stack Installation Prometheus and Grafana Prometheus  is an open…","frontmatter":{"title":"Kubernetes Cluster Monitoring & Logging","date":"01/19/2019","categories":["LINUX","Docker","Kubernetes"]},"timeToRead":4,"parent":{"__typename":"File","mtime":"2019-07-07T14:13:50.806Z","birthtime":"2019-07-07T14:12:29.751Z"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/kubernetes-cluster-monitoring-logging","prev":{"fields":{"slug":"/kubernetes-and-microservices"},"frontmatter":{"title":"Kubernetes and Microservices","categories":["LINUX","Docker","Kubernetes"]}},"next":{"fields":{"slug":"/kubernetes-nginx-https-service"},"frontmatter":{"title":"Kubernetes NGINX https Service","categories":["LINUX","Docker","Kubernetes","NGINX"]}}}}}