{"componentChunkName":"component---src-templates-post-jsx","path":"/securing-elasticsearch-with-x-pack","webpackCompilationHash":"3cc984e4373ee65977fd","result":{"data":{"mdx":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"date\": \"2017-12-31\",\n  \"title\": \"Securing Elasticsearch with X-Pack\",\n  \"categories\": [\"LINUX\", \"Elasticsearch\"]\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1024px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"43.733333333333334%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/af171eafea9b6cde5364fd0925dbceac/a9925/photo-11627765794_33a4cf2a0c_o.webp 256w\", \"/static/af171eafea9b6cde5364fd0925dbceac/5406f/photo-11627765794_33a4cf2a0c_o.webp 512w\", \"/static/af171eafea9b6cde5364fd0925dbceac/ae385/photo-11627765794_33a4cf2a0c_o.webp 1024w\", \"/static/af171eafea9b6cde5364fd0925dbceac/2cd02/photo-11627765794_33a4cf2a0c_o.webp 1500w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/af171eafea9b6cde5364fd0925dbceac/2c438/photo-11627765794_33a4cf2a0c_o.png 256w\", \"/static/af171eafea9b6cde5364fd0925dbceac/53eb4/photo-11627765794_33a4cf2a0c_o.png 512w\", \"/static/af171eafea9b6cde5364fd0925dbceac/e0e05/photo-11627765794_33a4cf2a0c_o.png 1024w\", \"/static/af171eafea9b6cde5364fd0925dbceac/10439/photo-11627765794_33a4cf2a0c_o.png 1500w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/af171eafea9b6cde5364fd0925dbceac/e0e05/photo-11627765794_33a4cf2a0c_o.png\",\n    \"alt\": \"Battambang, Cambodia\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#install-x-pack\"\n  }), \"Install X-Pack\"), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#elasticsearch-security\"\n  }), \"Elasticsearch Security\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#kibana-security\"\n  }), \"Kibana Security\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#enabling-anonymous-access\"\n  }), \"Enabling Anonymous Access\"))))), mdx(\"p\", null, \"In an earlier project we set up Elasticsearch to only be accessible via localhost to protect our data. This worked well, since we build our static website server side in Node/Express/EJS and send ready HTML to our client - already containing the rendered response from the database. But what if our app runs client-side?\"), mdx(\"p\", null, \"The official solution is part of the Elastic Extension Pack, which contains a lot of functionality that you might not really need - and comes at a prize that isn't quoted anywhere... That isn't very inviting ~ but lets take a look at it before turning to some free open source alternatives:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://www.elastic.co/downloads/x-pack\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"Elastic X-Pack\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/floragunncom/search-guard\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"SearchGuard\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/sscarduzio/elasticsearch-readonlyrest-plugin\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"ReadOnlyREST\"))), mdx(\"h2\", {\n    \"id\": \"install-x-pack\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#install-x-pack\",\n    \"aria-label\": \"install x pack permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Install X-Pack\"), mdx(\"p\", null, \"X-Pack is a single extension that integrates handy features \\u2014 security, alerting, monitoring, reporting, graph exploration, and machine learning \\u2014 you can trust across the Elastic Stack.\"), mdx(\"h3\", {\n    \"id\": \"elasticsearch-security\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#elasticsearch-security\",\n    \"aria-label\": \"elasticsearch security permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Elasticsearch Security\"), mdx(\"p\", null, \"We need to add a user athentication to our Elasticsearch / Kibana setup. We will do this by installing X-Pack. To get started with installing the Elasticsearch plugin, go to \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"/etc/elasticsearch/\"), \" and call the following function:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"bin/elasticsearch-plugin install x-pack\\n\")), mdx(\"p\", null, \"Now restart Elasticsearch:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"sudo systemctl stop elasticsearch.service\\nsudo systemctl start elasticsearch.service\\n\")), mdx(\"p\", null, \"You can either use the auto function to generate user passwords for Elasticsearch, Kibana (and the not yet installed Logstash):\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"bin/x-pack/setup-passwords auto\\n\")), mdx(\"p\", null, \"or swap the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"auto\"), \" flag with \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"interactive\"), \" to use your own user logins. The auto output will look something like this:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"Changed password for user kibana \\nPASSWORD kibana = *&$*(80gfddzg\\n\\nChanged password for user logstash_system\\nPASSWORD logstash_system = 58#$)Qljfksh\\n\\nChanged password for user elastic\\nPASSWORD elastic = jgfisg)#*%&(@*#)\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Now every interaction with Elasticsearch or Kibana will require you to authenticate with \", mdx(\"em\", {\n    parentName: \"strong\"\n  }, \"username: elastic\"), \" and \", mdx(\"em\", {\n    parentName: \"strong\"\n  }, \"password: jgfisg)#\", mdx(\"em\", {\n    parentName: \"em\"\n  }, \"%&(@\"), \"#)\"))), mdx(\"h3\", {\n    \"id\": \"kibana-security\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#kibana-security\",\n    \"aria-label\": \"kibana security permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Kibana Security\"), mdx(\"p\", null, \"Now we repeat these steps with Kibana. First navigate to \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"/etc/kibana/\"), \" and call the following function:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"bin/kibana-plugin install x-pack\\n\")), mdx(\"p\", null, \"And we have to add the login that Kibana has to use to access Elasticsearch (auto generated above) to the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"kibana.yml\"), \" file in \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"/etc/kibana/\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"elasticsearch.username: \\\"kibana\\\"\\nelasticsearch.password:  \\\"*&$*(80gfddzg\\\"\\n\")), mdx(\"p\", null, \"Now restart Kibana:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"sudo systemctl stop kibana.service\\nsudo systemctl start kibana.service\\n\")), mdx(\"p\", null, \"Now navigate your browser \", mdx(\"em\", {\n    parentName: \"p\"\n  }, mdx(\"a\", _extends({\n    parentName: \"em\"\n  }, {\n    \"href\": \"http://localhost:5601/\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"http://localhost:5601/\")), \" and login with the \\\"elastic\\\" user we generated above.\"), mdx(\"h3\", {\n    \"id\": \"enabling-anonymous-access\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#enabling-anonymous-access\",\n    \"aria-label\": \"enabling anonymous access permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Enabling Anonymous Access\"), mdx(\"p\", null, \"Incoming requests are considered to be anonymous if no authentication token can be extracted from the incoming request. By default, anonymous requests are rejected and an authentication error is returned (status code 401). To allow anonymous user to send search queries (Read access to specified indices), we need to add the following lines to the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"elasticsearch.yml\"), \" file in \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"/etc/elasticsearch/\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"xpack.security.authc:\\n  anonymous:\\n    username: anonymous_user \\n    roles: wiki_reader \\n    authz_exception: true \\n\")), mdx(\"p\", null, \"Now we have to switch to the Kibana webUI on \", mdx(\"em\", {\n    parentName: \"p\"\n  }, mdx(\"a\", _extends({\n    parentName: \"em\"\n  }, {\n    \"href\": \"http://localhost:5601/\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"http://localhost:5601/\")), \" and create the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"role:\"), \" \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"wiki_reader\"), \" to allow read access to the wiki indices. First switch to the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Management\"), \" tab and click on user:\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1024px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"51.8139534883721%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/c9a531800e728519d6d4bbf580438842/a9925/kibana_01.webp 256w\", \"/static/c9a531800e728519d6d4bbf580438842/5406f/kibana_01.webp 512w\", \"/static/c9a531800e728519d6d4bbf580438842/ae385/kibana_01.webp 1024w\", \"/static/c9a531800e728519d6d4bbf580438842/05e48/kibana_01.webp 1075w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/c9a531800e728519d6d4bbf580438842/2c438/kibana_01.png 256w\", \"/static/c9a531800e728519d6d4bbf580438842/53eb4/kibana_01.png 512w\", \"/static/c9a531800e728519d6d4bbf580438842/e0e05/kibana_01.png 1024w\", \"/static/c9a531800e728519d6d4bbf580438842/ca0cb/kibana_01.png 1075w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/c9a531800e728519d6d4bbf580438842/e0e05/kibana_01.png\",\n    \"alt\": \"Add a Elasticsearch User with Read Access\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"p\", null, \"Then click on \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Add a User\"), \" and add a user with the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"watcher_user\"), \" role:\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1024px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"45.36170212765957%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/adc70e430693671259fe869778965e9f/a9925/kibana_02.webp 256w\", \"/static/adc70e430693671259fe869778965e9f/5406f/kibana_02.webp 512w\", \"/static/adc70e430693671259fe869778965e9f/ae385/kibana_02.webp 1024w\", \"/static/adc70e430693671259fe869778965e9f/a2568/kibana_02.webp 1175w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/adc70e430693671259fe869778965e9f/2c438/kibana_02.png 256w\", \"/static/adc70e430693671259fe869778965e9f/53eb4/kibana_02.png 512w\", \"/static/adc70e430693671259fe869778965e9f/e0e05/kibana_02.png 1024w\", \"/static/adc70e430693671259fe869778965e9f/e2ac8/kibana_02.png 1175w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/adc70e430693671259fe869778965e9f/e0e05/kibana_02.png\",\n    \"alt\": \"Add a Elasticsearch User with Read Access\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"p\", null, \"Switch back to the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Management\"), \" tab and click on role:\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1024px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"52.18604651162791%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/8534892360f85303c447addd712a0031/a9925/kibana_03.webp 256w\", \"/static/8534892360f85303c447addd712a0031/5406f/kibana_03.webp 512w\", \"/static/8534892360f85303c447addd712a0031/ae385/kibana_03.webp 1024w\", \"/static/8534892360f85303c447addd712a0031/05e48/kibana_03.webp 1075w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/8534892360f85303c447addd712a0031/2c438/kibana_03.png 256w\", \"/static/8534892360f85303c447addd712a0031/53eb4/kibana_03.png 512w\", \"/static/8534892360f85303c447addd712a0031/e0e05/kibana_03.png 1024w\", \"/static/8534892360f85303c447addd712a0031/ca0cb/kibana_03.png 1075w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/8534892360f85303c447addd712a0031/e0e05/kibana_03.png\",\n    \"alt\": \"Add a Elasticsearch User with Read Access\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"p\", null, \"Click on \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Create Role\"), \" and add the name \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"wiki_reader\"), \" that we choose for the role of the anonymous user inside the elasticsearch.yml file, assign the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"monitor_watcher\"), \" privilege and choose the indices that you want the anonymous user to have \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"READ\"), \" access to:\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1024px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"67.25581395348837%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/31e9fc5fad4988a0dae14a068f6d9bfe/a9925/kibana_04.webp 256w\", \"/static/31e9fc5fad4988a0dae14a068f6d9bfe/5406f/kibana_04.webp 512w\", \"/static/31e9fc5fad4988a0dae14a068f6d9bfe/ae385/kibana_04.webp 1024w\", \"/static/31e9fc5fad4988a0dae14a068f6d9bfe/05e48/kibana_04.webp 1075w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/31e9fc5fad4988a0dae14a068f6d9bfe/2c438/kibana_04.png 256w\", \"/static/31e9fc5fad4988a0dae14a068f6d9bfe/53eb4/kibana_04.png 512w\", \"/static/31e9fc5fad4988a0dae14a068f6d9bfe/e0e05/kibana_04.png 1024w\", \"/static/31e9fc5fad4988a0dae14a068f6d9bfe/ca0cb/kibana_04.png 1075w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/31e9fc5fad4988a0dae14a068f6d9bfe/e0e05/kibana_04.png\",\n    \"alt\": \"Add a Elasticsearch User with Read Access\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"p\", null, \"Your configuration will be active after restarting Elasticsearch. Now you can use webservices to read from your ES database. But only the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"elastic\"), \" user has the privileg to \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"WRITE\"), \" and to work in Kibana.\"));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"Install X-Pack Elasticsearch Security Kibana Security Enabling Anonymous Access In an earlier project we set up Elasticsearch to only be…","frontmatter":{"title":"Securing Elasticsearch with X-Pack","date":"12/31/2017","categories":["LINUX","Elasticsearch"]},"timeToRead":2,"parent":{"__typename":"File","mtime":"2019-07-07T12:08:25.330Z","birthtime":"2019-07-07T12:07:37.198Z"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/securing-elasticsearch-with-x-pack","prev":{"fields":{"slug":"/nginx-node-js-security"},"frontmatter":{"title":"NGINX, Node.js & Security","categories":["LINUX","NGINX"]}},"next":{"fields":{"slug":"/securing-elasticsearch-with-read-only-rest"},"frontmatter":{"title":"Securing Elasticsearch with ReadOnlyREST","categories":["LINUX","Elasticsearch"]}}}}}