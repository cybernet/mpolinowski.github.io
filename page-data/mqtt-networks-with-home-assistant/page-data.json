{"componentChunkName":"component---src-templates-post-jsx","path":"/mqtt-networks-with-home-assistant","result":{"data":{"mdx":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"date\": \"2019-08-11\",\n  \"title\": \"MQTT Networks with Home Assistant\",\n  \"categories\": [\"MQTT\", \"Smarthome\", \"IoT\"]\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1024px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"41.8%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/5d486065e82c221b73e174b5d2e0afde/8d3d1/photo-kt456d_645dhfh6dgjkhg4_d.webp 256w\", \"/static/5d486065e82c221b73e174b5d2e0afde/354cf/photo-kt456d_645dhfh6dgjkhg4_d.webp 512w\", \"/static/5d486065e82c221b73e174b5d2e0afde/44907/photo-kt456d_645dhfh6dgjkhg4_d.webp 1024w\", \"/static/5d486065e82c221b73e174b5d2e0afde/9579c/photo-kt456d_645dhfh6dgjkhg4_d.webp 1500w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/5d486065e82c221b73e174b5d2e0afde/8f7a7/photo-kt456d_645dhfh6dgjkhg4_d.jpg 256w\", \"/static/5d486065e82c221b73e174b5d2e0afde/9bced/photo-kt456d_645dhfh6dgjkhg4_d.jpg 512w\", \"/static/5d486065e82c221b73e174b5d2e0afde/7c71a/photo-kt456d_645dhfh6dgjkhg4_d.jpg 1024w\", \"/static/5d486065e82c221b73e174b5d2e0afde/d7ea4/photo-kt456d_645dhfh6dgjkhg4_d.jpg 1500w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/jpeg\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/5d486065e82c221b73e174b5d2e0afde/7c71a/photo-kt456d_645dhfh6dgjkhg4_d.jpg\",\n    \"alt\": \"Taipa, Macau\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#home-assistant-installation-on-a-raspberry-pi\"\n  }), \"Home Assistant Installation on a Raspberry Pi\"), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#mqtt-binding\"\n  }), \"MQTT Binding\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#testing-our-mqtt-service\"\n  }), \"Testing our MQTT Service\")))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#adding-a-ui-switch\"\n  }), \"Adding a UI Switch\"), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#switch-component\"\n  }), \"Switch Component\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#configuring-the-user-interface\"\n  }), \"Configuring the User Interface\")))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#adding-your-cameras-live-video\"\n  }), \"Adding your Cameras Live Video\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#adding-a-ui-push-button\"\n  }), \"Adding a UI Push Button\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#automations\"\n  }), \"Automations\"), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#testing-our-service\"\n  }), \"Testing our Service\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#daynight-switching-detection-areas\"\n  }), \"Day/Night Switching Detection Areas\")))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#using-home-assistant-as-the-alarmserver-for-your-camera\"\n  }), \"Using Home Assistant as the Alarmserver for your Camera\"))), mdx(\"h2\", {\n    \"id\": \"home-assistant-installation-on-a-raspberry-pi\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#home-assistant-installation-on-a-raspberry-pi\",\n    \"aria-label\": \"home assistant installation on a raspberry pi permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Home Assistant Installation on a Raspberry Pi\"), mdx(\"p\", null, \"Following the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.home-assistant.io/docs/installation/raspberry-pi/\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"installation instruction\"), \" and the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.home-assistant.io/docs/autostart/systemd/\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"SystemD Service Setup\"), \" it turned out to be a breeze to install HASS on our Raspberry Pi 3 with \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://www.raspberrypi.org/downloads/raspbian/\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"Raspbian Buster\"), \".\"), mdx(\"h3\", {\n    \"id\": \"mqtt-binding\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#mqtt-binding\",\n    \"aria-label\": \"mqtt binding permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"MQTT Binding\"), mdx(\"p\", null, \"We noticed that now you are able to add an MQTT broker already during the initial setup. There is no longer the need for doing this inside the configuration YAML files:\"), mdx(\"hr\", null), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1024px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"50.09615384615385%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/f7f784622de4d04f2b1700c4963dae39/8d3d1/Home_Assistant_01.webp 256w\", \"/static/f7f784622de4d04f2b1700c4963dae39/354cf/Home_Assistant_01.webp 512w\", \"/static/f7f784622de4d04f2b1700c4963dae39/44907/Home_Assistant_01.webp 1024w\", \"/static/f7f784622de4d04f2b1700c4963dae39/864c4/Home_Assistant_01.webp 1040w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/f7f784622de4d04f2b1700c4963dae39/b1806/Home_Assistant_01.png 256w\", \"/static/f7f784622de4d04f2b1700c4963dae39/7572d/Home_Assistant_01.png 512w\", \"/static/f7f784622de4d04f2b1700c4963dae39/9e490/Home_Assistant_01.png 1024w\", \"/static/f7f784622de4d04f2b1700c4963dae39/7fe6a/Home_Assistant_01.png 1040w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/f7f784622de4d04f2b1700c4963dae39/9e490/Home_Assistant_01.png\",\n    \"alt\": \"Home Assistant with your INSTAR IP Camera\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"hr\", null), mdx(\"p\", null, \"When you access the UI for the first time click on adding an extension and choose MQTT from the list. Now type in your INSTAR IP camera IP address (e.g. \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"192.168.2.165\"), \") followed by the port \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"1883\"), \" and your INSTAR MQTT Broker login.\"), mdx(\"hr\", null), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1024px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"28.475551294343244%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/ddbc7f000fdc6cae56a864316c5449e1/8d3d1/Home_Assistant_02.webp 256w\", \"/static/ddbc7f000fdc6cae56a864316c5449e1/354cf/Home_Assistant_02.webp 512w\", \"/static/ddbc7f000fdc6cae56a864316c5449e1/44907/Home_Assistant_02.webp 1024w\", \"/static/ddbc7f000fdc6cae56a864316c5449e1/92ef2/Home_Assistant_02.webp 1043w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/ddbc7f000fdc6cae56a864316c5449e1/b1806/Home_Assistant_02.png 256w\", \"/static/ddbc7f000fdc6cae56a864316c5449e1/7572d/Home_Assistant_02.png 512w\", \"/static/ddbc7f000fdc6cae56a864316c5449e1/9e490/Home_Assistant_02.png 1024w\", \"/static/ddbc7f000fdc6cae56a864316c5449e1/c5253/Home_Assistant_02.png 1043w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/ddbc7f000fdc6cae56a864316c5449e1/9e490/Home_Assistant_02.png\",\n    \"alt\": \"Home Assistant with your INSTAR IP Camera\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"hr\", null), mdx(\"p\", null, \"If you already installed Home Assistant, go to \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Settings\"), \" and \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Integrations\"), \" and select to add the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"MQTT Broker\"), \" there:\"), mdx(\"hr\", null), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"866px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"80.94688221709008%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/c115449d2e707cd5426eb8f6cc5befad/8d3d1/Home_Assistant_03.webp 256w\", \"/static/c115449d2e707cd5426eb8f6cc5befad/354cf/Home_Assistant_03.webp 512w\", \"/static/c115449d2e707cd5426eb8f6cc5befad/251ed/Home_Assistant_03.webp 866w\"],\n    \"sizes\": \"(max-width: 866px) 100vw, 866px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/c115449d2e707cd5426eb8f6cc5befad/b1806/Home_Assistant_03.png 256w\", \"/static/c115449d2e707cd5426eb8f6cc5befad/7572d/Home_Assistant_03.png 512w\", \"/static/c115449d2e707cd5426eb8f6cc5befad/b6f06/Home_Assistant_03.png 866w\"],\n    \"sizes\": \"(max-width: 866px) 100vw, 866px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/c115449d2e707cd5426eb8f6cc5befad/b6f06/Home_Assistant_03.png\",\n    \"alt\": \"Home Assistant with your INSTAR IP Camera\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"879px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"29.92036405005688%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/c265d921d38a04a1a3b84e3b3e3a98a1/8d3d1/Home_Assistant_04.webp 256w\", \"/static/c265d921d38a04a1a3b84e3b3e3a98a1/354cf/Home_Assistant_04.webp 512w\", \"/static/c265d921d38a04a1a3b84e3b3e3a98a1/582ec/Home_Assistant_04.webp 879w\"],\n    \"sizes\": \"(max-width: 879px) 100vw, 879px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/c265d921d38a04a1a3b84e3b3e3a98a1/b1806/Home_Assistant_04.png 256w\", \"/static/c265d921d38a04a1a3b84e3b3e3a98a1/7572d/Home_Assistant_04.png 512w\", \"/static/c265d921d38a04a1a3b84e3b3e3a98a1/caeda/Home_Assistant_04.png 879w\"],\n    \"sizes\": \"(max-width: 879px) 100vw, 879px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/c265d921d38a04a1a3b84e3b3e3a98a1/caeda/Home_Assistant_04.png\",\n    \"alt\": \"Home Assistant with your INSTAR IP Camera\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"hr\", null), mdx(\"h3\", {\n    \"id\": \"testing-our-mqtt-service\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#testing-our-mqtt-service\",\n    \"aria-label\": \"testing our mqtt service permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Testing our MQTT Service\"), mdx(\"p\", null, \"To test if everything is working, we need to go to \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Developer Tools\"), \" and \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"MQTT\"), \". Here we can setup a subscription for the topic (\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Listen to a topic\"), \") \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"instar/000389888811/status/alarm/area1/enable\"), \" (please replace the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"000389888811\"), \" part with the MAC address of your camera).\"), mdx(\"hr\", null), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"862px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"93.73549883990718%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/8639f8df9024576d11e7c50f6136ef94/8d3d1/Home_Assistant_05.webp 256w\", \"/static/8639f8df9024576d11e7c50f6136ef94/354cf/Home_Assistant_05.webp 512w\", \"/static/8639f8df9024576d11e7c50f6136ef94/c1c7f/Home_Assistant_05.webp 862w\"],\n    \"sizes\": \"(max-width: 862px) 100vw, 862px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/8639f8df9024576d11e7c50f6136ef94/b1806/Home_Assistant_05.png 256w\", \"/static/8639f8df9024576d11e7c50f6136ef94/7572d/Home_Assistant_05.png 512w\", \"/static/8639f8df9024576d11e7c50f6136ef94/fb3ee/Home_Assistant_05.png 862w\"],\n    \"sizes\": \"(max-width: 862px) 100vw, 862px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/8639f8df9024576d11e7c50f6136ef94/fb3ee/Home_Assistant_05.png\",\n    \"alt\": \"Home Assistant with your INSTAR IP Camera\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"hr\", null), mdx(\"p\", null, \"In the screenshot you can see that we first received an update that the value for this topic was 0: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"{\\\"val\\\":\\\"0\\\"}\"), \". That means that the alarm detection area 1 was deactivated. Now by publishing the value \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"{\\\"val\\\":\\\"1\\\"}\"), \" on the topic \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"instar/000389888811/alarm/area1/enable\"), \" the area gets activated. You can verify this inside your cameras web user interface. You can also deactivate the area again inside the WebUI and see that the MQTT topic switches back to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"{\\\"val\\\":\\\"0\\\"}\"), \".\"), mdx(\"h2\", {\n    \"id\": \"adding-a-ui-switch\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#adding-a-ui-switch\",\n    \"aria-label\": \"adding a ui switch permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Adding a UI Switch\"), mdx(\"p\", null, \"We now know that we are able to subscribe to MQTT status topics on our camera and to update these topics via the corresponding command topic. All we need to do now is to add a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Switch Component\"), \" that does this for us and can be assigned to our Home Assistant dashboard.\"), mdx(\"h3\", {\n    \"id\": \"switch-component\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#switch-component\",\n    \"aria-label\": \"switch component permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Switch Component\"), mdx(\"p\", null, \"To keep our main \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"configuration.yaml\"), \" uncluttered we will create a separate file \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"switches.yaml\"), \" that contains all our MQTT related switches and import this into the configuration by adding the following line: \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"switch: !include switches.yaml\"), \".\"), mdx(\"p\", null, \"We can now add our first switch components - e.g. to activate and deactivate the motion detection areas:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-yaml\"\n  }), \"- platform: mqtt\\n  name: 'Alarm Area 1'\\n  state_topic: 'instar/000389888811/status/alarm/area1/enable'\\n  command_topic: 'instar/000389888811/alarm/area1/enable'\\n  qos: 1\\n  payload_on: '{\\\"val\\\":\\\"1\\\"}'\\n  payload_off: '{\\\"val\\\":\\\"0\\\"}'\\n  optimistic: false\\n  retain: false\\n\\n- platform: mqtt\\n  name: 'Alarm Area 2'\\n  state_topic: 'instar/000389888811/status/alarm/area2/enable'\\n  command_topic: 'instar/000389888811/alarm/area2/enable'\\n  qos: 1\\n  payload_on: '{\\\"val\\\":\\\"1\\\"}'\\n  payload_off: '{\\\"val\\\":\\\"0\\\"}'\\n  optimistic: false\\n  retain: false\\n\\n- platform: mqtt\\n  name: 'Alarm Area 3'\\n  state_topic: 'instar/000389888811/status/alarm/area3/enable'\\n  command_topic: 'instar/000389888811/alarm/area3/enable'\\n  qos: 1\\n  payload_on: '{\\\"val\\\":\\\"1\\\"}'\\n  payload_off: '{\\\"val\\\":\\\"0\\\"}'\\n  optimistic: false\\n  retain: false\\n\\n- platform: mqtt\\n  name: 'Alarm Area 4'\\n  state_topic: 'instar/000389888811/status/alarm/area4/enable'\\n  command_topic: 'instar/000389888811/alarm/area4/enable'\\n  qos: 1\\n  payload_on: '{\\\"val\\\":\\\"1\\\"}'\\n  payload_off: '{\\\"val\\\":\\\"0\\\"}'\\n  optimistic: false\\n  retain: false\\n\")), mdx(\"p\", null, \"For each component - that we assign the switch template to inside our main configuration - we have to define the platform we want to use it on. Now this is the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"mqtt\"), \" platform that we added to Home Assistant.\"), mdx(\"p\", null, \"We have both a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"state\", \"_\", \"topic\"), \" and a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"command\", \"_\", \"topic\"), \". The first one takes the status topic and defines the state our switch is in. The command topic is the one that we use to update the state and trigger our camera to change it's corresponding internal state e.g. switch our alarm area on or off. Here you can use any of the MQTT Topics that belong to functions that are supported by your camera model.\"), mdx(\"p\", null, \"The message payload is in this case either \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"{\\\"val\\\":\\\"1\\\"}\"), \", to switch the area on, or  \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"{\\\"val\\\":\\\"0\\\"}\"), \" to deactivate the area. Those are the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"payload\", \"_\", \"on\"), \" and \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"value\", \"_\", \"payload\"), \" for our switch. Note that you have to surround each one of those with \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"single-tick quotation marks\"), \".\"), mdx(\"p\", null, \"Now we are also able to set some MQTT magic. The first one is \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"qos\"), \" and stands for \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Quality of Service\"), \" - where \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"0\"), \" stands for \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"fire-and-forget\"), \" (your client might loose an status update if it does not receive the message), \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"1\"), \" means that it is verified that a status update is received and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"2\"), \" is not relevant for us here (with a qos value of 2 it is made sure that every update is received but only received once - which is important e.g. when you are recording time series from measuring sensors). \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"optimistic\"), \" has to be used when your device does not have a separate \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"state_topic\"), \" - here you have to assume that the command you just sent worked and the state was updated. With \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"retain\"), \" you can hold on to the value of a topic even if the client or server cannot be reached. But we don't need this for our setup.\"), mdx(\"h3\", {\n    \"id\": \"configuring-the-user-interface\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#configuring-the-user-interface\",\n    \"aria-label\": \"configuring the user interface permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Configuring the User Interface\"), mdx(\"p\", null, \"Now we need to add a new \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"View\"), \" for our camera by switching the UI into the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"configuration mode\"), \":\"), mdx(\"hr\", null), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"868px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"23.963133640552993%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/3cd2a0b72421d4671d78ba0b05c18c54/8d3d1/Home_Assistant_06.webp 256w\", \"/static/3cd2a0b72421d4671d78ba0b05c18c54/354cf/Home_Assistant_06.webp 512w\", \"/static/3cd2a0b72421d4671d78ba0b05c18c54/ad40e/Home_Assistant_06.webp 868w\"],\n    \"sizes\": \"(max-width: 868px) 100vw, 868px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/3cd2a0b72421d4671d78ba0b05c18c54/b1806/Home_Assistant_06.png 256w\", \"/static/3cd2a0b72421d4671d78ba0b05c18c54/7572d/Home_Assistant_06.png 512w\", \"/static/3cd2a0b72421d4671d78ba0b05c18c54/cb461/Home_Assistant_06.png 868w\"],\n    \"sizes\": \"(max-width: 868px) 100vw, 868px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/3cd2a0b72421d4671d78ba0b05c18c54/cb461/Home_Assistant_06.png\",\n    \"alt\": \"Home Assistant with your INSTAR IP Camera\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"hr\", null), mdx(\"p\", null, \"Now click on the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"+\"), \" as highlighted in the screenshot below and add a view for your camera:\"), mdx(\"hr\", null), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"800px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"82.87500000000001%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/eba92e604d7ace202d3da4a7f9f7c6ae/8d3d1/Home_Assistant_07.webp 256w\", \"/static/eba92e604d7ace202d3da4a7f9f7c6ae/354cf/Home_Assistant_07.webp 512w\", \"/static/eba92e604d7ace202d3da4a7f9f7c6ae/47a22/Home_Assistant_07.webp 800w\"],\n    \"sizes\": \"(max-width: 800px) 100vw, 800px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/eba92e604d7ace202d3da4a7f9f7c6ae/b1806/Home_Assistant_07.png 256w\", \"/static/eba92e604d7ace202d3da4a7f9f7c6ae/7572d/Home_Assistant_07.png 512w\", \"/static/eba92e604d7ace202d3da4a7f9f7c6ae/368d4/Home_Assistant_07.png 800w\"],\n    \"sizes\": \"(max-width: 800px) 100vw, 800px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/eba92e604d7ace202d3da4a7f9f7c6ae/368d4/Home_Assistant_07.png\",\n    \"alt\": \"Home Assistant with your INSTAR IP Camera\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"hr\", null), mdx(\"p\", null, \"Switch to the new view and click on the big \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"+\"), \" button to add a card that can contain our MQTT switches:\"), mdx(\"hr\", null), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"805px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"23.975155279503106%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/16276d6a3dfedec5e9a4708df7f6824d/8d3d1/Home_Assistant_08.webp 256w\", \"/static/16276d6a3dfedec5e9a4708df7f6824d/354cf/Home_Assistant_08.webp 512w\", \"/static/16276d6a3dfedec5e9a4708df7f6824d/bdf31/Home_Assistant_08.webp 805w\"],\n    \"sizes\": \"(max-width: 805px) 100vw, 805px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/16276d6a3dfedec5e9a4708df7f6824d/b1806/Home_Assistant_08.png 256w\", \"/static/16276d6a3dfedec5e9a4708df7f6824d/7572d/Home_Assistant_08.png 512w\", \"/static/16276d6a3dfedec5e9a4708df7f6824d/6075d/Home_Assistant_08.png 805w\"],\n    \"sizes\": \"(max-width: 805px) 100vw, 805px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/16276d6a3dfedec5e9a4708df7f6824d/6075d/Home_Assistant_08.png\",\n    \"alt\": \"Home Assistant with your INSTAR IP Camera\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"hr\", null), mdx(\"p\", null, \"Choose an \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Entity Card\"), \" and select all the switches we just added to our configuration. They should show up automatically - if not, try reloading Home Assistant:\"), mdx(\"hr\", null), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"868px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"74.30875576036865%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/e4d8c52b75f5751e11a77b62e95fc4c6/8d3d1/Home_Assistant_09.webp 256w\", \"/static/e4d8c52b75f5751e11a77b62e95fc4c6/354cf/Home_Assistant_09.webp 512w\", \"/static/e4d8c52b75f5751e11a77b62e95fc4c6/ad40e/Home_Assistant_09.webp 868w\"],\n    \"sizes\": \"(max-width: 868px) 100vw, 868px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/e4d8c52b75f5751e11a77b62e95fc4c6/b1806/Home_Assistant_09.png 256w\", \"/static/e4d8c52b75f5751e11a77b62e95fc4c6/7572d/Home_Assistant_09.png 512w\", \"/static/e4d8c52b75f5751e11a77b62e95fc4c6/cb461/Home_Assistant_09.png 868w\"],\n    \"sizes\": \"(max-width: 868px) 100vw, 868px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/e4d8c52b75f5751e11a77b62e95fc4c6/cb461/Home_Assistant_09.png\",\n    \"alt\": \"Home Assistant with your INSTAR IP Camera\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"867px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"66.78200692041523%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/571db5c973df8bd64e9307c9bb86d70e/8d3d1/Home_Assistant_10.webp 256w\", \"/static/571db5c973df8bd64e9307c9bb86d70e/354cf/Home_Assistant_10.webp 512w\", \"/static/571db5c973df8bd64e9307c9bb86d70e/6687e/Home_Assistant_10.webp 867w\"],\n    \"sizes\": \"(max-width: 867px) 100vw, 867px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/571db5c973df8bd64e9307c9bb86d70e/b1806/Home_Assistant_10.png 256w\", \"/static/571db5c973df8bd64e9307c9bb86d70e/7572d/Home_Assistant_10.png 512w\", \"/static/571db5c973df8bd64e9307c9bb86d70e/8deb8/Home_Assistant_10.png 867w\"],\n    \"sizes\": \"(max-width: 867px) 100vw, 867px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/571db5c973df8bd64e9307c9bb86d70e/8deb8/Home_Assistant_10.png\",\n    \"alt\": \"Home Assistant with your INSTAR IP Camera\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"hr\", null), mdx(\"p\", null, \"Quit the configuration mode to get back to the regular UI and you should be able to see your new card with all 4 alarm area switches. Try switching your alarm areas from your cameras Web User Interface - once you apply your settings there all switched inside Home Assistant should react to the state change immediately.\"), mdx(GifContainer, {\n    gifUrl: \"/assets/gif/Home_Assistant_12.gif\",\n    alt: \"Home Assistant with your INSTAR IP Camera\",\n    mdxType: \"GifContainer\"\n  }), mdx(\"h2\", {\n    \"id\": \"adding-your-cameras-live-video\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#adding-your-cameras-live-video\",\n    \"aria-label\": \"adding your cameras live video permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Adding your Cameras Live Video\"), mdx(\"h2\", {\n    \"id\": \"adding-a-ui-push-button\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#adding-a-ui-push-button\",\n    \"aria-label\": \"adding a ui push button permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Adding a UI Push Button\"), mdx(\"p\", null, \"Some of our camera's functions don't have 2 states (on/off) - we just need a button that we can push and it should jump back to idle right after that. Examples are:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Manual Alarm Trigger: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"alarm/pushalarm\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Go to Preset Position: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"features/ptz/preset\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Move Up/Down/Left/Right: \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"features/ptz/move\"), \"  etc.\")), mdx(\"p\", null, \"This can be done in Home Assistant with a script. Make sure that your \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"scripts.yaml\"), \" file exist inside the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \".homeassistant\"), \" folder and is linked into your main \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"configuration.yaml\"), \" - \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"script: !include scripts.yaml\"), \". Then open the scripts file and add the following lines:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-yaml\"\n  }), \"9010_pushalarm:\\n  sequence:\\n    - service: mqtt.publish\\n      data_template:\\n        topic: instar/000389888811/alarm/pushalarm\\n        payload: '{\\\"val\\\":\\\"1\\\"}'\\n        qos: 1\\n\\n9010_gotopos1:\\n  sequence:\\n    - service: mqtt.publish\\n      data_template:\\n        topic: instar/000389888811/features/ptz/preset\\n        payload: '{\\\"val\\\":\\\"0\\\"}'\\n        qos: 1\\n\\n9010_moveright:\\n  sequence:\\n    - service: mqtt.publish\\n      data_template:\\n        topic: instar/000389888811/features/ptz/move\\n        payload: '{\\\"val\\\":\\\"right\\\"}'\\n        qos: 1\\n\\n9010_movestop:\\n  sequence:\\n    - service: mqtt.publish\\n      data_template:\\n        topic: instar/000389888811/features/ptz/move\\n        payload: '{\\\"val\\\":\\\"stop\\\"}'\\n        qos: 1\\n\")), mdx(\"p\", null, \"Choose a name for each script that helps you identify which camera you are addressing, e.g. \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"9010_pushalarm\"), \" and choose the MQTT topics that you want to add in form of buttons to your Home Assistant UI. Note that the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"move command\"), \" will move your camera's PTZ head continuously until you hit the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"stop command\"), \" - don't forget to add the stop button :)\"), mdx(\"p\", null, \"Just like with our \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"#configuring-the-user-interface\"\n  }), \"switches earlier\"), \" we now have to activate the configuration mode inside the Home Assistant Lovelace UI and click on the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"+\"), \" button to add a new \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Entity\"), \":\"), mdx(\"hr\", null), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1024px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"36.02251407129456%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/2b10f5e616e9d356a497fe280256eac5/8d3d1/Home_Assistant_13.webp 256w\", \"/static/2b10f5e616e9d356a497fe280256eac5/354cf/Home_Assistant_13.webp 512w\", \"/static/2b10f5e616e9d356a497fe280256eac5/44907/Home_Assistant_13.webp 1024w\", \"/static/2b10f5e616e9d356a497fe280256eac5/cf96b/Home_Assistant_13.webp 1066w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/2b10f5e616e9d356a497fe280256eac5/b1806/Home_Assistant_13.png 256w\", \"/static/2b10f5e616e9d356a497fe280256eac5/7572d/Home_Assistant_13.png 512w\", \"/static/2b10f5e616e9d356a497fe280256eac5/9e490/Home_Assistant_13.png 1024w\", \"/static/2b10f5e616e9d356a497fe280256eac5/f82f9/Home_Assistant_13.png 1066w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/2b10f5e616e9d356a497fe280256eac5/9e490/Home_Assistant_13.png\",\n    \"alt\": \"Home Assistant with your INSTAR IP Camera\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1024px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"35.360149672591206%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/a3ec22fcd1773b6fa608a7c511239a8c/8d3d1/Home_Assistant_14.webp 256w\", \"/static/a3ec22fcd1773b6fa608a7c511239a8c/354cf/Home_Assistant_14.webp 512w\", \"/static/a3ec22fcd1773b6fa608a7c511239a8c/44907/Home_Assistant_14.webp 1024w\", \"/static/a3ec22fcd1773b6fa608a7c511239a8c/3828b/Home_Assistant_14.webp 1069w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/a3ec22fcd1773b6fa608a7c511239a8c/b1806/Home_Assistant_14.png 256w\", \"/static/a3ec22fcd1773b6fa608a7c511239a8c/7572d/Home_Assistant_14.png 512w\", \"/static/a3ec22fcd1773b6fa608a7c511239a8c/9e490/Home_Assistant_14.png 1024w\", \"/static/a3ec22fcd1773b6fa608a7c511239a8c/8dee2/Home_Assistant_14.png 1069w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/a3ec22fcd1773b6fa608a7c511239a8c/9e490/Home_Assistant_14.png\",\n    \"alt\": \"Home Assistant with your INSTAR IP Camera\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"hr\", null), mdx(\"p\", null, \"Now select the script you want to assign to this button from the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Entity List\"), \" and name the card. Unfortunately, the UI does not yet give us the option to add a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"name\"), \" and icon to the selected script. But if you click on the two wavy brackets - highlighted here (red arrow):\"), mdx(\"hr\", null), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1024px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"58.57142857142858%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/02f11356829e9b21886bd92a7a668b7a/8d3d1/Home_Assistant_15.webp 256w\", \"/static/02f11356829e9b21886bd92a7a668b7a/354cf/Home_Assistant_15.webp 512w\", \"/static/02f11356829e9b21886bd92a7a668b7a/44907/Home_Assistant_15.webp 1024w\", \"/static/02f11356829e9b21886bd92a7a668b7a/7e3cb/Home_Assistant_15.webp 1050w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/02f11356829e9b21886bd92a7a668b7a/b1806/Home_Assistant_15.png 256w\", \"/static/02f11356829e9b21886bd92a7a668b7a/7572d/Home_Assistant_15.png 512w\", \"/static/02f11356829e9b21886bd92a7a668b7a/9e490/Home_Assistant_15.png 1024w\", \"/static/02f11356829e9b21886bd92a7a668b7a/c9daa/Home_Assistant_15.png 1050w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/02f11356829e9b21886bd92a7a668b7a/9e490/Home_Assistant_15.png\",\n    \"alt\": \"Home Assistant with your INSTAR IP Camera\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"hr\", null), mdx(\"p\", null, \"You can add them manually into the entity definition:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-yaml\"\n  }), \"entities:\\n  - entity: script.9010_pushalarm\\n    icon: 'mdi:bell'\\n    name: IN-9010 FHD\\nshow_header_toggle: false\\ntitle: Trigger Alarm\\ntype: entities\\n\")), mdx(\"hr\", null), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1024px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"53.05343511450381%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/765ac9c8d054784e916f2186b3fdd524/8d3d1/Home_Assistant_16.webp 256w\", \"/static/765ac9c8d054784e916f2186b3fdd524/354cf/Home_Assistant_16.webp 512w\", \"/static/765ac9c8d054784e916f2186b3fdd524/44907/Home_Assistant_16.webp 1024w\", \"/static/765ac9c8d054784e916f2186b3fdd524/7252e/Home_Assistant_16.webp 1048w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/765ac9c8d054784e916f2186b3fdd524/b1806/Home_Assistant_16.png 256w\", \"/static/765ac9c8d054784e916f2186b3fdd524/7572d/Home_Assistant_16.png 512w\", \"/static/765ac9c8d054784e916f2186b3fdd524/9e490/Home_Assistant_16.png 1024w\", \"/static/765ac9c8d054784e916f2186b3fdd524/eeba2/Home_Assistant_16.png 1048w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/765ac9c8d054784e916f2186b3fdd524/9e490/Home_Assistant_16.png\",\n    \"alt\": \"Home Assistant with your INSTAR IP Camera\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"hr\", null), mdx(\"p\", null, \"You can choose your icon from the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://cdn.materialdesignicons.com/4.5.95/\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"Material Design Icons\"), \". Note that the button we chose here - \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"icon: 'mdi:bell'\"), \" - is called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"mdi-bell\"), \" in the Material Design documentation and this name has to be changed accordingly for Home Assistant to recognize the icon.\"), mdx(\"hr\", null), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1024px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"66.41294005708849%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/ca08b851f7a83c19d10dac529eea103d/8d3d1/Home_Assistant_17.webp 256w\", \"/static/ca08b851f7a83c19d10dac529eea103d/354cf/Home_Assistant_17.webp 512w\", \"/static/ca08b851f7a83c19d10dac529eea103d/44907/Home_Assistant_17.webp 1024w\", \"/static/ca08b851f7a83c19d10dac529eea103d/a4887/Home_Assistant_17.webp 1051w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/ca08b851f7a83c19d10dac529eea103d/b1806/Home_Assistant_17.png 256w\", \"/static/ca08b851f7a83c19d10dac529eea103d/7572d/Home_Assistant_17.png 512w\", \"/static/ca08b851f7a83c19d10dac529eea103d/9e490/Home_Assistant_17.png 1024w\", \"/static/ca08b851f7a83c19d10dac529eea103d/71858/Home_Assistant_17.png 1051w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/ca08b851f7a83c19d10dac529eea103d/9e490/Home_Assistant_17.png\",\n    \"alt\": \"Home Assistant with your INSTAR IP Camera\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"hr\", null), mdx(\"p\", null, \"Here we added all Pan-Tilt, Preset Position and the Manual Alarm Trigger command to the Lovelace UI.\"), mdx(\"h2\", {\n    \"id\": \"automations\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#automations\",\n    \"aria-label\": \"automations permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Automations\"), mdx(\"p\", null, \"Now that we are able to manually trigger functions on our camera we now want to find a way to automate those processes through Home Assistant. To do this we will first add a prototype service to our \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"services.yaml\"), \" file. This service should be able to receive a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"MQTT Topic\"), \" (\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"target\"), \") and \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"MQTT Payload\"), \" (\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"message\"), \") from an automation in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"automations.yaml\"), \" file. This can be done by adding the following lines into the automation file:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-yaml\"\n  }), \"# MQTT Publish Service\\n\\nsend_mqtt_command:\\n  sequence:\\n    - service: mqtt.publish\\n      data_template:\\n        topic: \\\"{{ target }}\\\"\\n        payload: \\\"{{ message }}\\\"\\n        qos: 1\\n\")), mdx(\"p\", null, \" Now make sure that the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"automations.yaml\"), \" file exists in the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \".homeassistant\"), \" directory and is linked into the main \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"configuration.yaml\"), \": \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"automation: !include automations.yaml\"), \". Then switch to the Lovelace UI, open the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Configuration Panel\"), \" and select \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Automation\"), \":\"), mdx(\"hr\", null), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"976px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"72.43852459016394%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/eeb2493f5a354fff35e182dab49f3929/8d3d1/Home_Assistant_18.webp 256w\", \"/static/eeb2493f5a354fff35e182dab49f3929/354cf/Home_Assistant_18.webp 512w\", \"/static/eeb2493f5a354fff35e182dab49f3929/bbde0/Home_Assistant_18.webp 976w\"],\n    \"sizes\": \"(max-width: 976px) 100vw, 976px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/eeb2493f5a354fff35e182dab49f3929/b1806/Home_Assistant_18.png 256w\", \"/static/eeb2493f5a354fff35e182dab49f3929/7572d/Home_Assistant_18.png 512w\", \"/static/eeb2493f5a354fff35e182dab49f3929/164e8/Home_Assistant_18.png 976w\"],\n    \"sizes\": \"(max-width: 976px) 100vw, 976px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/eeb2493f5a354fff35e182dab49f3929/164e8/Home_Assistant_18.png\",\n    \"alt\": \"Home Assistant with your INSTAR IP Camera\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"hr\", null), mdx(\"h3\", {\n    \"id\": \"testing-our-service\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#testing-our-service\",\n    \"aria-label\": \"testing our service permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Testing our Service\"), mdx(\"p\", null, \"Click on the red \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"+\"), \" button to add a new automation. Fill out the form as follows:\"), mdx(\"hr\", null), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"971px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"72.60556127703398%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/a02eae81674703ff4b0f10a92428de5e/8d3d1/Home_Assistant_19.webp 256w\", \"/static/a02eae81674703ff4b0f10a92428de5e/354cf/Home_Assistant_19.webp 512w\", \"/static/a02eae81674703ff4b0f10a92428de5e/5a50b/Home_Assistant_19.webp 971w\"],\n    \"sizes\": \"(max-width: 971px) 100vw, 971px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/a02eae81674703ff4b0f10a92428de5e/b1806/Home_Assistant_19.png 256w\", \"/static/a02eae81674703ff4b0f10a92428de5e/7572d/Home_Assistant_19.png 512w\", \"/static/a02eae81674703ff4b0f10a92428de5e/d445e/Home_Assistant_19.png 971w\"],\n    \"sizes\": \"(max-width: 971px) 100vw, 971px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/a02eae81674703ff4b0f10a92428de5e/d445e/Home_Assistant_19.png\",\n    \"alt\": \"Home Assistant with your INSTAR IP Camera\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"974px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"69.40451745379877%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/bd63c6c222784b85df734bf79071853f/8d3d1/Home_Assistant_20.webp 256w\", \"/static/bd63c6c222784b85df734bf79071853f/354cf/Home_Assistant_20.webp 512w\", \"/static/bd63c6c222784b85df734bf79071853f/205e8/Home_Assistant_20.webp 974w\"],\n    \"sizes\": \"(max-width: 974px) 100vw, 974px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/bd63c6c222784b85df734bf79071853f/b1806/Home_Assistant_20.png 256w\", \"/static/bd63c6c222784b85df734bf79071853f/7572d/Home_Assistant_20.png 512w\", \"/static/bd63c6c222784b85df734bf79071853f/f3b62/Home_Assistant_20.png 974w\"],\n    \"sizes\": \"(max-width: 974px) 100vw, 974px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/bd63c6c222784b85df734bf79071853f/f3b62/Home_Assistant_20.png\",\n    \"alt\": \"Home Assistant with your INSTAR IP Camera\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"hr\", null), mdx(\"p\", null, \"To test our automation we want to set up a MQTT topic \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"hass/automation/test\"), \" that, when it receives a payload of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"{\\\"val\\\":\\\"1\\\"}\"), \" will call our prototype MQTT service we created above and passes down a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"message\"), \" and a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"topic\"), \" to it:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-json\"\n  }), \"{\\n  \\\"message\\\": \\\"{\\\\\\\"val\\\\\\\":\\\\\\\"1\\\\\\\"}\\\",\\n  \\\"target\\\": \\\"instar/000389888811/features/ptz/preset\\\"\\n}\\n\")), mdx(\"p\", null, \"Note that to be able to send a JSON formated payload inside this JSON expression, we have to escape the quotation marks with a backslash.\"), mdx(\"p\", null, \"By sending the payload \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"1\"), \" to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/features/ptz/preset\"), \" we have our camera moving to \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"preset position 2\"), \". We can test this using \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"MQTT.fx\"), \":\"), mdx(\"hr\", null), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"987px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"24.721377912867275%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/4a842256f91a02cc631150ac9a88faf4/8d3d1/Home_Assistant_21.webp 256w\", \"/static/4a842256f91a02cc631150ac9a88faf4/354cf/Home_Assistant_21.webp 512w\", \"/static/4a842256f91a02cc631150ac9a88faf4/7434d/Home_Assistant_21.webp 987w\"],\n    \"sizes\": \"(max-width: 987px) 100vw, 987px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/4a842256f91a02cc631150ac9a88faf4/b1806/Home_Assistant_21.png 256w\", \"/static/4a842256f91a02cc631150ac9a88faf4/7572d/Home_Assistant_21.png 512w\", \"/static/4a842256f91a02cc631150ac9a88faf4/bf766/Home_Assistant_21.png 987w\"],\n    \"sizes\": \"(max-width: 987px) 100vw, 987px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/4a842256f91a02cc631150ac9a88faf4/bf766/Home_Assistant_21.png\",\n    \"alt\": \"Home Assistant with your INSTAR IP Camera\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"hr\", null), mdx(\"p\", null, \"Clicking on publish will trigger our automation, that then triggers our service telling our camera to move to preset 2.\"), mdx(\"p\", null, \"When you check the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"automations.yaml\"), \" file inside the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".homeassistant\"), \" directory, you will see that Home Assistant created the automation for us as follows:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-yaml\"\n  }), \"- id: '1571128164029'\\n  alias: TEST MQTT Automation\\n  trigger:\\n  - payload: '{\\\"val\\\":\\\"1\\\"}'\\n    platform: mqtt\\n    topic: hass/automation/test\\n  condition: []\\n  action:\\n  - alias: ''\\n    data:\\n      message: '{\\\"val\\\":\\\"1\\\"}'\\n      target: instar/000389888811/features/ptz/preset\\n    service: script.send_mqtt_command\\n\")), mdx(\"h3\", {\n    \"id\": \"daynight-switching-detection-areas\"\n  }, mdx(\"a\", _extends({\n    parentName: \"h3\"\n  }, {\n    \"href\": \"#daynight-switching-detection-areas\",\n    \"aria-label\": \"daynight switching detection areas permalink\",\n    \"className\": \"anchor\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Day/Night Switching Detection Areas\"), mdx(\"p\", null, \"Now that we have proven that our concept is sound, we can continue and build our first meaningful automation. For this we can, again, use our prototype MQTT service and have an automation - triggered by a schedule or timed events like sunrise/sunset - pass it the necessary MQTT topics and payloads to switch our detection areas on or off:\"), mdx(\"hr\", null), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"969px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"71.51702786377709%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/6bd7d27759c9c21d91bbad937195ee6c/8d3d1/Home_Assistant_22.webp 256w\", \"/static/6bd7d27759c9c21d91bbad937195ee6c/354cf/Home_Assistant_22.webp 512w\", \"/static/6bd7d27759c9c21d91bbad937195ee6c/11f3c/Home_Assistant_22.webp 969w\"],\n    \"sizes\": \"(max-width: 969px) 100vw, 969px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/6bd7d27759c9c21d91bbad937195ee6c/b1806/Home_Assistant_22.png 256w\", \"/static/6bd7d27759c9c21d91bbad937195ee6c/7572d/Home_Assistant_22.png 512w\", \"/static/6bd7d27759c9c21d91bbad937195ee6c/9487a/Home_Assistant_22.png 969w\"],\n    \"sizes\": \"(max-width: 969px) 100vw, 969px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/6bd7d27759c9c21d91bbad937195ee6c/9487a/Home_Assistant_22.png\",\n    \"alt\": \"Home Assistant with your INSTAR IP Camera\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"969px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"74.92260061919505%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/e205cce36ba20146fa144c613f50373c/8d3d1/Home_Assistant_23.webp 256w\", \"/static/e205cce36ba20146fa144c613f50373c/354cf/Home_Assistant_23.webp 512w\", \"/static/e205cce36ba20146fa144c613f50373c/11f3c/Home_Assistant_23.webp 969w\"],\n    \"sizes\": \"(max-width: 969px) 100vw, 969px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/e205cce36ba20146fa144c613f50373c/b1806/Home_Assistant_23.png 256w\", \"/static/e205cce36ba20146fa144c613f50373c/7572d/Home_Assistant_23.png 512w\", \"/static/e205cce36ba20146fa144c613f50373c/9487a/Home_Assistant_23.png 969w\"],\n    \"sizes\": \"(max-width: 969px) 100vw, 969px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/e205cce36ba20146fa144c613f50373c/9487a/Home_Assistant_23.png\",\n    \"alt\": \"Home Assistant with your INSTAR IP Camera\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"hr\", null), mdx(\"p\", null, \"This is the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Day Automation\"), \" that is triggered by the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Sunrise\"), \" and will update the MQTT topics to activate Alarm Detection Area 1 & 2, while deactivating Areas 3 & 4. Note that this automation combines 4 actions that all will be let loose on our MQTT Publishing Service every morning by sunrise.\"), mdx(\"p\", null, \"The \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Night Automation\"), \" is the opposite - triggered by \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Sunset\"), \" and deactivates Areas 1 & 2, while activating Areas 3 & 4.\"), mdx(\"p\", null, \"A quick look into the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"automations.yaml\"), \" file shows us the two automations that were created through the Lovelace UI:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-yaml\"\n  }), \"- id: '1571131738957'\\n  alias: Switch to Night Areas\\n  trigger:\\n  - event: sunset\\n    platform: sun\\n  condition: []\\n  action:\\n  - data:\\n      message: '{\\\"val\\\":\\\"0\\\"}'\\n      target: instar/000389888811/alarm/area1/enable\\n    service: script.send_mqtt_command\\n  - data:\\n      message: '{\\\"val\\\":\\\"0\\\"}'\\n      target: instar/000389888811/alarm/area2/enable\\n    service: script.send_mqtt_command\\n  - data:\\n      message: '{\\\"val\\\":\\\"1\\\"}'\\n      target: instar/000389888811/alarm/area3/enable\\n    service: script.send_mqtt_command\\n  - data:\\n      message: '{\\\"val\\\":\\\"1\\\"}'\\n      target: instar/000389888811/alarm/area4/enable\\n    service: script.send_mqtt_command\\n\\n    \\n- id: '1571131880630'\\n  alias: Switch to Day Areas\\n  trigger:\\n  - event: sunrise\\n    platform: sun\\n  condition: []\\n  action:\\n  - data:\\n      message: '{\\\"val\\\":\\\"1\\\"}'\\n      target: instar/000389888811/alarm/area1/enable\\n    service: script.send_mqtt_command\\n  - data:\\n      message: '{\\\"val\\\":\\\"1\\\"}'\\n      target: instar/000389888811/alarm/area2/enable\\n    service: script.send_mqtt_command\\n  - data:\\n      message: '{\\\"val\\\":\\\"0\\\"}'\\n      target: instar/000389888811/alarm/area3/enable\\n    service: script.send_mqtt_command\\n  - data:\\n      message: '{\\\"val\\\":\\\"0\\\"}'\\n      target: instar/000389888811/alarm/area4/enable\\n    service: script.send_mqtt_command\\n\")), mdx(\"p\", null, \"You can now wait for the next Sunrise or Sunset to see if your automation is working (or just use the Home Assistant Developer Tools inside the Lovelace UI to trigger this event).\"));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"Home Assistant Installation on a Raspberry Pi MQTT Binding Testing our MQTT Service Adding a UI Switch Switch Component Configuring the User…","frontmatter":{"title":"MQTT Networks with Home Assistant","date":"08/11/2019","categories":["MQTT","Smarthome","IoT"]},"timeToRead":6,"parent":{"mtime":"2019-12-13T12:45:01.554Z","birthtime":"2019-12-09T07:50:09.591Z"}}},"pageContext":{"slug":"/mqtt-networks-with-home-assistant","prev":{"fields":{"slug":"/mqtt-networks-with-athom-homey"},"frontmatter":{"title":"MQTT Networks with Athom Homey","categories":["MQTT","Smarthome","IoT"]}},"next":{"fields":{"slug":"/magento-2-docker-development"},"frontmatter":{"title":"Magento 2 Docker Development","categories":["Docker"]}}}}}