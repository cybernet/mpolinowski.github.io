{"componentChunkName":"component---src-templates-post-jsx","path":"/creating-magento-2-console-commands","result":{"data":{"mdx":{"id":"b5ea9e22-06df-5c50-83de-a5ecf78c8288","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"date\": \"2019-09-19\",\n  \"title\": \"Creating Magento 2 Console Commands\",\n  \"categories\": [\"Magento\"]\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1024px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"46.800000000000004%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/9a71ef649fbde7fd998d7e64632594a4/8d3d1/photo-kt456d_645dhfh6dgjkhg4_d.webp 256w\", \"/static/9a71ef649fbde7fd998d7e64632594a4/354cf/photo-kt456d_645dhfh6dgjkhg4_d.webp 512w\", \"/static/9a71ef649fbde7fd998d7e64632594a4/44907/photo-kt456d_645dhfh6dgjkhg4_d.webp 1024w\", \"/static/9a71ef649fbde7fd998d7e64632594a4/9579c/photo-kt456d_645dhfh6dgjkhg4_d.webp 1500w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/9a71ef649fbde7fd998d7e64632594a4/b95e4/photo-kt456d_645dhfh6dgjkhg4_d.jpg 256w\", \"/static/9a71ef649fbde7fd998d7e64632594a4/1779b/photo-kt456d_645dhfh6dgjkhg4_d.jpg 512w\", \"/static/9a71ef649fbde7fd998d7e64632594a4/87945/photo-kt456d_645dhfh6dgjkhg4_d.jpg 1024w\", \"/static/9a71ef649fbde7fd998d7e64632594a4/9d81f/photo-kt456d_645dhfh6dgjkhg4_d.jpg 1500w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/jpeg\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/9a71ef649fbde7fd998d7e64632594a4/87945/photo-kt456d_645dhfh6dgjkhg4_d.jpg\",\n    \"alt\": \"TST, Hongkong\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#command-line-interface\"\n  }), \"Command Line Interface\"))), mdx(\"h2\", {\n    \"id\": \"command-line-interface\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#command-line-interface\",\n    \"aria-label\": \"command line interface permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Command Line Interface\"), mdx(\"p\", null, \"To create custom commands to the CLI interface add a folder called \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"./Console/Command\"), \" to your \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/creating-magento-2-modules\"\n  }), \"Custom Magento 2 Module\"), \". Here we can create our custom command \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"AddItem.php\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-php\"\n  }), \"<?php\\n\\nnamespace INSTAR\\\\SampleModule\\\\Console\\\\Command;\\n\\nuse Symfony\\\\Component\\\\Console\\\\Command\\\\Command;\\nuse Symfony\\\\Component\\\\Console\\\\Input\\\\InputArgument;\\nuse Symfony\\\\Component\\\\Console\\\\Input\\\\InputInterface;\\nuse Symfony\\\\Component\\\\Console\\\\Output\\\\OutputInterface;\\nuse INSTAR\\\\SampleModule\\\\Model\\\\ItemFactory;\\nuse Magento\\\\Framework\\\\Console\\\\Cli;\\n\\nclass AddItem extends Command\\n{\\n    const INPUT_KEY_NAME = 'name';\\n    const INPUT_KEY_DESCRIPTION = 'description';\\n\\n    private $itemFactory;\\n\\n    public function __construct(ItemFactory $itemFactory)\\n    {\\n        $this->itemFactory = $itemFactory;\\n        parent::__construct();\\n    }\\n\\n    protected function configure()\\n    {\\n        $this->setName('instar:item:add')\\n            ->addArgument(\\n                self::INPUT_KEY_NAME,\\n                InputArgument::REQUIRED,\\n                'Item name'\\n            )->addArgument(\\n                self::INPUT_KEY_DESCRIPTION,\\n                InputArgument::OPTIONAL,\\n                'Item description'\\n            );\\n        parent::configure();\\n    }\\n\\n    protected function execute(InputInterface $input, OutputInterface $output)\\n    {\\n        $item = $this->itemFactory->create();\\n        $item->setName($input->getArgument(self::INPUT_KEY_NAME));\\n        $item->setDescription($input->getArgument(self::INPUT_KEY_DESCRIPTION));\\n        $item->setIsObjectNew(true);\\n        $item->save();\\n        return Cli::RETURN_SUCCESS;\\n    }\\n}\\n\")), mdx(\"p\", null, \"Magento 2 uses the Symfony framework to create command line commands. This examples imports the necessary modules from Symfony and creates a command that accepts 2 inputs - an item name and description. We now need to implement this command so that those values can be written to \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/creating-magento-2-modules#module-install-scripts\"\n  }), \"our modules database table\"), \" - for this we have to add a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Dependency Injection\"), \" configuration to our module with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"./etc/di.xml\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-xml\"\n  }), \"<?xml version=\\\"1.0\\\"?>\\n<config xmlns:xsi=\\\"http://www.w3.org/2001/XMLSchema-instance\\\" xsi:noNamespaceSchemaLocation=\\\"urn:magento:framework:ObjectManager/etc/config.xsd\\\">\\n    <type name=\\\"Magento\\\\Framework\\\\Console\\\\CommandList\\\">\\n        <arguments>\\n           <argument name=\\\"commands\\\" xsi:type=\\\"array\\\">\\n                <item name=\\\"instarAddItem\\\" xsi:type=\\\"object\\\">INSTAR\\\\SampleModule\\\\Console\\\\Command\\\\AddItem</item>\\n            </argument>\\n        </arguments>\\n    </type>\\n</config>\\n\")), mdx(\"p\", null, \"Now flush the Magento cache (all XML files are cached by Magento - changing them always requires a flush):\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"bin/magento cache:flush\\n\")), mdx(\"p\", null, \"The list of available Magento commands should now contain the new command we created:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"root@Magento2 /var/www/html/magento # bin/magento\\nMagento CLI 2.3.3\\n\\nUsage:\\n  command [options] [arguments]\\n\\nOptions:\\n  -h, --help            Display this help message\\n  -q, --quiet           Do not output any message\\n  -V, --version         Display this application version\\n      --ansi            Force ANSI output\\n      --no-ansi         Disable ANSI output\\n  -n, --no-interaction  Do not ask any interactive question\\n  -v|vv|vvv, --verbose  Increase the verbosity of messages: 1 for normal output, 2 for more verbose output and 3 for debug\\n\\nAvailable commands:\\n  help                                        Displays help for a command\\n  list                                        Lists commands\\n instar\\n  instar:item:add\\n\")), mdx(\"p\", null, \"You can now use the command to add Items and append them to your modules database table:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"bin/magento instar:item:add \\\"Item 3\\\" \\\"Third item description\\\"\\n\")), mdx(\"p\", null, \"You can now verify that the item was added by connecting to your MySQL database, or by opening the \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/creating-magento-2-modules#view-layer\"\n  }), \"view we created earlier\"), \":\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"994px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"23.038229376257544%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/af9630b14d0ecc4c4cd146ea3aaeb120/8d3d1/Magento2_Module_Components_01.webp 256w\", \"/static/af9630b14d0ecc4c4cd146ea3aaeb120/354cf/Magento2_Module_Components_01.webp 512w\", \"/static/af9630b14d0ecc4c4cd146ea3aaeb120/4d70e/Magento2_Module_Components_01.webp 994w\"],\n    \"sizes\": \"(max-width: 994px) 100vw, 994px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/af9630b14d0ecc4c4cd146ea3aaeb120/85b06/Magento2_Module_Components_01.png 256w\", \"/static/af9630b14d0ecc4c4cd146ea3aaeb120/bc282/Magento2_Module_Components_01.png 512w\", \"/static/af9630b14d0ecc4c4cd146ea3aaeb120/b1884/Magento2_Module_Components_01.png 994w\"],\n    \"sizes\": \"(max-width: 994px) 100vw, 994px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/af9630b14d0ecc4c4cd146ea3aaeb120/b1884/Magento2_Module_Components_01.png\",\n    \"alt\": \"Magento2 Module Components\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"Command Line Interface Command Line Interface To create custom commands to the CLI interface add a folder called  ./Console/Command  to your…","frontmatter":{"title":"Creating Magento 2 Console Commands","date":"09/19/2019","categories":["Magento"]},"timeToRead":1,"parent":{"__typename":"File","id":"6ddc8d48-3627-57bc-983b-5a95937d068f","mtime":"2020-01-24T10:04:49.281Z","birthtime":"2020-01-24T06:52:46.550Z"}}},"pageContext":{"slug":"/creating-magento-2-console-commands","prev":{"fields":{"slug":"/creating-magento-2-cron-jobs"},"frontmatter":{"title":"Creating Magento 2 Cron Jobs","categories":["Magento"]}},"next":{"fields":{"slug":"/magento-2-ui-components"},"frontmatter":{"title":"Magento 2 UI Components","categories":["Magento"]}}}}}