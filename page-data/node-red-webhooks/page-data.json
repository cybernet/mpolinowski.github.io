{"componentChunkName":"component---src-templates-post-jsx","path":"/node-red-webhooks","result":{"data":{"mdx":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"date\": \"2018-11-24\",\n  \"title\": \"Node-RED Webhooks\",\n  \"categories\": [\"IoT\", \"Node-RED\"]\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1024px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"51.93333333333333%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/97a9ef41f2dcb1df98de57f23bb63c80/8d3d1/photo-kt456d_645dhfh6dgjkhg4_d.webp 256w\", \"/static/97a9ef41f2dcb1df98de57f23bb63c80/354cf/photo-kt456d_645dhfh6dgjkhg4_d.webp 512w\", \"/static/97a9ef41f2dcb1df98de57f23bb63c80/44907/photo-kt456d_645dhfh6dgjkhg4_d.webp 1024w\", \"/static/97a9ef41f2dcb1df98de57f23bb63c80/9579c/photo-kt456d_645dhfh6dgjkhg4_d.webp 1500w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/97a9ef41f2dcb1df98de57f23bb63c80/b95e4/photo-kt456d_645dhfh6dgjkhg4_d.jpg 256w\", \"/static/97a9ef41f2dcb1df98de57f23bb63c80/1779b/photo-kt456d_645dhfh6dgjkhg4_d.jpg 512w\", \"/static/97a9ef41f2dcb1df98de57f23bb63c80/87945/photo-kt456d_645dhfh6dgjkhg4_d.jpg 1024w\", \"/static/97a9ef41f2dcb1df98de57f23bb63c80/9d81f/photo-kt456d_645dhfh6dgjkhg4_d.jpg 1500w\"],\n    \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n    \"type\": \"image/jpeg\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/97a9ef41f2dcb1df98de57f23bb63c80/87945/photo-kt456d_645dhfh6dgjkhg4_d.jpg\",\n    \"alt\": \"Siem Reap, Cambodia\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"#setting-up-an-webhook-in-node-red\"\n  }), \"Setting up an Webhook in Node-RED\"))), mdx(\"p\", null, \"In IoT devices it is often necessary to propagate a state from one device to another. A very established way of doing this is by using a HTTP GET request. The receiving device needs to provide a URL that can be contacted by the device that detects the state change - e.g. motion detected. We are going to use Node-RED as our Alarmserver that will be contacted by an IP camera in case of an alarm. \"), mdx(\"h2\", {\n    \"id\": \"setting-up-an-webhook-in-node-red\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", _extends({\n    parentName: \"h2\"\n  }, {\n    \"href\": \"#setting-up-an-webhook-in-node-red\",\n    \"aria-label\": \"setting up an webhook in node red permalink\",\n    \"className\": \"anchor before\"\n  }), mdx(\"svg\", _extends({\n    parentName: \"a\"\n  }, {\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }), mdx(\"path\", _extends({\n    parentName: \"svg\"\n  }, {\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), \"Setting up an Webhook in Node-RED\"), mdx(\"p\", null, \"Start by \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"/node-red-flows-and-how-to-import-them\"\n  }), \"importing the following flow\"), \" to your Node-RED panel:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-json\"\n  }), \"[{\\\"id\\\":\\\"58bb17f6.7582b8\\\",\\\"type\\\":\\\"http response\\\",\\\"z\\\":\\\"f90096c5.9db488\\\",\\\"name\\\":\\\"\\\",\\\"x\\\":430,\\\"y\\\":1040,\\\"wires\\\":[]},{\\\"id\\\":\\\"e422f5bb.9081d8\\\",\\\"type\\\":\\\"template\\\",\\\"z\\\":\\\"f90096c5.9db488\\\",\\\"name\\\":\\\"page\\\",\\\"field\\\":\\\"payload\\\",\\\"fieldType\\\":\\\"msg\\\",\\\"format\\\":\\\"handlebars\\\",\\\"syntax\\\":\\\"mustache\\\",\\\"template\\\":\\\"<html>\\\\n    <head></head>\\\\n    <body>\\\\n        <h2>Hallo von Node-RED</h2>\\\\n    </body>\\\\n</html>\\\",\\\"x\\\":310,\\\"y\\\":1040,\\\"wires\\\":[[\\\"58bb17f6.7582b8\\\"]]},{\\\"id\\\":\\\"d453a0d1.bfe63\\\",\\\"type\\\":\\\"http in\\\",\\\"z\\\":\\\"f90096c5.9db488\\\",\\\"name\\\":\\\"Webhook\\\",\\\"url\\\":\\\"/test-webhook/\\\",\\\"method\\\":\\\"get\\\",\\\"upload\\\":false,\\\"swaggerDoc\\\":\\\"\\\",\\\"x\\\":185,\\\"y\\\":1080,\\\"wires\\\":[[\\\"e422f5bb.9081d8\\\",\\\"99d441b.1dd64c\\\"]]},{\\\"id\\\":\\\"99d441b.1dd64c\\\",\\\"type\\\":\\\"http request\\\",\\\"z\\\":\\\"f90096c5.9db488\\\",\\\"name\\\":\\\"Go to Position\\\",\\\"method\\\":\\\"GET\\\",\\\"ret\\\":\\\"txt\\\",\\\"paytoqs\\\":false,\\\"url\\\":\\\"http://192.168.2.117/param.cgi?cmd=preset&-act=goto&-number=2&-usr=admin&-pwd=instar\\\",\\\"tls\\\":\\\"\\\",\\\"persist\\\":false,\\\"proxy\\\":\\\"\\\",\\\"authType\\\":\\\"\\\",\\\"x\\\":340,\\\"y\\\":1080,\\\"wires\\\":[[]]}]\\n\")), mdx(\"p\", null, \"The flow consists of 4 Nodes:\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"757px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"32.628797886393656%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/3f39743a0aa107801a2e3730946d1995/8d3d1/Node-RED_Webhooks_01.webp 256w\", \"/static/3f39743a0aa107801a2e3730946d1995/354cf/Node-RED_Webhooks_01.webp 512w\", \"/static/3f39743a0aa107801a2e3730946d1995/be9ae/Node-RED_Webhooks_01.webp 757w\"],\n    \"sizes\": \"(max-width: 757px) 100vw, 757px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/3f39743a0aa107801a2e3730946d1995/85b06/Node-RED_Webhooks_01.png 256w\", \"/static/3f39743a0aa107801a2e3730946d1995/bc282/Node-RED_Webhooks_01.png 512w\", \"/static/3f39743a0aa107801a2e3730946d1995/ad4ea/Node-RED_Webhooks_01.png 757w\"],\n    \"sizes\": \"(max-width: 757px) 100vw, 757px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/3f39743a0aa107801a2e3730946d1995/ad4ea/Node-RED_Webhooks_01.png\",\n    \"alt\": \"Node-RED Webhooks and Alarmserver\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"p\", null, \"The HTTP entry node on the left gives us our webhook and we have to set the URL here that we want expose to our network - \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"\\\"url\\\":\\\"/test-webhook/\\\"\"), \". I added some HTML and an HTTP response node to make it an valid URL that can be contacted by external devices and used to inject information to our flow.\"), mdx(\"p\", null, \"Connected to our webhook is a HTTP request node that contacts an IP camera (\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"http://192.168.2.117/\"), \") on our network and sends an \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://wiki.instar.com/1080p_Series_CGI_List/\",\n    \"target\": \"_blank\",\n    \"rel\": \"nofollow noopener noreferrer\"\n  }), \"CGI command\"), \" to have it do something - the command \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"/param.cgi?cmd=preset&-act=goto&-number=2&-usr=admin&-pwd=instar\"), \" sends our camera to preset position 3.\"), mdx(\"p\", null, \"Here you can use \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"ANY\"), \" action supported by Node-RED as a response to someone contacting our webhook.\"), mdx(\"p\", null, \"To test that our webhook is operational we can call it from our browsers address bar - \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"http://Node-RED-Server-Address-and-Port/test-webhook/\"), \" :\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"586px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"23.890784982935152%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/4664971e0139d5e45421d0cf9e6d68ea/8d3d1/Node-RED_Webhooks_02.webp 256w\", \"/static/4664971e0139d5e45421d0cf9e6d68ea/354cf/Node-RED_Webhooks_02.webp 512w\", \"/static/4664971e0139d5e45421d0cf9e6d68ea/ed62e/Node-RED_Webhooks_02.webp 586w\"],\n    \"sizes\": \"(max-width: 586px) 100vw, 586px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/4664971e0139d5e45421d0cf9e6d68ea/85b06/Node-RED_Webhooks_02.png 256w\", \"/static/4664971e0139d5e45421d0cf9e6d68ea/bc282/Node-RED_Webhooks_02.png 512w\", \"/static/4664971e0139d5e45421d0cf9e6d68ea/9cf6f/Node-RED_Webhooks_02.png 586w\"],\n    \"sizes\": \"(max-width: 586px) 100vw, 586px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/4664971e0139d5e45421d0cf9e6d68ea/9cf6f/Node-RED_Webhooks_02.png\",\n    \"alt\": \"Node-RED Webhooks and Alarmserver\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")), mdx(\"p\", null, \"The URL should lead you to the HTML page created by the Node-RED webhook. Once you opened the website the flow is triggered and action that you connected to the hook will be executed. In my case I have a camera start moving into a preset position.\"), mdx(\"p\", null, \"Now all you have to do is adding this URL to your sensor device. As an example I will use a second IP camera that, once it detects motion, will contact the first camera and tells it to turn around to see what is happening:\"), mdx(\"p\", null, mdx(\"span\", _extends({\n    parentName: \"p\"\n  }, {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"841px\"\n    }\n  }), \"\\n    \", mdx(\"span\", _extends({\n    parentName: \"span\"\n  }, {\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"35.07728894173603%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  })), \"\\n    \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/39f2cee6695d7a1b351d04cfc37ea31e/8d3d1/Node-RED_Webhooks_03.webp 256w\", \"/static/39f2cee6695d7a1b351d04cfc37ea31e/354cf/Node-RED_Webhooks_03.webp 512w\", \"/static/39f2cee6695d7a1b351d04cfc37ea31e/152d0/Node-RED_Webhooks_03.webp 841w\"],\n    \"sizes\": \"(max-width: 841px) 100vw, 841px\",\n    \"type\": \"image/webp\"\n  })), \"\\n        \", mdx(\"source\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"srcSet\": [\"/static/39f2cee6695d7a1b351d04cfc37ea31e/85b06/Node-RED_Webhooks_03.png 256w\", \"/static/39f2cee6695d7a1b351d04cfc37ea31e/bc282/Node-RED_Webhooks_03.png 512w\", \"/static/39f2cee6695d7a1b351d04cfc37ea31e/20595/Node-RED_Webhooks_03.png 841w\"],\n    \"sizes\": \"(max-width: 841px) 100vw, 841px\",\n    \"type\": \"image/png\"\n  })), \"\\n        \", mdx(\"img\", _extends({\n    parentName: \"picture\"\n  }, {\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px white\"\n    },\n    \"src\": \"/static/39f2cee6695d7a1b351d04cfc37ea31e/20595/Node-RED_Webhooks_03.png\",\n    \"alt\": \"Node-RED Webhooks and Alarmserver\",\n    \"title\": \"\"\n  })), \"\\n      \"), \"\\n  \")));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"Setting up an Webhook in Node-RED In IoT devices it is often necessary to propagate a state from one device to another. A very established…","frontmatter":{"title":"Node-RED Webhooks","date":"11/24/2018","categories":["IoT","Node-RED"]},"timeToRead":1,"parent":{"mtime":"2019-12-09T05:55:43.000Z","birthtime":"2019-12-07T14:12:37.119Z"}}},"pageContext":{"slug":"/node-red-webhooks","prev":{"fields":{"slug":"/node-red-flows-and-how-to-import-them"},"frontmatter":{"title":"Node-RED Flows and how to Import them","categories":["IoT","Node-RED"]}},"next":{"fields":{"slug":"/webhooks-with-url-queries"},"frontmatter":{"title":"Webhooks with URL Queries","categories":["IoT","Node-RED"]}}}}}