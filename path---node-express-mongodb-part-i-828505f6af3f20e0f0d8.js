webpackJsonp([54969924332620],{658:function(n,s){n.exports={data:{post:{id:"E:/gatsby-starter-personal-blog/content/posts/2016-06-01--node-express-mongodb-part-i/index.md absPath of file >>> MarkdownRemark",html:'<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/photo-34445934842_9cbfb7dfcb_o-79978ecac4a4ae232a04c3d156fb9477-0706c.jpg"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 800px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 58.46153846153847%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAv/EABYBAQEBAAAAAAAAAAAAAAAAAAIAAf/aAAwDAQACEAMQAAABlrw8qIQW/wD/xAAaEAACAgMAAAAAAAAAAAAAAAABAgAREiFB/9oACAEBAAEFArNOpEyWcLGPpv/EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAEDAQE/Aaf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAACAwEAAAAAAAAAAAAAAAAAARARMTL/2gAIAQEABj8CVIw6nEf/xAAbEAADAQADAQAAAAAAAAAAAAAAASERMUFRkf/aAAgBAQABPyF3DlL0XP2jGSbMUaZi6G1z4H//2gAMAwEAAgADAAAAEOsv/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAEh/9oACAEDAQE/ENI//8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8QR//EABwQAQEAAwEAAwAAAAAAAAAAAAERACFBMVFh8P/aAAgBAQABPxCD3mB001xxGRa1SaK6uv3xlG1HAofQnM3ZpQm6NMeFrvmGEgt8dz//2Q==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;"\n        alt="Hongkong"\n        title=""\n        src="/static/photo-34445934842_9cbfb7dfcb_o-79978ecac4a4ae232a04c3d156fb9477-78f2b.jpg"\n        srcset="/static/photo-34445934842_9cbfb7dfcb_o-79978ecac4a4ae232a04c3d156fb9477-dce19.jpg 200w,\n/static/photo-34445934842_9cbfb7dfcb_o-79978ecac4a4ae232a04c3d156fb9477-c1413.jpg 400w,\n/static/photo-34445934842_9cbfb7dfcb_o-79978ecac4a4ae232a04c3d156fb9477-78f2b.jpg 800w,\n/static/photo-34445934842_9cbfb7dfcb_o-79978ecac4a4ae232a04c3d156fb9477-ab4c4.jpg 1200w,\n/static/photo-34445934842_9cbfb7dfcb_o-79978ecac4a4ae232a04c3d156fb9477-bc99b.jpg 1600w,\n/static/photo-34445934842_9cbfb7dfcb_o-79978ecac4a4ae232a04c3d156fb9477-34a60.jpg 2400w,\n/static/photo-34445934842_9cbfb7dfcb_o-79978ecac4a4ae232a04c3d156fb9477-0706c.jpg 2795w"\n        sizes="(max-width: 800px) 100vw, 800px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p><a href="github.com/mpolinowski/node_express_git">Github Repository</a></p>\n<blockquote>\n<p>This code is part of a training in web development with <a href="https://nodejs.org/en/">Node.js</a>. <a href="http://ejs.co">EJS</a> will be used as template engine for rendering HTML out of <a href="https://expressjs.com">Express</a>. The library application will use <a href="https://www.mongodb.com">MongoDB</a> to store information about books and authors - but will also employ the <a href="https://www.goodreads.com/api">GoodReads API</a> to provide more details on each. <a href="http://www.passportjs.org">Passport.js</a> is used for local security.</p>\n</blockquote>\n<ul>\n<li>This is Part I and will guide us through the basic <a href="https://nodejs.org/en/">Node.js</a> and <a href="https://expressjs.com">Express</a> setup</li>\n<li>In <a href="/node-express-mongodb-part-ii/">Part II</a> we will add <a href="https://bower.io/">Bower.js</a> and the <a href="https://gulpjs.com/">Gulp.js</a> taskrunner to manage our style dependencies and auto-restart our development environment using <a href="https://nodemon.io">Nodemon.js</a></li>\n<li>In <a href="/node-express-mongodb-part-iii/">Part III</a> will add the magic of the <a href="http://ejs.co">EJS</a> templating engine</li>\n<li><a href="/node-express-mongodb-part-iv/">Part IV</a> deals with advanced Express routing options</li>\n<li><a href="/node-express-mongodb-part-v/">Part V</a> deals with <a href="http://www.passportjs.org">Passport.js</a> user authentication and <a href="https://www.mongodb.com">MongoDB</a></li>\n</ul>\n<!-- TOC -->\n<ul>\n<li><a href="#01-install-nodejs-and-expressjs-to-serve-our-web-application">01 Install Node.js and Express.js to serve our Web Application</a></li>\n<li><a href="#02-add-start-script">02 Add Start Script</a></li>\n<li><a href="#03-add-routing-hello-world">03 Add Routing (Hello World)</a></li>\n<li><a href="#04-serve-static-files">04 Serve Static Files</a></li>\n</ul>\n<!-- /TOC -->\n<h2 id="01-install-nodejs-and-expressjs-to-serve-our-web-application"><a href="#01-install-nodejs-and-expressjs-to-serve-our-web-application" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>01 Install Node.js and Express.js to serve our Web Application</h2>\n<p>First install <a href="https://nodejs.org/en/download/">Node.js</a> and initialize the project with npm init. Then npm install express —save to the app directory.</p>\n<p>Create a <em>app.js</em> and run the Express webserver on a specified port:</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> express <span class="token operator">=</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'express\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>\n\n<span class="token keyword">var</span> port <span class="token operator">=</span> <span class="token number">3000</span><span class="token punctuation">;</span>\n\napp<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'running server on port\'</span> <span class="token operator">+</span> port<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<p>Running the app with node app.js should give you the console log that the webserver is up an running on the specified port.</p>\n<h2 id="02-add-start-script"><a href="#02-add-start-script" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>02 Add Start Script</h2>\n<p>Now we will add a npm script to the <em>package.json</em> file to start our app:</p>\n<div class="gatsby-highlight">\n      <pre class="language-json"><code class="language-json"><span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"node-express"</span><span class="token punctuation">,</span>\n  <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span>\n  <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"Library App"</span><span class="token punctuation">,</span>\n  <span class="token property">"main"</span><span class="token operator">:</span> <span class="token string">"app.js"</span><span class="token punctuation">,</span>\n  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token property">"test"</span><span class="token operator">:</span> <span class="token string">"echo \\"Error: no test specified\\" &amp;&amp; exit 1"</span><span class="token punctuation">,</span>\n    <span class="token property">"start"</span><span class="token operator">:</span> <span class="token string">"node app.js"</span></code></pre>\n      </div>\n<p>The line <em>“start”: “node app.js”</em> allows us to use the npm start command instead of having to define our starting point like before - <em>node app.js</em></p>\n<h2 id="03-add-routing-hello-world"><a href="#03-add-routing-hello-world" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>03 Add Routing (Hello World)</h2>\n<p>When accessing the home route (<a href="http://localhost:3000/">http://localhost:3000/</a>), we want to send a Hello World, to test our routing. Then we add another route - /books to the <em>app.js</em> file:</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> express <span class="token operator">=</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'express\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>\n\n<span class="token keyword">var</span> port <span class="token operator">=</span> <span class="token number">3000</span><span class="token punctuation">;</span>\n\napp<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">\'/\'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">{</span>\n  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">\'Hello World\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\napp<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">\'/books\'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">{</span>\n  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">\'Hello World from the books route\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\napp<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'running server on port\'</span> <span class="token operator">+</span> port<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<h2 id="04-serve-static-files"><a href="#04-serve-static-files" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>04 Serve Static Files</h2>\n<p>We first add to new folders to our project - public/css &#x26; public/js and a src/views folder. We download a free Bootstrap theme from a page like bootstrapzero.com and put the css/js files into the public folder. The html file has to be located in the views folder.</p>\n<p>The Express middleware is used to serve the content of our public folder, by adding the line app.use(express.static(‘public’)); to the app.js file. The static html file - index.html - from our template, will be served by app.use(express.static(‘src/views’));.</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code class="language-javascript"><span class="token keyword">var</span> express <span class="token operator">=</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'express\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">var</span> port <span class="token operator">=</span> <span class="token number">3000</span><span class="token punctuation">;</span>\n\napp<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token keyword">static</span><span class="token punctuation">(</span><span class="token string">\'public\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\napp<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token keyword">static</span><span class="token punctuation">(</span><span class="token string">\'src/views\'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\napp<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">\'/\'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">{</span>\n  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">\'Hello World\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\napp<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">\'/books\'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">{</span>\n  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">\'Hello World from the books route\'</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\napp<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'running server on port\'</span> <span class="token operator">+</span> port<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<p>Through the public route, we are now able to access the css/js files by typing in e.g. <a href="http://localhost:3000/css/styles.css">http://localhost:3000/css/styles.css</a> into our browser (the bootstrap components of the template will not be used - we Bower to add them later - <strong>DELETE THOSE FILES FOR <a href="/node-express-mongodb-part-ii/">Next Part</a></strong>. The index.html is accessible by <a href="http://localhost:3000/index.html">http://localhost:3000/index.html</a>.</p>\n<ul>\n<li><a href="/node-express-mongodb-part-ii/">Part II</a></li>\n<li><a href="/node-express-mongodb-part-iii/">Part III</a></li>\n<li><a href="/node-express-mongodb-part-iv/">Part IV</a></li>\n<li><a href="/node-express-mongodb-part-v/">Part V</a></li>\n</ul>',fields:{slug:"/node-express-mongodb-part-i/",prefix:"2016-06-01"},frontmatter:{title:"Node/Express with MongoDB (I)",subTitle:"Building a Express Web Library with a MongoDB Backend and Goodreads API Integration",cover:{childImageSharp:{resize:{src:"/static/photo-34445934842_9cbfb7dfcb_o-cover-e2ef1635a1d1e907a194785095851924-ada8c.jpg"}}}}},author:{id:"E:/gatsby-starter-personal-blog/content/parts/author.md absPath of file >>> MarkdownRemark",html:'<p><strong>Mike Polinowski</strong> Proin ornare ligula eu tellus tempus elementum. Aenean <a href="/contact/">contact me</a> iaculis mi, nec blandit lacus interdum vitae. Vestibulum non nibh risus, a scelerisque purus. :hearts:</p>'},footnote:{id:"E:/gatsby-starter-personal-blog/content/parts/footnote.md absPath of file >>> MarkdownRemark",html:'<ul>\n<li>This is a personal Developer Blog</li>\n<li>Ξ</li>\n<li>built by <a href="https://github.com/mpolinowski">Mike Polinowski</a></li>\n<li>Ξ</li>\n<li>with <a href="https://www.gatsbyjs.org/">Gatsby</a> &#x26; <a href="https://reactjs.org">React</a></li>\n<li>Ξ</li>\n<li>source code on <a href="https://github.com/mpolinowski/mpolinowski.github.io">GitHub</a></li>\n<li>Ξ</li>\n<li>deliverd by <a href="https://pages.github.com">Github Pages</a></li>\n<li>Ξ</li>\n<li>photos from <a href="https://www.flickr.com/people/149680084@N06/">Flickr</a></li>\n</ul>'}},pathContext:{slug:"/node-express-mongodb-part-i/"}}}});
//# sourceMappingURL=path---node-express-mongodb-part-i-828505f6af3f20e0f0d8.js.map