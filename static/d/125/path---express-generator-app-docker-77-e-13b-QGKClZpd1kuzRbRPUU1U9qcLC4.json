{"data":{"post":{"id":"a0fa136f-ec67-5f57-845a-6827cab156fa","html":"<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6fa82bb2b255ffcd07511cf5c34de879/b721b/photo-15328436920_ac881c4b7f_o.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 800px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 36.53333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAC4jAAAuIwF4pT92AAABtklEQVQY0wGrAVT+AGuEwH+UyKS0266/53GP1mqJ04Ga2snT7pir3mWC0G6L1n6Y3oCb48vX9djh96W88py49Iir9o6z+Zm8+wCQjo+AgIp9gpd9i7F4h653gqB6haWVnbils9mVrOmyxPHd5feqve3a4/n4+vzc5/rd5/zX5v/U5v+41f8Aj412ko59jYl9gH15cG9ubm1tbm1yampzcnmRpK/NnqbCgoihgIWakZmyg5CxipW0lJy4s7fHvcbZqb/iAEdSKGNmS2FlR2ptQXRzZnFyZmNnYGVpY21uaW9xdmVnbmlrdWtvd3BzfXd5hHl+iXmAj2l0jGx2j3B6kgA+SihXXjtOVjVMVS1RVzZfYT9naUxaXkhhYVFnZ1NZXkhbYExZXU1YXFRdYlNoa1pub2pzc3Rzdnx7f4cAQkYtQUwjVVwxXGIsTVUrSU0vTFE3YGRFZ2hOampXXF1BYF5PWFhFUVI9Xl5JX2BKYmBJW1pTX15TZWZZAEpPNUxTL15iOGlsNF5mK0tVJk5TNGhpR1tiP1leQVJXOWdoZ1VURlVUOGRhQ2poRG1pWWZkX2BdW09RRgCQzqN8Mc0uAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;\"\n        alt=\"Mustang, Nepal\"\n        title=\"\"\n        src=\"/static/6fa82bb2b255ffcd07511cf5c34de879/b21dd/photo-15328436920_ac881c4b7f_o.png\"\n        srcset=\"/static/6fa82bb2b255ffcd07511cf5c34de879/2d451/photo-15328436920_ac881c4b7f_o.png 200w,\n/static/6fa82bb2b255ffcd07511cf5c34de879/06807/photo-15328436920_ac881c4b7f_o.png 400w,\n/static/6fa82bb2b255ffcd07511cf5c34de879/b21dd/photo-15328436920_ac881c4b7f_o.png 800w,\n/static/6fa82bb2b255ffcd07511cf5c34de879/c9309/photo-15328436920_ac881c4b7f_o.png 1200w,\n/static/6fa82bb2b255ffcd07511cf5c34de879/b721b/photo-15328436920_ac881c4b7f_o.png 1500w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n      />\n  </span>\n  </a></p>\n<p>As an example, we are going to use <a href=\"https://expressjs.com/en/starter/generator.html\">express-generator</a> to scaffold a slightly more complex (<a href=\"https://github.com/mpolinowski/node-express-docker-starter\">then before</a>) <a href=\"https://nodejs.org\">Node.js</a> Web App and link this source code into a Docker Container Volume.</p>\n<p><a href=\"https://github.com/mpolinowski/express-generator-app-docker\">Github Repository</a></p>\n<!-- TOC -->\n<ul>\n<li><a href=\"#create-a-nodejs-web-app\">Create a Node.js Web App</a></li>\n<li><a href=\"#pointing-the-container-volume-to-our-source-code\">Pointing the Container Volume to our Source Code</a></li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"create-a-nodejs-web-app\"><a href=\"#create-a-nodejs-web-app\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Create a Node.js Web App</h2>\n<p>We want to use express-generator to generate a basic Node Web App. We first need to install the generator globally on our machine:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> -g express express-generator</code></pre></div>\n<p>We then run express-generator to scaffold an app for use, using the <a href=\"http://ejs.co\">EJS Templating Engine</a> - check out <a href=\"https://expressjs.com/en/starter/generator.html\">their website</a> for more options - and put the source code into a folder named <em>express-generator-app-docker</em>:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">express --view<span class=\"token operator\">=</span>ejs express-generator-app-docker</code></pre></div>\n<p>To install dependencies we need to enter the created directory and run <em>npm install</em> :</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">cd</span> express-generator-app-docker <span class=\"token operator\">&amp;</span> <span class=\"token function\">npm</span> <span class=\"token function\">install</span></code></pre></div>\n<p>We can test our web app by running <em>npm start</em> and accessing <em><a href=\"http://localhos:3000\">http://localhos:3000</a></em> with a web browser:</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/18c3527497af1fc0f8d4da4e128c53a0/a1323/express-docker_01.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 800px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 32.51748251748251%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAjElEQVQY02PYpa2/y9D0oIX1QmOzMGX1WDXtMAUVLxEJb1FJgojhfH0zCNU1nWtoOdvQcq6x9Wx9M5GI4c+fP//////3799/0gHDvz9/nj55cv/+/RcvXvz+DTToH9AkIhEDED96+PDy5cu3b93+9u0b2BVE2/z371+gy3///v3zx49fP3+S5mxK/AwABrNYtZgzNosAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;\"\n        alt=\"Express App in Docker Container\"\n        title=\"\"\n        src=\"/static/18c3527497af1fc0f8d4da4e128c53a0/b21dd/express-docker_01.png\"\n        srcset=\"/static/18c3527497af1fc0f8d4da4e128c53a0/2d451/express-docker_01.png 200w,\n/static/18c3527497af1fc0f8d4da4e128c53a0/06807/express-docker_01.png 400w,\n/static/18c3527497af1fc0f8d4da4e128c53a0/b21dd/express-docker_01.png 800w,\n/static/18c3527497af1fc0f8d4da4e128c53a0/a1323/express-docker_01.png 858w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n      />\n  </span>\n  </a></p>\n<h2 id=\"pointing-the-container-volume-to-our-source-code\"><a href=\"#pointing-the-container-volume-to-our-source-code\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pointing the Container Volume to our Source Code</h2>\n<p>In our <a href=\"https://github.com/mpolinowski/node-express-docker-starter\">previous test</a> we already pulled the latest Node.js Docker Images from the Docker Hub:</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b3e67161db91662cca9e8a0f38da14f2/bef03/express-docker_02.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 800px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 9.228971962616823%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAf0lEQVQI12PgmdjKNaGFa3I79+xe7lm9XLNauGa1c87qYZjYwjixlXFSG+PkNiDJ0N8CJJmmtDNMaGWY0MI0oYWht4lBwS6LUyeaXSuKQyuKXTOKTTOETTOcVSNK0S6LTz+OQSGYTz/exL9MxTGHQSlEziZTx72QRzcWiBTtswFvMiM1iYmZ1QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;\"\n        alt=\"Express App in Docker Container\"\n        title=\"\"\n        src=\"/static/b3e67161db91662cca9e8a0f38da14f2/b21dd/express-docker_02.png\"\n        srcset=\"/static/b3e67161db91662cca9e8a0f38da14f2/2d451/express-docker_02.png 200w,\n/static/b3e67161db91662cca9e8a0f38da14f2/06807/express-docker_02.png 400w,\n/static/b3e67161db91662cca9e8a0f38da14f2/b21dd/express-docker_02.png 800w,\n/static/b3e67161db91662cca9e8a0f38da14f2/bef03/express-docker_02.png 856w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n      />\n  </span>\n  </a></p>\n<p>To use this image, together with our Web App, we can run the following docker command:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">docker run -p 8080:3000 -v E:/express-generator-app-docker:/app -w <span class=\"token string\">\"/app\"</span> node <span class=\"token function\">npm</span> start</code></pre></div>\n<p>This command will run the node docker image, expose the internal port 3000 (coming from our express app) to port 8080. To point to our source code, we need to create a Volume <strong>-v</strong> from the app directory <strong>E:/express-generator-app-docker</strong> (<em>adjust the absolute path according to your system setup</em>) and link it to an <strong>/app</strong> directory inside the container. To execute our code inside the container, we can add <strong>npm start</strong> at the end of the command - <em>be aware</em> that you have to set the working directory to the <strong>/app</strong> directory by adding <strong>-w “/app”</strong>, to run the start command from there!</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ae90dd0ddbe8c92029c57f7425eb6b8b/112ff/express-docker_03.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 800px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 11.511627906976745%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAbklEQVQI12OQtEqVtU6XtkoXM02WscoQNY0VN4vk048XMIzn1onh1o3lN4jn148HigBJXt1YRo1wLt0YPv04Lu0YBhm7dGnrFAW7LBGTRA6dCF79OE6tGFb1SAbFEAblUBBSQkLKoYwqYVBx5VAA7ZIXXSdKD6gAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;\"\n        alt=\"Express App in Docker Container\"\n        title=\"\"\n        src=\"/static/ae90dd0ddbe8c92029c57f7425eb6b8b/b21dd/express-docker_03.png\"\n        srcset=\"/static/ae90dd0ddbe8c92029c57f7425eb6b8b/2d451/express-docker_03.png 200w,\n/static/ae90dd0ddbe8c92029c57f7425eb6b8b/06807/express-docker_03.png 400w,\n/static/ae90dd0ddbe8c92029c57f7425eb6b8b/b21dd/express-docker_03.png 800w,\n/static/ae90dd0ddbe8c92029c57f7425eb6b8b/112ff/express-docker_03.png 860w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n      />\n  </span>\n  </a></p>\n<p>The App is now running from inside the docker container on Port 8080:</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/877cdff4569e0c5a4e80456316eaa0de/0ed62/express-docker_04.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 800px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 30.742459396751737%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAArUlEQVQY02M4bm79f7e2/v9duob/j5hZ/W/T1P0fp6T2P11V83+4mPT/UBGJ/2EikkRjhhZ37/+3Zs//f3P2vP83Zs0D07eBfJDY7TkgvABKE4cZYtIz/lMTMKSlpv3/9f37/2uXL/+/cO7s/yePHv//9+fP/7+/fv//+5t0zJCamv7/379//9+8efP/+fPn/1+/fv3/D9BAEACJk+zC+PhEuEYQ/e/vPxQ+qQAAXqiSlW8COuMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;\"\n        alt=\"Express App in Docker Container\"\n        title=\"\"\n        src=\"/static/877cdff4569e0c5a4e80456316eaa0de/b21dd/express-docker_04.png\"\n        srcset=\"/static/877cdff4569e0c5a4e80456316eaa0de/2d451/express-docker_04.png 200w,\n/static/877cdff4569e0c5a4e80456316eaa0de/06807/express-docker_04.png 400w,\n/static/877cdff4569e0c5a4e80456316eaa0de/b21dd/express-docker_04.png 800w,\n/static/877cdff4569e0c5a4e80456316eaa0de/0ed62/express-docker_04.png 862w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n      />\n  </span>\n  </a></p>\n<p>You can go into the sites source code and edit it - changes to the express app will show up in your browser when you reload the page. That means, we can now develop a Node Application on a system that doesn’t have Node.js installed on it.</p>\n<p>The next step is actually put your source code into a container - which is, what we are going to try next!</p>","htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/6fa82bb2b255ffcd07511cf5c34de879/b721b/photo-15328436920_ac881c4b7f_o.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block;  max-width: 800px; margin-left: auto; margin-right: auto;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 36.53333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAC4jAAAuIwF4pT92AAABtklEQVQY0wGrAVT+AGuEwH+UyKS0266/53GP1mqJ04Ga2snT7pir3mWC0G6L1n6Y3oCb48vX9djh96W88py49Iir9o6z+Zm8+wCQjo+AgIp9gpd9i7F4h653gqB6haWVnbils9mVrOmyxPHd5feqve3a4/n4+vzc5/rd5/zX5v/U5v+41f8Aj412ko59jYl9gH15cG9ubm1tbm1yampzcnmRpK/NnqbCgoihgIWakZmyg5CxipW0lJy4s7fHvcbZqb/iAEdSKGNmS2FlR2ptQXRzZnFyZmNnYGVpY21uaW9xdmVnbmlrdWtvd3BzfXd5hHl+iXmAj2l0jGx2j3B6kgA+SihXXjtOVjVMVS1RVzZfYT9naUxaXkhhYVFnZ1NZXkhbYExZXU1YXFRdYlNoa1pub2pzc3Rzdnx7f4cAQkYtQUwjVVwxXGIsTVUrSU0vTFE3YGRFZ2hOampXXF1BYF5PWFhFUVI9Xl5JX2BKYmBJW1pTX15TZWZZAEpPNUxTL15iOGlsNF5mK0tVJk5TNGhpR1tiP1leQVJXOWdoZ1VURlVUOGRhQ2poRG1pWWZkX2BdW09RRgCQzqN8Mc0uAAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;","alt":"Mustang, Nepal","title":"","src":"/static/6fa82bb2b255ffcd07511cf5c34de879/b21dd/photo-15328436920_ac881c4b7f_o.png","srcSet":["/static/6fa82bb2b255ffcd07511cf5c34de879/2d451/photo-15328436920_ac881c4b7f_o.png 200w","/static/6fa82bb2b255ffcd07511cf5c34de879/06807/photo-15328436920_ac881c4b7f_o.png 400w","/static/6fa82bb2b255ffcd07511cf5c34de879/b21dd/photo-15328436920_ac881c4b7f_o.png 800w","/static/6fa82bb2b255ffcd07511cf5c34de879/c9309/photo-15328436920_ac881c4b7f_o.png 1200w","/static/6fa82bb2b255ffcd07511cf5c34de879/b721b/photo-15328436920_ac881c4b7f_o.png 1500w"],"sizes":["(max-width:","800px)","100vw,","800px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"As an example, we are going to use "},{"type":"element","tagName":"a","properties":{"href":"https://expressjs.com/en/starter/generator.html"},"children":[{"type":"text","value":"express-generator"}]},{"type":"text","value":" to scaffold a slightly more complex ("},{"type":"element","tagName":"a","properties":{"href":"https://github.com/mpolinowski/node-express-docker-starter"},"children":[{"type":"text","value":"then before"}]},{"type":"text","value":") "},{"type":"element","tagName":"a","properties":{"href":"https://nodejs.org"},"children":[{"type":"text","value":"Node.js"}]},{"type":"text","value":" Web App and link this source code into a Docker Container Volume."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://github.com/mpolinowski/express-generator-app-docker"},"children":[{"type":"text","value":"Github Repository"}]}]},{"type":"text","value":"\n"},{"type":"comment","value":" TOC "},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"#create-a-nodejs-web-app"},"children":[{"type":"text","value":"Create a Node.js Web App"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"#pointing-the-container-volume-to-our-source-code"},"children":[{"type":"text","value":"Pointing the Container Volume to our Source Code"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"comment","value":" /TOC "},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"create-a-nodejs-web-app"},"children":[{"type":"element","tagName":"a","properties":{"href":"#create-a-nodejs-web-app","ariaHidden":true,"className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Create a Node.js Web App"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We want to use express-generator to generate a basic Node Web App. We first need to install the generator globally on our machine:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"npm"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"install"}]},{"type":"text","value":" -g express express-generator"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We then run express-generator to scaffold an app for use, using the "},{"type":"element","tagName":"a","properties":{"href":"http://ejs.co"},"children":[{"type":"text","value":"EJS Templating Engine"}]},{"type":"text","value":" - check out "},{"type":"element","tagName":"a","properties":{"href":"https://expressjs.com/en/starter/generator.html"},"children":[{"type":"text","value":"their website"}]},{"type":"text","value":" for more options - and put the source code into a folder named "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"express-generator-app-docker"}]},{"type":"text","value":":"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"express --view"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":"ejs express-generator-app-docker"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To install dependencies we need to enter the created directory and run "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"npm install"}]},{"type":"text","value":" :"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"cd"}]},{"type":"text","value":" express-generator-app-docker "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"&"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"npm"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"install"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We can test our web app by running "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"npm start"}]},{"type":"text","value":" and accessing "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"http://localhos:3000"},"children":[{"type":"text","value":"http://localhos:3000"}]}]},{"type":"text","value":" with a web browser:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/18c3527497af1fc0f8d4da4e128c53a0/a1323/express-docker_01.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block;  max-width: 800px; margin-left: auto; margin-right: auto;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 32.51748251748251%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAjElEQVQY02PYpa2/y9D0oIX1QmOzMGX1WDXtMAUVLxEJb1FJgojhfH0zCNU1nWtoOdvQcq6x9Wx9M5GI4c+fP//////3799/0gHDvz9/nj55cv/+/RcvXvz+DTToH9AkIhEDED96+PDy5cu3b93+9u0b2BVE2/z371+gy3///v3zx49fP3+S5mxK/AwABrNYtZgzNosAAAAASUVORK5CYII='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;","alt":"Express App in Docker Container","title":"","src":"/static/18c3527497af1fc0f8d4da4e128c53a0/b21dd/express-docker_01.png","srcSet":["/static/18c3527497af1fc0f8d4da4e128c53a0/2d451/express-docker_01.png 200w","/static/18c3527497af1fc0f8d4da4e128c53a0/06807/express-docker_01.png 400w","/static/18c3527497af1fc0f8d4da4e128c53a0/b21dd/express-docker_01.png 800w","/static/18c3527497af1fc0f8d4da4e128c53a0/a1323/express-docker_01.png 858w"],"sizes":["(max-width:","800px)","100vw,","800px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"pointing-the-container-volume-to-our-source-code"},"children":[{"type":"element","tagName":"a","properties":{"href":"#pointing-the-container-volume-to-our-source-code","ariaHidden":true,"className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Pointing the Container Volume to our Source Code"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In our "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/mpolinowski/node-express-docker-starter"},"children":[{"type":"text","value":"previous test"}]},{"type":"text","value":" we already pulled the latest Node.js Docker Images from the Docker Hub:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/b3e67161db91662cca9e8a0f38da14f2/bef03/express-docker_02.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block;  max-width: 800px; margin-left: auto; margin-right: auto;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 9.228971962616823%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAf0lEQVQI12PgmdjKNaGFa3I79+xe7lm9XLNauGa1c87qYZjYwjixlXFSG+PkNiDJ0N8CJJmmtDNMaGWY0MI0oYWht4lBwS6LUyeaXSuKQyuKXTOKTTOETTOcVSNK0S6LTz+OQSGYTz/exL9MxTGHQSlEziZTx72QRzcWiBTtswFvMiM1iYmZ1QAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;","alt":"Express App in Docker Container","title":"","src":"/static/b3e67161db91662cca9e8a0f38da14f2/b21dd/express-docker_02.png","srcSet":["/static/b3e67161db91662cca9e8a0f38da14f2/2d451/express-docker_02.png 200w","/static/b3e67161db91662cca9e8a0f38da14f2/06807/express-docker_02.png 400w","/static/b3e67161db91662cca9e8a0f38da14f2/b21dd/express-docker_02.png 800w","/static/b3e67161db91662cca9e8a0f38da14f2/bef03/express-docker_02.png 856w"],"sizes":["(max-width:","800px)","100vw,","800px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To use this image, together with our Web App, we can run the following docker command:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"docker run -p 8080:3000 -v E:/express-generator-app-docker:/app -w "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"/app\""}]},{"type":"text","value":" node "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"npm"}]},{"type":"text","value":" start"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"This command will run the node docker image, expose the internal port 3000 (coming from our express app) to port 8080. To point to our source code, we need to create a Volume "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"-v"}]},{"type":"text","value":" from the app directory "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"E:/express-generator-app-docker"}]},{"type":"text","value":" ("},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"adjust the absolute path according to your system setup"}]},{"type":"text","value":") and link it to an "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"/app"}]},{"type":"text","value":" directory inside the container. To execute our code inside the container, we can add "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"npm start"}]},{"type":"text","value":" at the end of the command - "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"be aware"}]},{"type":"text","value":" that you have to set the working directory to the "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"/app"}]},{"type":"text","value":" directory by adding "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"-w “/app”"}]},{"type":"text","value":", to run the start command from there!"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/ae90dd0ddbe8c92029c57f7425eb6b8b/112ff/express-docker_03.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block;  max-width: 800px; margin-left: auto; margin-right: auto;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 11.511627906976745%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAbklEQVQI12OQtEqVtU6XtkoXM02WscoQNY0VN4vk048XMIzn1onh1o3lN4jn148HigBJXt1YRo1wLt0YPv04Lu0YBhm7dGnrFAW7LBGTRA6dCF79OE6tGFb1SAbFEAblUBBSQkLKoYwqYVBx5VAA7ZIXXSdKD6gAAAAASUVORK5CYII='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;","alt":"Express App in Docker Container","title":"","src":"/static/ae90dd0ddbe8c92029c57f7425eb6b8b/b21dd/express-docker_03.png","srcSet":["/static/ae90dd0ddbe8c92029c57f7425eb6b8b/2d451/express-docker_03.png 200w","/static/ae90dd0ddbe8c92029c57f7425eb6b8b/06807/express-docker_03.png 400w","/static/ae90dd0ddbe8c92029c57f7425eb6b8b/b21dd/express-docker_03.png 800w","/static/ae90dd0ddbe8c92029c57f7425eb6b8b/112ff/express-docker_03.png 860w"],"sizes":["(max-width:","800px)","100vw,","800px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The App is now running from inside the docker container on Port 8080:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/877cdff4569e0c5a4e80456316eaa0de/0ed62/express-docker_04.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block;  max-width: 800px; margin-left: auto; margin-right: auto;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 30.742459396751737%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAArUlEQVQY02M4bm79f7e2/v9duob/j5hZ/W/T1P0fp6T2P11V83+4mPT/UBGJ/2EikkRjhhZ37/+3Zs//f3P2vP83Zs0D07eBfJDY7TkgvABKE4cZYtIz/lMTMKSlpv3/9f37/2uXL/+/cO7s/yePHv//9+fP/7+/fv//+5t0zJCamv7/379//9+8efP/+fPn/1+/fv3/D9BAEACJk+zC+PhEuEYQ/e/vPxQ+qQAAXqiSlW8COuMAAAAASUVORK5CYII='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;","alt":"Express App in Docker Container","title":"","src":"/static/877cdff4569e0c5a4e80456316eaa0de/b21dd/express-docker_04.png","srcSet":["/static/877cdff4569e0c5a4e80456316eaa0de/2d451/express-docker_04.png 200w","/static/877cdff4569e0c5a4e80456316eaa0de/06807/express-docker_04.png 400w","/static/877cdff4569e0c5a4e80456316eaa0de/b21dd/express-docker_04.png 800w","/static/877cdff4569e0c5a4e80456316eaa0de/0ed62/express-docker_04.png 862w"],"sizes":["(max-width:","800px)","100vw,","800px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You can go into the sites source code and edit it - changes to the express app will show up in your browser when you reload the page. That means, we can now develop a Node Application on a system that doesn’t have Node.js installed on it."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The next step is actually put your source code into a container - which is, what we are going to try next!"}]}],"data":{"quirksMode":false}},"fields":{"slug":"/express-generator-app-docker/","prefix":"2018-01-27"},"frontmatter":{"title":"Link your Node Source Code into a Docker Container","subTitle":"Use Docker to run your source code in a runtime that isn't globally installed on your system. We want to test our source code as it would be executed inside a Linux / Node.js@latest environment, while running our development on a Windows 10 machine.","cover":{"childImageSharp":{"resize":{"src":"/static/f86cd5b65fa8b9df453b104816bbeceb/f2a5a/photo-15328436920_ac881c4b7f_o-cover.png"}}}}},"author":{"id":"9c69de06-11ab-55c9-b52a-3cc0b2f51365","html":"<p><strong>Mike Polinowski</strong> Proin ornare ligula eu tellus tempus elementum. Aenean <a href=\"/contact/\">contact me</a> iaculis mi, nec blandit lacus interdum vitae. Vestibulum non nibh risus, a scelerisque purus. :hearts:</p>"},"footnote":{"id":"24817670-3434-5a21-9de1-e9fab89708d7","html":"<ul>\n<li>This is a personal Developer Blog</li>\n<li>Ξ</li>\n<li>built by <a href=\"https://github.com/mpolinowski\">Mike Polinowski</a></li>\n<li>Ξ</li>\n<li>with <a href=\"https://www.gatsbyjs.org/\">Gatsby</a> &#x26; <a href=\"https://reactjs.org\">React</a></li>\n<li>Ξ</li>\n<li>source code on <a href=\"https://github.com/mpolinowski/mpolinowski.github.io\">GitHub</a></li>\n<li>Ξ</li>\n<li>deliverd by <a href=\"https://pages.github.com\">Github Pages</a></li>\n<li>Ξ</li>\n<li>photos from <a href=\"https://www.flickr.com/people/149680084@N06/\">Flickr</a></li>\n</ul>"}},"pageContext":{"slug":"/express-generator-app-docker/"}}