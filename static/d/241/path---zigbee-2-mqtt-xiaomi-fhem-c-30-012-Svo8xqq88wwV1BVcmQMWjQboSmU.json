{"data":{"post":{"id":"f1511d33-9d37-5e44-8236-ebb15169ccf1","html":"<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1573b72350c8a783e5ea459a809c1f73/8e846/photo-19194765263_69ad0f_o.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 42.199999999999996%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAACTpAAAk6QFQJOf4AAACMElEQVQozw2RS09TURRGr4okio9KRMUUkIKBQktL3/e2vbe9fdNYwFb6pkItpVANEKCRGMQHRI3GaCQyMToxcWRionHgj1uewRntvb98ax0pmPEzczfAfC5IKa9SL4ZolcK0yzobFZ2tqk5nUefxYojtaojNisbDskZtwc/KUoL5coJLgWnOKnZOOyeQWhWVJ/Uw++Id1HUOliMc1WO8ayT50Ehx3EzycSXGGzHbr4XpVDU2yiqtYgA1LTMQdDCgu+kWgZJ9HGku62etpLIjFvfEwaEI/NxM8G8nx++tLJ9WUrytx9kVTZsFjYIgScz6ic0q3NY9XPTY6JZF2PQEZyyjSOdlJ0MRL44ZhfCdIPeyKusC+8t2hW/tPEdLaRqFONmsjpxWMUb8GDSZLp+Lq6qL614rktmMwTKOw3ULaSjgYjzmw5zwYopreOYSuDM6e48a/D3c5c+zl6xWKmQW4kzNaAxGA/QoMqccTobDXnrsk3SNjTHotnLDPIJ0wWPnsnuaPtXDzZCP0WSIVCHN14Mtfuy/4P3TY361dzlZWyI0HyWfi2JPqaKhG2/azzXhziDbGIk4GFbEpxh9NnqsVvo1D72KG1NEZk4gNpeFu1qeB811Xm/W+dlZp1mM0qqtUixV6Rf+Ou0c8h2hKqeRK8c4N2FC6vPa6PW7MChOjAI/nHKREuK1WY2TVpHvz19xv5ojndG44rTgjiRxhHVMnkmmhCqjYsPktTASEKVcJv4Dn4En0PRH5coAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;\"\n        alt=\"Hongkong\"\n        title=\"\"\n        src=\"/static/1573b72350c8a783e5ea459a809c1f73/8ff1e/photo-19194765263_69ad0f_o.png\"\n        srcset=\"/static/1573b72350c8a783e5ea459a809c1f73/9ec3c/photo-19194765263_69ad0f_o.png 200w,\n/static/1573b72350c8a783e5ea459a809c1f73/c7805/photo-19194765263_69ad0f_o.png 400w,\n/static/1573b72350c8a783e5ea459a809c1f73/8ff1e/photo-19194765263_69ad0f_o.png 800w,\n/static/1573b72350c8a783e5ea459a809c1f73/6ff5e/photo-19194765263_69ad0f_o.png 1200w,\n/static/1573b72350c8a783e5ea459a809c1f73/8e846/photo-19194765263_69ad0f_o.png 1500w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n      />\n  </span>\n  </a></p>\n<!-- TOC -->\n<ul>\n<li>\n<p><a href=\"#zigbee-communication-without-a-proprietary-hub\">ZigBee Communication without a proprietary Hub</a></p>\n<ul>\n<li><a href=\"#setting-up-the-bridge\">Setting up the bridge</a></li>\n<li><a href=\"#running-the-bridge\">Running the bridge</a></li>\n<li><a href=\"#determine-location-of-cc2531-usb-sniffer-and-checking-user-permissions\">Determine location of CC2531 USB sniffer and checking user permissions</a></li>\n<li><a href=\"#installation\">Installation</a></li>\n<li><a href=\"#configuration\">Configuration</a></li>\n<li><a href=\"#running-zigbee2mqtt\">Running ZigBee2MQTT</a></li>\n<li><a href=\"#running-zigbee2mqtt-as-a-daemon\">Running ZigBee2MQTT as a Daemon</a></li>\n<li><a href=\"#update-zigbee2mqtt-to-the-latest-version\">Update zigbee2mqtt to the latest version</a></li>\n<li><a href=\"#pairing-devices\">Pairing Devices</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#adding-our-sensors-to-fhem\">Adding our Sensors to FHEM</a></p>\n<ul>\n<li><a href=\"#add-the-mqtt-input-to-an-existing-flow\">Add the MQTT input to an existing Flow</a></li>\n</ul>\n</li>\n</ul>\n<!-- /TOC -->\n<h2 id=\"zigbee-communication-without-a-proprietary-hub\"><a href=\"#zigbee-communication-without-a-proprietary-hub\" aria-label=\"zigbee communication without a proprietary hub permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ZigBee Communication without a proprietary Hub</h2>\n<p>Zigbee is a specification for a suite of high-level communication protocols used to create personal area networks with small, low-power digital radios, such as for home automation, medical device data collection, and other low-power low-bandwidth needs, designed for small scale projects which need wireless connection. Hence, Zigbee is a low-power, low data rate, and close proximity wireless ad hoc network.</p>\n<p>The <a href=\"https://github.com/Koenkk/zigbee2mqtt\">Zigbee2MQTT</a> bridge enables you to use selected <a href=\"https://www.zigbee2mqtt.io/information/supported_devices.html\">supported ZigBee devices</a> <strong>without the otherwise mandatory Hub and Vendor Cloud</strong> connection. Among the devices that you can control are smart (ZigBee) light bulbs from Belkin, IKEA, OSRAM and Philips as well as smart sensors from SmartThings and Xiaomi.</p>\n<p>The ZigBee bridge consists of a <strong>ZigBee Sniffer Module</strong> and a controlling software written in <strong>Node.js</strong>. It bridges events and allows you to control your Zigbee devices via <strong>MQTT</strong>. In this way you can integrate your Zigbee devices with whatever smart home infrastructure you are using.</p>\n<p><a href=\"https://www.zigbee2mqtt.io/getting_started/what_do_i_need.html\">Needed Hardware</a>:</p>\n<ul>\n<li>CC debugger</li>\n<li>CC2531 USB sniffer</li>\n<li>Downloader cable CC2531</li>\n<li>PC or Raspberry Pi to run bridge\t</li>\n</ul>\n<p>The Debugger, Sniffer and connecting cable can be ordered directly through <a href=\"https://community.home-assistant.io/t/zigbee2mqtt-getting-rid-of-your-proprietary-zigbee-bridges-xiaomi-hue-tradfri/52108/193\">online shops like AliExpress</a>.</p>\n<p>The debugger and cable are only used once to flash the firmware onto the stick. There is alternative way to do that <a href=\"https://www.zigbee2mqtt.io/information/alternative_flashing_methods.html\">using an Arduino board instead</a>.</p>\n<h3 id=\"setting-up-the-bridge\"><a href=\"#setting-up-the-bridge\" aria-label=\"setting up the bridge permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Setting up the bridge</h3>\n<ol>\n<li>Install <a href=\"http://www.ti.com/tool/FLASH-PROGRAMMER\">SmartRF Flash programmer</a> (<strong>NOT V2</strong>). This software is free but requires a Texas Instruments account in order to download.</li>\n</ol>\n<hr>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/983bf5269150f333772ce890283f6c21/7b680/flash_00.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 730px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 77.26027397260273%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA7CAAAOwgEVKEqAAAACwElEQVQ4y61Ty04UURDt/3DpdxhXBnCiM0YXRIVIQvQjXMBCl3yBMUZCYtiaSAjvAYYBEhIgICDM++HY73u7e3p6pmeOVZcZQ4ILF97kpOrWrXuq7ulqbfhRCg9GEhifmMR6egvZ3X1ksrvYIH9jcxub2ztIb2WUz+fp7QxhB1uZHewfHWPv+xkOT07x4eMnJJJPoJkHB7g6P8dVuYxCpYKrYhG6baMDoN3roT2wcaxs1OkocDwkIvftNGSxDLMVwRQSWvH5C/xIPsbZyAhOh4dxMjSE80QCuVTqGskk8k+foTQ5ifzoKEqv36D4auJ6T+f5e/dRGHuJ3Pg42TFocm0NcnkZ3tISJGFgxeKigrOwAJvgUo7g+OoqxMrKNciX2Szk+hoEnxM0GXdgRxGMZhNC+W1YrRasqAWn01ZP6/bxL0tr1GqolEqo13+iTn61XFFWui5c0rJL2t1apKXCX+KalBKu58Epl6AzcaMBm4iEEAiaIZp0LuhDWRSz+xAUC6igvbcH2zBgOw4sywJzaYHvww9DePk8GhcXqNTrqsMSkRucRBeM42NUqlXU+DU0Db90A4LienoD5UIBNXpdlSbEMExoLdKLSQMi/R9L8zxJzAZM00RMevVIB9Ytplnrdrvosm23/+w5h+0gT+XcgNamZEkaxn3xOej6AQR1LIIALn1pDz245LOukoY3CHy4pKEQLhzSz6d8y7ZIXwdasxlAJ010XVfCMrGTyyG4vESHkltfvyGc+4K4VFaj0+O/hMYspIIR2UHXARVkYq1DCS06ZC1DAu/t+XnU37+Dx8P6MAXzzl2En+dujUivDyblxXfpyREx+/Do2VyFgz5VHkxZTF13paf8kManNjUFcXSIkEgiaoAJ+Q7fVx1yd6yDS2DLnRqzs2jMzCCmubq5Yn5JLo/Y81TBXr+zQYf8PX4DpstImfKtTkkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;\"\n        alt=\"Zigbee2MQTT\"\n        title=\"\"\n        src=\"/static/983bf5269150f333772ce890283f6c21/7b680/flash_00.png\"\n        srcset=\"/static/983bf5269150f333772ce890283f6c21/9ec3c/flash_00.png 200w,\n/static/983bf5269150f333772ce890283f6c21/c7805/flash_00.png 400w,\n/static/983bf5269150f333772ce890283f6c21/7b680/flash_00.png 730w\"\n        sizes=\"(max-width: 730px) 100vw, 730px\"\n      />\n  </span>\n  </a></p>\n<hr>\n<ol start=\"2\">\n<li>Install the <a href=\"http://www.ti.com/general/docs/lit/getliterature.tsp?baseLiteratureNumber=swrc212&#x26;fileType=zip\">CC debugger driver</a> on your PC (Windows only). Before continuing, verify that the CC Debugger driver has been installed correctly. In case the CC Debugger is not recognized correctly <a href=\"https://www.youtube.com/watch?v=jyKrxxXOvQY\">install the driver manually</a>.</li>\n</ol>\n<hr>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b39cf2db7e61283fa70e61d86bda766f/7b680/driver_00.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 730px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 62.465753424657535%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB2UlEQVQoz11Sa2+bMBTN//89mzRN2j6um7opSdd2EBJs84gBG7+wsQkEdlfWqdn5gK6Ez8M+d6OU7l8wTeOyLL3rKkrpuQJIqYZhGN/gcrlIyWGAk9M0bcqyzPOiKM5RnKOipoyVRcGFYEJUTcOF7IehD2E18N5zXjvnVqFNnmWoKAilGM5qA/+UVppxUZSDUksI185evQerZZ7hA7Jaa1ABrU3nPf3+I//wMX33Pr/71gi2zFf38Mgfn3pCZBxXP5/cdr+8QmsBruu8cZcR7yPy6XP95W4qzy64ZRzFbp9st5bxOkU8L8NzNHgf/tx/AjIE/ks2XfeclUdCiqYZ5tloeZmuMi+L7YPDGb6/p7u9IplUSghhrbshd9YeDvHpkKBTWmR5XVNUqa+/yBY3KkzGOdN750NnTGe6eZ7/c7ZPR5weUyjGaNPUlDMWRTFGyNqurmpAA8/O2xAGqOeGrDq7Q+f0lGKEtQGnrqpokiQYY6UUdAgDQig+JKAC/FtnY6IkQifU1A2k8t4yxpLjEcqHMuQL1q1YoVR7Q8YkBWfYK9gCY2TLeXJICCHBBw6FCwHFwo0giLVWqnZ8+9onSIwJRAXPtmVSitXQvqJtW8jMOacUtrb8F+Q3rh6dnOJP+fkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;\"\n        alt=\"Zigbee2MQTT\"\n        title=\"\"\n        src=\"/static/b39cf2db7e61283fa70e61d86bda766f/7b680/driver_00.png\"\n        srcset=\"/static/b39cf2db7e61283fa70e61d86bda766f/9ec3c/driver_00.png 200w,\n/static/b39cf2db7e61283fa70e61d86bda766f/c7805/driver_00.png 400w,\n/static/b39cf2db7e61283fa70e61d86bda766f/7b680/driver_00.png 730w\"\n        sizes=\"(max-width: 730px) 100vw, 730px\"\n      />\n  </span>\n  </a></p>\n<hr>\n<ol start=\"3\">\n<li>Connect <code class=\"language-text\">CC debugger</code> —> <code class=\"language-text\">Downloader cable CC2531</code> —> <code class=\"language-text\">CC2531 USB sniffer</code>.</li>\n</ol>\n<hr>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b7639d155aa03a2ddf678e20119f7a5d/7b680/ccdebugger_00.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 730px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 55.47945205479452%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABoUlEQVQoz2NgwAuCAtzU1ZSADEZGRgYiAUSphJTo1ElV2lqqQDYzMxNpmjPiYtcsnpeTkaairAwRZAaawcSEUw8QQKS5ubiCIwI9Y3xtzczLiwvt7WyBOrHoYWFh4WDngBsJsVZOQyG6OF5KSw7IZmVh8XB1SY6Pj4+OdnN25ubmZmYBG8TIxKggL2eor6ejpaWrra2jpQ0k5WRkRbSkFEMMOIW5mRigbmFjYxMWEpIUFZOXl9FyNJBRlmXg4+XR1FRVUpKXkhRXVJBTU1G2MjNTUVNhRA0h5NAW4Oe19LXSMNNi4OPjUVVRlJeTERLkFxLi19ZQc7C10VZTiwwOntjdVZ6bHeHjaaSmzs7EAjICrJmTg1NRRUFSUQroGFagi+XkpAUF+RQVZHW0NDTUVTzdnYuK8hYunltdV5aZmVBenFGYFu9pZyMqIKAsr+Dt5ColLckvzA/SLCYmIiIiJCQsoKOtqawoLyoiJCEpwcLKgnAzE6Oisry3l7O7k72prr6Rpg4nJycD3B9MTIxA1ezsbHy83Lw83BAfMsIAruQAABB+PAgrOlYNAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;\"\n        alt=\"Zigbee2MQTT\"\n        title=\"\"\n        src=\"/static/b7639d155aa03a2ddf678e20119f7a5d/7b680/ccdebugger_00.png\"\n        srcset=\"/static/b7639d155aa03a2ddf678e20119f7a5d/9ec3c/ccdebugger_00.png 200w,\n/static/b7639d155aa03a2ddf678e20119f7a5d/c7805/ccdebugger_00.png 400w,\n/static/b7639d155aa03a2ddf678e20119f7a5d/7b680/ccdebugger_00.png 730w\"\n        sizes=\"(max-width: 730px) 100vw, 730px\"\n      />\n  </span>\n  </a></p>\n<hr>\n<ol start=\"4\">\n<li>Connect <strong>BOTH</strong> the <code class=\"language-text\">CC2531 USB sniffer</code> and the <code class=\"language-text\">CC debugger</code> to your PC using USB.</li>\n<li>If the light on the CC debugger is RED press set reset button on the CC debugger. The light on the CC debugger should now turn GREEN. If not use <a href=\"http://www.ti.com/lit/ug/swru197h/swru197h.pdf\">CC debugger user guide</a> to troubleshoot your problem. </li>\n<li>Download and unzip the firmware <a href=\"https://github.com/Koenkk/Z-Stack-firmware/tree/master/coordinator/default/CC2531\">CC2531ZNP-Prod.hex</a></li>\n<li>Start SmartRF Flash Programmer, setup as shown below and press <code class=\"language-text\">Perform actions</code>. </li>\n</ol>\n<hr>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1c6c877c2d14178a31f0c35525c8612a/79997/flash_01.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 702px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 86.8945868945869%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAD80lEQVQ4y01TW2xUVRS9pNjGAMYWNbUULPZh1EaIoBGNERMQpNBCNPEFDY9KUEQT/cAA0YhJjX5oYqrxo0yhEUuKfCgaEzX8lI59MAydtvO+M3Nn5s59z7MzTGeU5T5nGujHuvvcc/ZZZz/WFr7qG4Rt+ArOEGwXr2D48ghiMRlyPA5N1VAoFFAsFrmdn59HuVzmKJVKHOyM7TObz+chtG39CM/s+wb1206jZtMJrHn5c3h8QXg8brjdbszOzmJqagrTLhd0TYNhGBypVAqpZLJiF5BOpyE89MIHeP5AH55714b2g/1of7MPHr8IMRiAGA4jIkmIyzJy9HqBorDoomElkZ2bQyaX48gS0tkcUoyw6pF9EDZ/gpr3L2DJ0SE8fLgfUlSGaRqIB4jUeR2KzwfF74MWDCIdlZCSInxPoz014OdrKyRCp4eFFR2nUHv6b9T1/oXqk5fR1vsHZNVAIZ+D6x8XBi6MYvBnO/qHRnDpNwd+/HUKtksOnB2+im8HR3Duoh3fnx/BmSE7gtNeCPdv/RgrD5xF/YlfcM+p39F67DyC4SjisSgMM4n/AJTp8++tii3Sp1i+xf9Li/ZLZHXThHBvaweWPfE2Grv7saJ7AK3v/QTRPoGY3Y7Y+AQSk9cQn5iAPDnJoTocUK45+Do2Nk4+41CdTmhjY5Bd0xDurluPZS2v4rGeAazsPoeWQzZI3gCvSyIQhB4Kw3/dyaHQf3hmBtKsG1GPh84DUEURGvmofj9kWgsbu46jefOHaNv9GZa/9AVa9nxJKUsIRSLwURNEsiHqtJ+vwwiEQkioKlRd5x2eu3mTKyBPCtBITsKLB7/G+s5PsbylC1Vru9D8bDckKYoQde2G8wZmWEREGotSXUnsKpFxzRGSlgWL6mYSLForigLh0R0nsW5PL1q3HIfwwHY0bdiLcKRCqGk6dIqEXUguiJhZ9s/EbS4iY6Jmjwm1jx9Gbfs7uG/dUdQ070Xjk4cg0ehpmsodNJoOdoERiFSjINWW2TCJPkTpS1QO9lAmk6kQVq96DdWNb6G64XUsXf0Gmp7qoemI8UOZhMrAIyFClaxKc2sspJtciJiR3SFs6MTSVa/grobdEOp2oHnTEZqUOEWkcwcGNsMWpWRRJ83vfoDh9cEgImNROe4Qru7Akgc7UdWwk/Lfgqane4gwBl1VeHSJRAIKQbVMKFdHkThyDOqoHRqRqNQEds7AfKPUuAph/S4i3EURbsOaDfvhFyVE4uSsVNL2U2Q+rxdusjMJGW7Sn5d0GKRasqhYd5llKiDCnQuEnUS4HWs37ofDJ+NPN9XLTCGbSd/uJk+RLpq6cbu7LFXW4Ww2y0n/B1OcQzHiWD2WAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;\"\n        alt=\"Zigbee2MQTT\"\n        title=\"\"\n        src=\"/static/1c6c877c2d14178a31f0c35525c8612a/79997/flash_01.png\"\n        srcset=\"/static/1c6c877c2d14178a31f0c35525c8612a/9ec3c/flash_01.png 200w,\n/static/1c6c877c2d14178a31f0c35525c8612a/c7805/flash_01.png 400w,\n/static/1c6c877c2d14178a31f0c35525c8612a/79997/flash_01.png 702w\"\n        sizes=\"(max-width: 702px) 100vw, 702px\"\n      />\n  </span>\n  </a></p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3014b8d933b6e22629143b2cf9ef7868/79997/flash_02.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 702px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 87.17948717948718%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAD50lEQVQ4yz1Ta0xbZRg+MGExgx8QNIBbnBQ71Ojwh+KFLFFciA7wGl0y2XSKxJGoMdEoZlni1MVojEZd5pgUMzcFI9lWvMWlIfMHs0xCEeiNntOenp5LWwrlUijN9vi+X8Efz/lu53ve533f55M+/vIMHAMu9DJ+cmHA+RdiMR1aVINlWlhZWcHq6ioymQyy2SxyuZzA2tqaAJ/xPo/Ly8uQapveQkP7Z6hqPoqi+95FTcsHmAnJmJqagtfrFeP4+DgmJycRj8eRSCQE5ubmkErNiXED8/PzkG5qfAO7Dn6Fxi4H7nixB3c9/zURKpiZCUKWZSjhMLRYTETPkNpUKoVkchaLi4tYWFhYxyLS6YU8oWTbD6npCDa/1g/p0A+4tfMUdN2gS0lEiMznnYYaCUMNK1QGFQnLRNzU6UxBlPajakScmboG0zQhXf/oEZQfvYiyD/9EcbcTtx37HboZx3wqiRFvFCdcIZwaDuH4xQD63Rp6RwycuKThpCuIT3/zo2dYxud/+HF8OAKvEoNU9nA3Kg72obL7AkrfG0Ld62cpXRmBQABWIokcgLWrhGv5MUOfldw1sc5eze9l1xGPJyCVbG9BSX0nth74FiXtDtR1fU81M6jTGlRVFWlyWlExj8LQdeh0xnthRRblsEwDpqHTHVJ4XWk9Su3P4vaOPpS192HHyw6oZBlZDsEwDNFZVsvgtaIoCEcoAJPT2rIsxKnrXD9BePeed2B76E3Yn3wfW3Z/hLpnPkEwGCSb/Au/3y86zeB5KBQSZzqpZIJ0Oo2lpSXRcXYBk0u7XvgCO1sPY4utDZu2Pw574wERiZV4PB7hvwgpEulrmri04bnZ2VkBdgSPrFiyNx9G/VPHUNv0NqSKZtju3U+EBnw+HwxSwSbmn9l/rIjJmID3eWTwGQcQtinZ0YnyO19Fxc4uFNfsw833dMC08nWbmJjA9PS0UMzK+NXwmksQJo9yCVg9B+FggrDgxueweds+FFfvxaZte1HT0EHKLKqZD5dHLmN0dFSky4r4KXIJuI4bpIwUZcCEIuWCG9pQtPVpFFU/Aan8MdgfPESR4tTpKLw+PwJ0medJumSSSt0wxXoDMXpVKa7p/wor96CwmhpS3UIufwS2+zsR02JI6Aw9P5LHGFGykkzKDVKcoieYpL04l4N8aWpR4VVBWFDVQoStRLgbtzzwClTXJcgD5xD62Ql50AlP31mMO87A/Y0D7pMOXOn5DmO9pzF5uh/K4BD9Q/hxEOqVMUiFVa0orGwlwjYibEZtw0vw+DUM/RPDL2N5XHBHcO7vCM4TnKPq+jyM826VznXxz6+EGUXDf83BO5mMD0P0AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;\"\n        alt=\"Zigbee2MQTT\"\n        title=\"\"\n        src=\"/static/3014b8d933b6e22629143b2cf9ef7868/79997/flash_02.png\"\n        srcset=\"/static/3014b8d933b6e22629143b2cf9ef7868/9ec3c/flash_02.png 200w,\n/static/3014b8d933b6e22629143b2cf9ef7868/c7805/flash_02.png 400w,\n/static/3014b8d933b6e22629143b2cf9ef7868/79997/flash_02.png 702w\"\n        sizes=\"(max-width: 702px) 100vw, 702px\"\n      />\n  </span>\n  </a></p>\n<hr>\n<h3 id=\"running-the-bridge\"><a href=\"#running-the-bridge\" aria-label=\"running the bridge permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Running the bridge</h3>\n<p>After flashing your CC2531 USB sniffer with CC2531ZNP-Prod.hex firmware we can remove the CC Debugger and connecting cable and plug the Sniffer into our Linux computer you can use a <strong>Raspberry Pi 3</strong> with <strong>Raspbian Stretch Lite</strong>, but will work on any Linux machine.</p>\n<h4 id=\"determine-location-of-cc2531-usb-sniffer-and-checking-user-permissions\"><a href=\"#determine-location-of-cc2531-usb-sniffer-and-checking-user-permissions\" aria-label=\"determine location of cc2531 usb sniffer and checking user permissions permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Determine location of CC2531 USB sniffer and checking user permissions</h4>\n<p>We first need to determine the location of the CC2531 USB sniffer. Connect the CC2531 USB to your Raspberry Pi. Most of the times the location of the CC2531 is <code class=\"language-text\">/dev/ttyACM0</code>. This can be verified by:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">ls</span> -l /dev/ttyACM0\ncrw-rw---- 1 root dialout 166, 0 Apr 21 13:14 /dev/ttyACM0  <span class=\"token comment\"># &lt;-- CC2531 on /dev/ttyACM0</span></code></pre></div>\n<hr>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/37fd2d4145a1b1101bed9a256fd79449/a6906/zigbee2mqtt_01.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 728px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 4.8076923076923075%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAIAAABR8BlyAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAPElEQVQI12M4cnb16Ysbz5zcfuHUtguntpw9vvHc8U13rh88vm/5jPb8xb1FV89sfnjv2L1bh+7fPoyGAGKXLhF7eBOrAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;\"\n        alt=\"Zigbee2MQTT\"\n        title=\"\"\n        src=\"/static/37fd2d4145a1b1101bed9a256fd79449/a6906/zigbee2mqtt_01.png\"\n        srcset=\"/static/37fd2d4145a1b1101bed9a256fd79449/9ec3c/zigbee2mqtt_01.png 200w,\n/static/37fd2d4145a1b1101bed9a256fd79449/c7805/zigbee2mqtt_01.png 400w,\n/static/37fd2d4145a1b1101bed9a256fd79449/a6906/zigbee2mqtt_01.png 728w\"\n        sizes=\"(max-width: 728px) 100vw, 728px\"\n      />\n  </span>\n  </a></p>\n<hr>\n<p>As an alternative, the device can also be mapped by an ID. This can be handy if you have multiple serial devices connected to your pi. In the example below the device location is: <code class=\"language-text\">/dev/serial/by-id/usb-Texas_Instruments_TI_CC2531_USB_CDC___0X00124B0018E32D5B-if00</code></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">ls</span> -l /dev/serial/by-id\ntotal 0\nlrwxrwxrwx 1 root root 13 Apr 21 13:14 usb-Texas_Instruments_TI_CC2531_USB_CDC___0X00124B0018ED113B-if00 -<span class=\"token operator\">></span> <span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/ttyACM0</code></pre></div>\n<hr>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7ec366605ae74a597215a541d0b0b525/7ec06/zigbee2mqtt_02.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 732px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 8.060109289617486%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAd0lEQVQI1x2HTQ6CMBQGuagLr8DWjXdwwy3caHQhCdgPY/BJ+/pDH0XiVaQmk8lMkb7tPL3T2PjhavoT05npYk0topKoGFWOKVv+u6wdVRhXUOzLbbXbtMfDR+7ibnOoY2iMf5CDdiAGWWif/bJ4GnBAz+g0MHQ/gz9d6vdOe3EAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;\"\n        alt=\"Zigbee2MQTT\"\n        title=\"\"\n        src=\"/static/7ec366605ae74a597215a541d0b0b525/7ec06/zigbee2mqtt_02.png\"\n        srcset=\"/static/7ec366605ae74a597215a541d0b0b525/9ec3c/zigbee2mqtt_02.png 200w,\n/static/7ec366605ae74a597215a541d0b0b525/c7805/zigbee2mqtt_02.png 400w,\n/static/7ec366605ae74a597215a541d0b0b525/7ec06/zigbee2mqtt_02.png 732w\"\n        sizes=\"(max-width: 732px) 100vw, 732px\"\n      />\n  </span>\n  </a></p>\n<hr>\n<h4 id=\"installation\"><a href=\"#installation\" aria-label=\"installation permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Installation</h4>\n<p>To use ZigBee2MQTT we first need to install Node.js and Git:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> update\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> <span class=\"token function\">git</span></code></pre></div>\n<p>You can confirm that you have installed Git and Node correctly by running the following commands:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> --version\nnode -v</code></pre></div>\n<hr>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/af89768258b258aeff83197ea9763b79/af110/zigbee2mqtt_03.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 731px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 8.618331053351573%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAN0lEQVQI12PYf2rZ6TNbL5zafePynqsXdgHJB3eO3L99mBjEcOTM6vMXt185v/f65d33iNMDRwAwTGH9olzo2AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;\"\n        alt=\"Zigbee2MQTT\"\n        title=\"\"\n        src=\"/static/af89768258b258aeff83197ea9763b79/af110/zigbee2mqtt_03.png\"\n        srcset=\"/static/af89768258b258aeff83197ea9763b79/9ec3c/zigbee2mqtt_03.png 200w,\n/static/af89768258b258aeff83197ea9763b79/c7805/zigbee2mqtt_03.png 400w,\n/static/af89768258b258aeff83197ea9763b79/af110/zigbee2mqtt_03.png 731w\"\n        sizes=\"(max-width: 731px) 100vw, 731px\"\n      />\n  </span>\n  </a></p>\n<hr>\n<p>Then clone <a href=\"https://github.com/Koenkk/zigbee2mqtt\">ZigBee2MQTT from Github</a> and change the owner of the <code class=\"language-text\">/opt/zigbee2mqtt</code> directory to your default Linux user - in our case this is <code class=\"language-text\">nodeadmin</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">git</span> clone https://github.com/Koenkk/zigbee2mqtt.git /opt/zigbee2mqtt\n<span class=\"token function\">sudo</span> <span class=\"token function\">chown</span> -R pi:pi /opt/zigbee2mqtt</code></pre></div>\n<p>Then change into the directory and use <code class=\"language-text\">npm</code> to install all dependencies:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">cd</span> /opt/zigbee2mqtt\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span></code></pre></div>\n<hr>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/92a96e661ebb18928c21dfd2b397f042/7b680/zigbee2mqtt_04.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 730px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 31.506849315068497%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABLUlEQVQY01XN2U6DQBQGYJ7fG2PihUtri2iUUqg4qK1tKTAMy4yUoQsd1kGfxKm9Mvny5z8nJzmSFz7PoeJjjczHeHBBlMtMvd4b/cKUSyAzc8DMoZAbdxW4F8RmP+41js4bJCW+uUaAuEbgalFoJsSKApNgi9IpK9y2C1seNC0Syb+j7ijufmIuxhJKyBtBVw08DcNJYKuhPYodLUGTLzTJsJXFVoYBjUFOZ7z0/qmgFBLdTzRCzS210/WsYG5d+01zfNV1UcfDtobt36nIE9FPpEWsvMCbJX4kDsB6j77Jm4+HDZC3lpICmb4OGbZYbrPNnO0WxW5RHZyu9nnti5SmwfAdD9xUjb0l0o2VqgXKbXp1tuufF59PFXrla7tmXrW3y9yuD45QHVan8gv09xWAFsb4iAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;\"\n        alt=\"Zigbee2MQTT\"\n        title=\"\"\n        src=\"/static/92a96e661ebb18928c21dfd2b397f042/7b680/zigbee2mqtt_04.png\"\n        srcset=\"/static/92a96e661ebb18928c21dfd2b397f042/9ec3c/zigbee2mqtt_04.png 200w,\n/static/92a96e661ebb18928c21dfd2b397f042/c7805/zigbee2mqtt_04.png 400w,\n/static/92a96e661ebb18928c21dfd2b397f042/7b680/zigbee2mqtt_04.png 730w\"\n        sizes=\"(max-width: 730px) 100vw, 730px\"\n      />\n  </span>\n  </a></p>\n<hr>\n<h4 id=\"configuration\"><a href=\"#configuration\" aria-label=\"configuration permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Configuration</h4>\n<p>Before we can start zigbee2mqtt we need to edit the configuration.yaml file. This file contains the configuration which will be used by zigbee2mqtt. Open the configuration file:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">nano</span> /opt/zigbee2mqtt/data/configuration.yaml</code></pre></div>\n<hr>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/36e83adc9f974118600937e43a5574ba/7ec06/zigbee2mqtt_05.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 732px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 43.442622950819676%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABJklEQVQoz4WQ6U7CUBCF++hEEw24FEiIsShBFAmkSmxlKQJlKbJ031u6CD6Jp2niz5KcTCb33m/mnkO0atdNqvBUuaiSOYrMNe4um1S+9XD19lymG6VOvdipk3Sj2K7ftms3tfL5Y+ns5T6P29dqgZA3jC71DKlvKcO9w3vWxLenvjWJ/PkxWh0iAfVfv/E3lPShcIxXhLbrGXJfF/sAAneaAKEABvUnWGaLMJWhpXGBO8NrbEvkJTX2F/F+cQJez2lly0rrD3XL2hrnaCPPGnvmGA1GHMJMeLt8VzaMKHTBwzycO/oocHgIRrKXE+KqK68ZZcPCNrDQ5bEWmQFGg89nwZr4aatDW+VCb5YepWmlOuFZ2bGmPIBtQx64xhfCQ2Anc071BwPtqrL65V0BAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;\"\n        alt=\"Zigbee2MQTT\"\n        title=\"\"\n        src=\"/static/36e83adc9f974118600937e43a5574ba/7ec06/zigbee2mqtt_05.png\"\n        srcset=\"/static/36e83adc9f974118600937e43a5574ba/9ec3c/zigbee2mqtt_05.png 200w,\n/static/36e83adc9f974118600937e43a5574ba/c7805/zigbee2mqtt_05.png 400w,\n/static/36e83adc9f974118600937e43a5574ba/7ec06/zigbee2mqtt_05.png 732w\"\n        sizes=\"(max-width: 732px) 100vw, 732px\"\n      />\n  </span>\n  </a></p>\n<hr>\n<p>I am going to use a local Mosquitto MQTT server running on a INSTAR Full HD Camera on <em>192.168.2.115</em>. Alternatively, you can install a <a href=\"https://wiki.instar.com/Software/Linux/Node-RED/#installing-mosquitto\">local Mosquitto Server</a> on your Raspberry Pi and add it via <code class=\"language-text\">server: &#39;mqtt://localhost&#39;</code> in the config file.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># Home Assistant integration (MQTT discovery)</span>\n<span class=\"token key atrule\">homeassistant</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n\n<span class=\"token comment\"># allow new devices to join</span>\n<span class=\"token key atrule\">permit_join</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n\n<span class=\"token comment\"># MQTT settings</span>\n<span class=\"token key atrule\">mqtt</span><span class=\"token punctuation\">:</span>\n  <span class=\"token comment\"># MQTT base topic for zigbee2mqtt MQTT messages</span>\n  <span class=\"token key atrule\">base_topic</span><span class=\"token punctuation\">:</span> zigbee2mqtt\n  <span class=\"token comment\"># MQTT server URL</span>\n  <span class=\"token key atrule\">server</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'mqtt://192.168.2.115'</span>\n  <span class=\"token comment\"># MQTT server authentication, uncomment if required:</span>\n  <span class=\"token comment\"># user: my_user</span>\n  <span class=\"token comment\"># password: my_password</span>\n\n<span class=\"token comment\"># Serial settings</span>\n<span class=\"token key atrule\">serial</span><span class=\"token punctuation\">:</span>\n  <span class=\"token comment\"># Location of CC2531 USB sniffer</span>\n  <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> /dev/ttyACM0</code></pre></div>\n<p>I am not sure if Zigbee2MQTT offer TLS support - I will have to look into that. Also, I deactivated the user authentication on my MQTT server for now to have an easier time debugging - user name and password have to be added here before reactivating it.</p>\n<p>Make sure that <code class=\"language-text\">permit_join</code> is set to <code class=\"language-text\">true</code>, to allow new devices to be added. It can be set to <code class=\"language-text\">false</code> once all your Zigbee devices are integrated.</p>\n<p>For the serial port you can use the <a href=\"#determine-location-of-cc2531-usb-sniffer-and-checking-user-permissions\">location of CC2531 USB sniffer</a> that we determined to be either <code class=\"language-text\">/dev/ttyACM0</code> or <code class=\"language-text\">/dev/serial/by-id/usb-Texas_Instruments_TI_CC2531_USB_CDC___0X00124B0018ED113B-if00</code> - both can be used interchangeably (the location might differ in your case!).</p>\n<h4 id=\"running-zigbee2mqtt\"><a href=\"#running-zigbee2mqtt\" aria-label=\"running zigbee2mqtt permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Running ZigBee2MQTT</h4>\n<p>Now that we have setup everything correctly we can start zigbee2mqtt directly from our console to see if there are any error messages:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">cd</span> /opt/zigbee2mqtt\n<span class=\"token function\">npm</span> start</code></pre></div>\n<p>You should see the status LED on your CC2531 light up green and hopefully a friendly console log like this:</p>\n<hr>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/bd210ff556999e29664b143039a7fc08/c2c20/zigbee2mqtt_06.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 729px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 49.65706447187929%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAB50lEQVQoz41SyXbaQBDU//9ADjaX5CXYRgiBhdksC+2jfbQhBML2n1R6BttJbjnU61bPqKequpWknCPIVKR8gTzeI/IdhJ4LnlqoshWO9TPezu5/Q+nKLdJgjpwt0Lc7nA6Edouu3KAp1lQzcentL7yeHBmHbo/huMfleK2LXECpqhXs+A5FY6Bq18RqjTpfo+VbNPlKsqwJonmZLnEodzIXtSp7kuCx8aHGhCIa6dEIDr8HK2eInCliT7vCnYK5M4S2imCvIiQwOu+qnWQj7OjbFxnPBwvvgwelaZYw2QgsGyMrNPppAmZPZbPYFQ00BNYDEl+Xjwl7MkKVPqFMljg1ppQvrJAeDqWBzhnhFI3Rp7OPZho1mCH1NUQesZbfumxWkLyYaqWwQthAkQtL+AanzoLC+zXmyQh2MUbApwitiZQVEcPImcB/vkNg3iOgyExiSvKryEBN8ltCR5b0no4LeftGTJXS+oFNcAu/VpFUc2IlmOhy6plgOblBOv6GQr0BV29RU2xIxYGGdiDZLQ3uTIyPm184WyqUfPUdgf0TvKaJ0cRz9ghO3gh5YoJZsEARLsCjR/LMkJE5KnKK8mExYcqzlwdU1FipaQ+PtGuv/Z99ErsljL70/+7Y8Hcu733eca5nhN9lsJg2dVHliwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;\"\n        alt=\"Zigbee2MQTT\"\n        title=\"\"\n        src=\"/static/bd210ff556999e29664b143039a7fc08/c2c20/zigbee2mqtt_06.png\"\n        srcset=\"/static/bd210ff556999e29664b143039a7fc08/9ec3c/zigbee2mqtt_06.png 200w,\n/static/bd210ff556999e29664b143039a7fc08/c7805/zigbee2mqtt_06.png 400w,\n/static/bd210ff556999e29664b143039a7fc08/c2c20/zigbee2mqtt_06.png 729w\"\n        sizes=\"(max-width: 729px) 100vw, 729px\"\n      />\n  </span>\n  </a></p>\n<hr>\n<p>You can see that the service is running, connected to the local MQTT server and published a message to <code class=\"language-text\">zigbee2mqtt/bridge/state</code> with the payload <code class=\"language-text\">online</code>. We can use the program <a href=\"https://github.com/thomasnordquist/MQTT-Explorer\">MQTT Explorer</a> to verify that the message was received by our Mosquitto server:</p>\n<hr>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4a8a2f81b8c643ad47a87da2c6e15f72/7b680/zigbee2mqtt_07.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 730px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 40.41095890410959%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABiElEQVQoz5WRy07bQBRA/TFdJCJ+YEvYTmzH9ng8cXBIIUkfiN/oqv9BWyWoVSU+opsuKxVUKoIKUlcVeyB/cBgctV10QxdH587c0Z25d4xPn3/y5es1F1d3LC9XLK9WOl6tY8355R3fL24bzjTfljcNZ7+t985/rHMnp78w5Owjw4Nj5GRONn7HYLZg+PwINV00yL05gTokKA8J1RuSnSP6mrheEG/P6Y8WVM8+kO++p5q+xdgtFa9eHpD7IX7YJfAD/AeCsHGgHQR/XVdD9sZPUbIkz3JELsi0k37KZDzCSLtdXihFrUrUQFEIgRD5HwvtPM+adZamZGEPESVkvYgojvCTHnESE4Yho6rEMC2LVqfDhqbTYP6DaZpNztJnt+u6QUhJlRbsx4pBXpDqC6cPL3Qch02N8wg8z6UoJLLQ3QwrJrHk9dYO46xE6O72Z5N1wcdg27b2Jl3fJYlcvC0PyzZ54mzQsUxarTYyS/6/YC/0KPqu/jwXVxe09UgsPZJWu02RJtwDGAs6YsGGNXsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;\"\n        alt=\"Zigbee2MQTT\"\n        title=\"\"\n        src=\"/static/4a8a2f81b8c643ad47a87da2c6e15f72/7b680/zigbee2mqtt_07.png\"\n        srcset=\"/static/4a8a2f81b8c643ad47a87da2c6e15f72/9ec3c/zigbee2mqtt_07.png 200w,\n/static/4a8a2f81b8c643ad47a87da2c6e15f72/c7805/zigbee2mqtt_07.png 400w,\n/static/4a8a2f81b8c643ad47a87da2c6e15f72/7b680/zigbee2mqtt_07.png 730w\"\n        sizes=\"(max-width: 730px) 100vw, 730px\"\n      />\n  </span>\n  </a></p>\n<hr>\n<p>Looks like we were successful!</p>\n<h4 id=\"running-zigbee2mqtt-as-a-daemon\"><a href=\"#running-zigbee2mqtt-as-a-daemon\" aria-label=\"running zigbee2mqtt as a daemon permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Running ZigBee2MQTT as a Daemon</h4>\n<p>To run zigbee2mqtt as a service and start it automatically on boot we will run zigbee2mqtt with <code class=\"language-text\">systemctl</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">nano</span> /etc/systemd/system/zigbee2mqtt.service</code></pre></div>\n<p>Add the following to this file to automatically run the <code class=\"language-text\">index.js</code> file from the <code class=\"language-text\">zigbee2mqtt</code> bridge inside the Node runtime:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">[Unit]\nDescription=zigbee2mqtt\nAfter=network.target\n\n[Service]\nExecStart=/usr/bin/node /opt/zigbee2mqtt/index.js\nStandardOutput=syslog\nStandardError=syslog\nSyslogIdentifier=zigbee2mqtt\nRestart=always\n # Restart service after 10 seconds if node service crashes\n RestartSec=10\n\n[Install]\nWantedBy=multi-user.target</code></pre></div>\n<hr>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/023ef4131b7ffb965594acf71e5f1eb1/7ec06/zigbee2mqtt_08.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 732px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 34.15300546448087%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA/0lEQVQY03WQe0vCYBTG9+E1CNRaS5BCN8xlm1ulNlPalTmnzr3q7hffWt+k0x+GhsKPw+HhPJznHGLINXjmmmeuHu8rTP2CpkrdZuWpWQVR7FBimxQeyBf2VmiTHF1j7y5pqtyiSlyrJnZuCDQfbB0pQJOtM4q9j29sFbvpH1+5ecSxTmyWkmv3ffTuo3HsybtEz0IVyCMN+MzM//4DCMd6tY0esvvQeO4oDdXElyFCGirQw0SBrbPmuSHoE3am8QvzGU4I0BgW4sTIIz2PAQ1S4NQ4bYa0rj3YLN/2UWGzkkVqGigAKFDPmr2VtF4MIeqvwZdhtMDTw5+deNueH9MpSGSwsenqAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;\"\n        alt=\"Zigbee2MQTT\"\n        title=\"\"\n        src=\"/static/023ef4131b7ffb965594acf71e5f1eb1/7ec06/zigbee2mqtt_08.png\"\n        srcset=\"/static/023ef4131b7ffb965594acf71e5f1eb1/9ec3c/zigbee2mqtt_08.png 200w,\n/static/023ef4131b7ffb965594acf71e5f1eb1/c7805/zigbee2mqtt_08.png 400w,\n/static/023ef4131b7ffb965594acf71e5f1eb1/7ec06/zigbee2mqtt_08.png 732w\"\n        sizes=\"(max-width: 732px) 100vw, 732px\"\n      />\n  </span>\n  </a></p>\n<hr>\n<p>Save the file, exit and verify that the configuration works:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> systemctl daemon-reload\n<span class=\"token function\">sudo</span> systemctl start zigbee2mqtt\nsystemctl status zigbee2mqtt.service</code></pre></div>\n<hr>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/96e070bc3872ded682dd9b71fd1ab1b0/af110/zigbee2mqtt_09.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 731px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 25.3077975376197%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA80lEQVQY022OS0+DQBhF+f8bExNXpsbGqCFTUgsUoTADDM+ZTmGgvCz08VP80MSVycld3ZtzFYM9viR3Jl98mhS9Zssn5uOYRas0QDnVEqLGWM0CJPfbtnSGo3dqyW2KgesYKUS8WeHCZ+9B6BJMTX1H8bbM9ZIZFTdhI9KNZEYnnctXeP5h7INpCOdxWzgpRsx6Tlb3XH8QeCmyD8kNoD5YrXSa0m4KuxIWaIfag+xrF/zXKVIufXhqSCesgqI60ap8LbkuuXnINrAExs7/PTm/Pcd/OZvzQqN7NS/WaeIFGBOXZNQGW1+5bWkfQV7toPcv3zR46IDmlcsTAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;\"\n        alt=\"Zigbee2MQTT\"\n        title=\"\"\n        src=\"/static/96e070bc3872ded682dd9b71fd1ab1b0/af110/zigbee2mqtt_09.png\"\n        srcset=\"/static/96e070bc3872ded682dd9b71fd1ab1b0/9ec3c/zigbee2mqtt_09.png 200w,\n/static/96e070bc3872ded682dd9b71fd1ab1b0/c7805/zigbee2mqtt_09.png 400w,\n/static/96e070bc3872ded682dd9b71fd1ab1b0/af110/zigbee2mqtt_09.png 731w\"\n        sizes=\"(max-width: 731px) 100vw, 731px\"\n      />\n  </span>\n  </a></p>\n<hr>\n<p>Now that everything works, we want <code class=\"language-text\">systemctl</code> to start <code class=\"language-text\">zigbee2mqtt</code> automatically on boot, this can be done by executing:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo systemctl enable zigbee2mqtt.service</code></pre></div>\n<hr>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/042cc5df5914d41c6c035dd06ae48a4c/7ec06/zigbee2mqtt_10.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 732px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 6.0109289617486334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAIAAABR8BlyAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAASElEQVQI1wE9AML/AMTIqrzEo8PHqcbCucG7ur67vMq4r9CnltGpmNGpmdCnltGol8uik8+mltKmltfIs9rYwNbQutTQudbSuyg8K7bvqTuFAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;\"\n        alt=\"Zigbee2MQTT\"\n        title=\"\"\n        src=\"/static/042cc5df5914d41c6c035dd06ae48a4c/7ec06/zigbee2mqtt_10.png\"\n        srcset=\"/static/042cc5df5914d41c6c035dd06ae48a4c/9ec3c/zigbee2mqtt_10.png 200w,\n/static/042cc5df5914d41c6c035dd06ae48a4c/c7805/zigbee2mqtt_10.png 400w,\n/static/042cc5df5914d41c6c035dd06ae48a4c/7ec06/zigbee2mqtt_10.png 732w\"\n        sizes=\"(max-width: 732px) 100vw, 732px\"\n      />\n  </span>\n  </a></p>\n<hr>\n<p>To stop, restart or check the log of our service run the following commands:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Stopping zigbee2mqtt</span>\n<span class=\"token function\">sudo</span> systemctl stop zigbee2mqtt\n\n<span class=\"token comment\"># Starting zigbee2mqtt</span>\n<span class=\"token function\">sudo</span> systemctl start zigbee2mqtt\n\n<span class=\"token comment\"># View the log of zigbee2mqtt</span>\n<span class=\"token function\">sudo</span> journalctl -u zigbee2mqtt.service -f</code></pre></div>\n<h4 id=\"update-zigbee2mqtt-to-the-latest-version\"><a href=\"#update-zigbee2mqtt-to-the-latest-version\" aria-label=\"update zigbee2mqtt to the latest version permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Update zigbee2mqtt to the latest version</h4>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Stop zigbee2mqtt and go to directory</span>\n<span class=\"token function\">sudo</span> systemctl stop zigbee2mqtt\n<span class=\"token function\">cd</span> /opt/zigbee2mqtt\n\n<span class=\"token comment\"># Backup configuration</span>\n<span class=\"token function\">cp</span> -R data data-backup\n\n<span class=\"token comment\"># Update</span>\n<span class=\"token function\">git</span> checkout HEAD -- npm-shrinkwrap.json\n<span class=\"token function\">git</span> pull\n<span class=\"token function\">rm</span> -rf node_modules\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span>\n\n<span class=\"token comment\"># Restore configuration</span>\n<span class=\"token function\">cp</span> -R data-backup/* data\n<span class=\"token function\">rm</span> -rf data-backup\n\n<span class=\"token comment\"># Start zigbee2mqtt</span>\n<span class=\"token function\">sudo</span> systemctl start zigbee2mqtt</code></pre></div>\n<h3 id=\"pairing-devices\"><a href=\"#pairing-devices\" aria-label=\"pairing devices permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pairing Devices</h3>\n<p>The <a href=\"https://www.zigbee2mqtt.io/information/supported_devices.html\">number of devices that you can use with the zigbee2mqtt bridge</a> is steadily growing (there are alternative <a href=\"https://www.zigbee2mqtt.io/getting_started/pairing_devices.html\">pairing instructions available here</a>). In this tutorial we are going to add 3 <a href=\"https://xiaomi-mi.com/sockets-and-sensors/\">XiaoMi Mi Home</a> sensors - a <a href=\"https://xiaomi-mi.com/sockets-and-sensors/xiaomi-mi-temperature-humidity-sensor/\">Temperature &#x26; Humidity Sensor</a>, a <a href=\"https://xiaomi-mi.com/sockets-and-sensors/xiaomi-mi-wireless-switch/\">Wireless Switch</a> and a <a href=\"https://xiaomi-mi.com/sockets-and-sensors/xiaomi-mi-occupancy-sensor/\">Home Occupancy Sensor</a>.</p>\n<p><strong>IMPORTANT</strong>: Before you start, make sure that <a href=\"#configuration\">permit_join: true</a> is set in your <code class=\"language-text\">configuration.yaml</code>. Otherwise new devices cannot join the network! Also verify that the <a href=\"#running-zigbee2mqtt-as-a-daemon\">ZigBee2MQTT Bridge is running</a>.</p>\n<p>We first start with the <strong>Temperature &#x26; Humidity Sensor</strong> that has a pairing button on its side. Press the button for about 5 seconds - the <strong>blue LED will start to blink</strong>: in my case it started to blink slowly in 3-time sequences. After a few seconds the blinking sped up and stopped and the device was paired with the ZigBee Bridge.</p>\n<p>The pairing can be found inside a log file in <code class=\"language-text\">/opt/zigbee2mqtt/data/log/</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\">4/22/2019<span class=\"token punctuation\">,</span> 3<span class=\"token punctuation\">:</span>34<span class=\"token punctuation\">:</span>17 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">info</span><span class=\"token punctuation\">:</span> New device 'undefined' with address 0x00158d00023a21c8 connected!\n4/22/2019<span class=\"token punctuation\">,</span> 3<span class=\"token punctuation\">:</span>34<span class=\"token punctuation\">:</span>17 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">info</span><span class=\"token punctuation\">:</span> MQTT publish<span class=\"token punctuation\">:</span> topic 'zigbee2mqtt/bridge/log'<span class=\"token punctuation\">,</span> payload '<span class=\"token punctuation\">{</span>\"type\"<span class=\"token punctuation\">:</span><span class=\"token string\">\"device_connected\"</span><span class=\"token punctuation\">,</span>\"message\"<span class=\"token punctuation\">:</span><span class=\"token string\">\"0x00158d00023a21c8\"</span><span class=\"token punctuation\">,</span>\"meta\"<span class=\"token punctuation\">:</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>'\n4/22/2019<span class=\"token punctuation\">,</span> 3<span class=\"token punctuation\">:</span>34<span class=\"token punctuation\">:</span>17 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">warn</span><span class=\"token punctuation\">:</span> Device with modelID 'undefined' is not supported.\n4/22/2019<span class=\"token punctuation\">,</span> 3<span class=\"token punctuation\">:</span>34<span class=\"token punctuation\">:</span>17 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">warn</span><span class=\"token punctuation\">:</span> Please see<span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//www.zigbee2mqtt.io/how_tos/how_to_support_new_devices.html\n4/22/2019<span class=\"token punctuation\">,</span> 3<span class=\"token punctuation\">:</span>34<span class=\"token punctuation\">:</span>17 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">info</span><span class=\"token punctuation\">:</span> MQTT publish<span class=\"token punctuation\">:</span> topic 'zigbee2mqtt/0x00158d00023a21c8'<span class=\"token punctuation\">,</span> payload '<span class=\"token punctuation\">{</span>\"temperature\"<span class=\"token punctuation\">:</span><span class=\"token number\">29.63</span><span class=\"token punctuation\">,</span>\"linkquality\"<span class=\"token punctuation\">:</span><span class=\"token number\">134</span><span class=\"token punctuation\">}</span>'\n4/22/2019<span class=\"token punctuation\">,</span> 3<span class=\"token punctuation\">:</span>34<span class=\"token punctuation\">:</span>17 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">info</span><span class=\"token punctuation\">:</span> MQTT publish<span class=\"token punctuation\">:</span> topic 'zigbee2mqtt/0x00158d00023a21c8'<span class=\"token punctuation\">,</span> payload '<span class=\"token punctuation\">{</span>\"temperature\"<span class=\"token punctuation\">:</span><span class=\"token number\">29.63</span><span class=\"token punctuation\">,</span>\"linkquality\"<span class=\"token punctuation\">:</span><span class=\"token number\">134</span><span class=\"token punctuation\">,</span>\"humidity\"<span class=\"token punctuation\">:</span><span class=\"token number\">60.12</span><span class=\"token punctuation\">}</span>'\n4/22/2019<span class=\"token punctuation\">,</span> 3<span class=\"token punctuation\">:</span>35<span class=\"token punctuation\">:</span>05 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">info</span><span class=\"token punctuation\">:</span> MQTT publish<span class=\"token punctuation\">:</span> topic 'zigbee2mqtt/0x00158d00023a21c8'<span class=\"token punctuation\">,</span> payload '<span class=\"token punctuation\">{</span>\"temperature\"<span class=\"token punctuation\">:</span><span class=\"token number\">29.12</span><span class=\"token punctuation\">,</span>\"linkquality\"<span class=\"token punctuation\">:</span><span class=\"token number\">134</span><span class=\"token punctuation\">,</span>\"humidity\"<span class=\"token punctuation\">:</span><span class=\"token number\">60.12</span><span class=\"token punctuation\">}</span>'\n4/22/2019<span class=\"token punctuation\">,</span> 3<span class=\"token punctuation\">:</span>35<span class=\"token punctuation\">:</span>05 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">info</span><span class=\"token punctuation\">:</span> MQTT publish<span class=\"token punctuation\">:</span> topic 'zigbee2mqtt/0x00158d00023a21c8'<span class=\"token punctuation\">,</span> payload '<span class=\"token punctuation\">{</span>\"temperature\"<span class=\"token punctuation\">:</span><span class=\"token number\">29.12</span><span class=\"token punctuation\">,</span>\"linkquality\"<span class=\"token punctuation\">:</span><span class=\"token number\">134</span><span class=\"token punctuation\">,</span>\"humidity\"<span class=\"token punctuation\">:</span><span class=\"token number\">57.13</span><span class=\"token punctuation\">}</span>'\n4/22/2019<span class=\"token punctuation\">,</span> 3<span class=\"token punctuation\">:</span>35<span class=\"token punctuation\">:</span>08 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">info</span><span class=\"token punctuation\">:</span> Device incoming<span class=\"token punctuation\">...</span>\n4/22/2019<span class=\"token punctuation\">,</span> 3<span class=\"token punctuation\">:</span>35<span class=\"token punctuation\">:</span>08 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">info</span><span class=\"token punctuation\">:</span> MQTT publish<span class=\"token punctuation\">:</span> topic 'zigbee2mqtt/bridge/log'<span class=\"token punctuation\">,</span> payload '<span class=\"token punctuation\">{</span>\"type\"<span class=\"token punctuation\">:</span><span class=\"token string\">\"pairing\"</span><span class=\"token punctuation\">,</span>\"message\"<span class=\"token punctuation\">:</span><span class=\"token string\">\"device incoming\"</span><span class=\"token punctuation\">}</span>'</code></pre></div>\n<p>Shortly afterwards the sensor data started coming in:</p>\n<hr>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/bc58ad487f242e3b6150e3fcb36bc922/7b680/zigbee2mqtt_11.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 730px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 49.86301369863014%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAB7UlEQVQoz42Sy27TQBSG/Ti5iFzdJnbsxDO+JLGdEHKhadwKWpGoPAAvBkLqlS0SO8SGDa1KYIWQwhN8jB2ogAWw+HTOHM35Z84/o71+85637675cPOF2/WGj582rD9/U1Gh4voPsvpvbLK+69uv3Ci0KDljdHTO7MkFs+UVo8fn7D99xUIxP7lStUseri5V/QwxfoE7fYk32yJVHh+eMj6+IExO8ebP0YLwiOTRM8z2lEq9R7nep1TbxooeZrlhT4hGK+LxCaJ7SNtd0PESOm6C8BPc4EDlC7rxMVpjt8ZqecR0ch/P7dDrucRRlygM6AaSQCE6LSJP8iDqEUmHbsfGEzZSKsQWx2llPZrvByyXK5LkgMUiydjbm7O/v2AwGDIYDpGORBqqyWzTaVoI08a2bKwftCwLwzDxPB9N13WazSbVajWjVquRz+czisViFncbDSbTCWEU4vk+0nVxhIMQQt3MwVc1z/OI4xitXC5TKpWoVCqkecpP8ZR0bZomvX4fIV0lPFU2BGpMoUaWmWgURZnYfD5HS4X+Riqo6zvYzR2kuUNTr2VT1Ov1O349+L8E06awV2U8rGCb9yjkC+RyuTtSWwr5IiW199+CpTIN5aHVVsZbJoZpIBzBUD1WOmYcxXT76mu5DYRh8B2mTYt7rOIZPwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;\"\n        alt=\"Zigbee2MQTT\"\n        title=\"\"\n        src=\"/static/bc58ad487f242e3b6150e3fcb36bc922/7b680/zigbee2mqtt_11.png\"\n        srcset=\"/static/bc58ad487f242e3b6150e3fcb36bc922/9ec3c/zigbee2mqtt_11.png 200w,\n/static/bc58ad487f242e3b6150e3fcb36bc922/c7805/zigbee2mqtt_11.png 400w,\n/static/bc58ad487f242e3b6150e3fcb36bc922/7b680/zigbee2mqtt_11.png 730w\"\n        sizes=\"(max-width: 730px) 100vw, 730px\"\n      />\n  </span>\n  </a></p>\n<hr>\n<p>So far so good. But the <strong>device ID</strong> was a bit hard to read and memorize: <code class=\"language-text\">0x00158d00023a21c8</code>. Luckily this can be adjusted in <code class=\"language-text\">/opt/zigbee2mqtt/data/configuration.yaml</code>:</p>\n<hr>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f143b15d4896d2f18844ce2642fa4bef/7ec06/zigbee2mqtt_12.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 732px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 26.639344262295083%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA0ElEQVQY04XM2Q7BQBQG4Hl5wQURRXFhqzVUqkWKxD5t0Y4l2tBWR8uDGOpCRCL5Lv7zn5wDus1MIx+t5yIMHSokAqVUkIzNQqxdprhass1QbClOMsvEiUo2nKcC5XSYlHydBirkkCIYu4GxH2JrcXcVD0ue8+ReoOdAP79h6XaVb1gmK9eBYK/2NblzRCJSeFXijO3AMibYnGNzQX59ckxi7vMboModbSXoh9FhK5qnGb7Al+XX5U/A1sebHrMWikis6tPWGXKnGWshEdv/7x/cU+goSfdUDAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;\"\n        alt=\"Zigbee2MQTT\"\n        title=\"\"\n        src=\"/static/f143b15d4896d2f18844ce2642fa4bef/7ec06/zigbee2mqtt_12.png\"\n        srcset=\"/static/f143b15d4896d2f18844ce2642fa4bef/9ec3c/zigbee2mqtt_12.png 200w,\n/static/f143b15d4896d2f18844ce2642fa4bef/c7805/zigbee2mqtt_12.png 400w,\n/static/f143b15d4896d2f18844ce2642fa4bef/7ec06/zigbee2mqtt_12.png 732w\"\n        sizes=\"(max-width: 732px) 100vw, 732px\"\n      />\n  </span>\n  </a></p>\n<hr>\n<p>All paired devices will be listed at the bottom of the configuration file - just change the <code class=\"language-text\">friendly_name</code> to something human-readable. Remember that this will also change the MQTT topic the Zigbee bridge is using to publish the sensor readouts:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">info</span><span class=\"token punctuation\">:</span> MQTT publish<span class=\"token punctuation\">,</span> <span class=\"token key atrule\">topic</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'zigbee2mqtt/temp_hum_sensor'</span><span class=\"token punctuation\">,</span> <span class=\"token key atrule\">payload</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'{\"temperature\":26.33,\"linkquality\":78,\"humidity\":54.32,\"battery\":99,\"voltage\":3005}'</span></code></pre></div>\n<p>The topic changed from <code class=\"language-text\">zigbee2mqtt/0x00158d00023a21c8</code> to <code class=\"language-text\">zigbee2mqtt/temp_hum_sensor</code>! <strong>Note</strong>: I thought I remembered that this worked without restarting the service - but this time it was necessary to do that ¯\\<em>(ツ)</em>/¯</p>\n<p>But pairing both the <strong>Wireless Switch</strong> and <strong>Home Occupancy Sensor</strong> turned out to be more difficult. Holding the pairing button - that here could only be reached with a metal pin - gave the same pattern. The <strong>blue LED started flashing</strong> - first slowly, then fast. But I kept getting timeouts for both devices - that identified as <code class=\"language-text\">0x00158d00023d229c</code> and <code class=\"language-text\">0x00158d00020b3dff</code> - for the pairing process inside the <code class=\"language-text\">/opt/zigbee2mqtt/data/log/</code></p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">error</span><span class=\"token punctuation\">:</span> Cannot get the Node Descriptor of the Device<span class=\"token punctuation\">:</span> 0x00158d00023d229c (Error<span class=\"token punctuation\">:</span> Timed out after 10000 ms)\n<span class=\"token key atrule\">error</span><span class=\"token punctuation\">:</span> Cannot get the Node Descriptor of the Device<span class=\"token punctuation\">:</span> 0x00158d00020b3dff (Error<span class=\"token punctuation\">:</span> Timed out after 10000 ms)</code></pre></div>\n<p>You can <a href=\"https://www.zigbee2mqtt.io/getting_started/pairing_devices.html\">find an instruction</a> that you need to press and hold the pairing button for 5 seconds (until the blue LED starts flashing), then release and keep pressing the button repeatedly (1s interval) afterwards - which feels a little bit counter-intuitive. But it actually works. Checking the log file shows that a <strong>Occupancy Sensor</strong> with the ID <code class=\"language-text\">0x00158d00020b3dff</code> was connected:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\">4/22/2019<span class=\"token punctuation\">,</span> 3<span class=\"token punctuation\">:</span>55<span class=\"token punctuation\">:</span>03 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">warn</span><span class=\"token punctuation\">:</span> Device with modelID 'undefined' is not supported.\n4/22/2019<span class=\"token punctuation\">,</span> 3<span class=\"token punctuation\">:</span>55<span class=\"token punctuation\">:</span>03 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">warn</span><span class=\"token punctuation\">:</span> Please see<span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//www.zigbee2mqtt.io/how_tos/how_to_support_new_devices.html\n4/22/2019<span class=\"token punctuation\">,</span> 3<span class=\"token punctuation\">:</span>55<span class=\"token punctuation\">:</span>41 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">info</span><span class=\"token punctuation\">:</span> Device incoming<span class=\"token punctuation\">...</span>\n4/22/2019<span class=\"token punctuation\">,</span> 3<span class=\"token punctuation\">:</span>55<span class=\"token punctuation\">:</span>41 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">info</span><span class=\"token punctuation\">:</span> MQTT publish<span class=\"token punctuation\">:</span> topic 'zigbee2mqtt/bridge/log'<span class=\"token punctuation\">,</span> payload '<span class=\"token punctuation\">{</span>\"type\"<span class=\"token punctuation\">:</span><span class=\"token string\">\"pairing\"</span><span class=\"token punctuation\">,</span>\"message\"<span class=\"token punctuation\">:</span><span class=\"token string\">\"device incoming\"</span><span class=\"token punctuation\">}</span>'\n4/22/2019<span class=\"token punctuation\">,</span> 3<span class=\"token punctuation\">:</span>55<span class=\"token punctuation\">:</span>49 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">info</span><span class=\"token punctuation\">:</span> MQTT publish<span class=\"token punctuation\">:</span> topic 'zigbee2mqtt/0x00158d00020b3dff'<span class=\"token punctuation\">,</span> payload '<span class=\"token punctuation\">{</span>\"occupancy\"<span class=\"token punctuation\">:</span><span class=\"token boolean important\">true</span><span class=\"token punctuation\">,</span>\"linkquality\"<span class=\"token punctuation\">:</span><span class=\"token number\">110</span><span class=\"token punctuation\">}</span>'</code></pre></div>\n<p>Repeating the same for the <strong>Wireless Switch</strong> and a new device with ID <code class=\"language-text\">0x00158d00023d229c</code> showed up - excellent!</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\">4/22/2019<span class=\"token punctuation\">,</span> 3<span class=\"token punctuation\">:</span>50<span class=\"token punctuation\">:</span>57 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">info</span><span class=\"token punctuation\">:</span> New device 'undefined' with address 0x00158d00023d229c connected!\n4/22/2019<span class=\"token punctuation\">,</span> 3<span class=\"token punctuation\">:</span>50<span class=\"token punctuation\">:</span>57 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">info</span><span class=\"token punctuation\">:</span> MQTT publish<span class=\"token punctuation\">:</span> topic 'zigbee2mqtt/bridge/log'<span class=\"token punctuation\">,</span> payload '<span class=\"token punctuation\">{</span>\"type\"<span class=\"token punctuation\">:</span><span class=\"token string\">\"device_connected\"</span><span class=\"token punctuation\">,</span>\"message\"<span class=\"token punctuation\">:</span><span class=\"token string\">\"0x00158d00023d229c\"</span><span class=\"token punctuation\">,</span>\"meta\"<span class=\"token punctuation\">:</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>'\n4/22/2019<span class=\"token punctuation\">,</span> 3<span class=\"token punctuation\">:</span>50<span class=\"token punctuation\">:</span>57 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">warn</span><span class=\"token punctuation\">:</span> Device with modelID 'undefined' is not supported.\n4/22/2019<span class=\"token punctuation\">,</span> 3<span class=\"token punctuation\">:</span>50<span class=\"token punctuation\">:</span>57 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">warn</span><span class=\"token punctuation\">:</span> Please see<span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//www.zigbee2mqtt.io/how_tos/how_to_support_new_devices.html\n4/22/2019<span class=\"token punctuation\">,</span> 3<span class=\"token punctuation\">:</span>50<span class=\"token punctuation\">:</span>58 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">warn</span><span class=\"token punctuation\">:</span> Device with modelID 'undefined' is not supported.\n4/22/2019<span class=\"token punctuation\">,</span> 3<span class=\"token punctuation\">:</span>50<span class=\"token punctuation\">:</span>58 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">warn</span><span class=\"token punctuation\">:</span> Please see<span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//www.zigbee2mqtt.io/how_tos/how_to_support_new_devices.html\n4/22/2019<span class=\"token punctuation\">,</span> 3<span class=\"token punctuation\">:</span>51<span class=\"token punctuation\">:</span>28 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">info</span><span class=\"token punctuation\">:</span> MQTT publish<span class=\"token punctuation\">:</span> topic 'zigbee2mqtt/0x00158d00023d229c'<span class=\"token punctuation\">,</span> payload '<span class=\"token punctuation\">{</span>\"click\"<span class=\"token punctuation\">:</span><span class=\"token string\">\"single\"</span><span class=\"token punctuation\">,</span>\"linkquality\"<span class=\"token punctuation\">:</span><span class=\"token number\">102</span><span class=\"token punctuation\">}</span>'</code></pre></div>\n<p> Again, we can adjust that a human-readable name is displayed instead of the ID in <code class=\"language-text\">/opt/zigbee2mqtt/data/configuration.yaml</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">devices</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">'0x00158d00023a21c8'</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">friendly_name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'temp_hum_sensor'</span>\n    <span class=\"token key atrule\">retain</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n  <span class=\"token key atrule\">'0x00158d00023d229c'</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">friendly_name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'smart_button'</span>\n    <span class=\"token key atrule\">retain</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n  <span class=\"token key atrule\">'0x00158d00020b3dff'</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">friendly_name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'motion_pir_sensor'</span>\n    <span class=\"token key atrule\">retain</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></code></pre></div>\n<p>The new names will now be used for the corresponding MQTT topics:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\">4/22/2019<span class=\"token punctuation\">,</span> 3<span class=\"token punctuation\">:</span>55<span class=\"token punctuation\">:</span>49 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">info</span><span class=\"token punctuation\">:</span> MQTT publish<span class=\"token punctuation\">:</span> topic 'zigbee2mqtt/motion_pir_sensor'<span class=\"token punctuation\">,</span> payload '<span class=\"token punctuation\">{</span>\"occupancy\"<span class=\"token punctuation\">:</span><span class=\"token boolean important\">true</span><span class=\"token punctuation\">,</span>\"linkquality\"<span class=\"token punctuation\">:</span><span class=\"token number\">110</span><span class=\"token punctuation\">}</span>'\n4/22/2019<span class=\"token punctuation\">,</span> 3<span class=\"token punctuation\">:</span>57<span class=\"token punctuation\">:</span>19 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">info</span><span class=\"token punctuation\">:</span> MQTT publish<span class=\"token punctuation\">:</span> topic 'zigbee2mqtt/motion_pir_sensor'<span class=\"token punctuation\">,</span> payload '<span class=\"token punctuation\">{</span>\"occupancy\"<span class=\"token punctuation\">:</span><span class=\"token boolean important\">false</span><span class=\"token punctuation\">,</span>\"linkquality\"<span class=\"token punctuation\">:</span><span class=\"token number\">110</span><span class=\"token punctuation\">}</span>'\n4/22/2019<span class=\"token punctuation\">,</span> 3<span class=\"token punctuation\">:</span>59<span class=\"token punctuation\">:</span>11 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">info</span><span class=\"token punctuation\">:</span> MQTT publish<span class=\"token punctuation\">:</span> topic 'zigbee2mqtt/temp_hum_sensor'<span class=\"token punctuation\">,</span> payload '<span class=\"token punctuation\">{</span>\"temperature\"<span class=\"token punctuation\">:</span><span class=\"token number\">26.55</span><span class=\"token punctuation\">,</span>\"linkquality\"<span class=\"token punctuation\">:</span><span class=\"token number\">141</span><span class=\"token punctuation\">,</span>\"humidity\"<span class=\"token punctuation\">:</span><span class=\"token number\">60.77</span><span class=\"token punctuation\">}</span>'\n4/22/2019<span class=\"token punctuation\">,</span> 3<span class=\"token punctuation\">:</span>59<span class=\"token punctuation\">:</span>12 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">info</span><span class=\"token punctuation\">:</span> MQTT publish<span class=\"token punctuation\">:</span> topic 'zigbee2mqtt/temp_hum_sensor'<span class=\"token punctuation\">,</span> payload '<span class=\"token punctuation\">{</span>\"temperature\"<span class=\"token punctuation\">:</span><span class=\"token number\">26.55</span><span class=\"token punctuation\">,</span>\"linkquality\"<span class=\"token punctuation\">:</span><span class=\"token number\">141</span><span class=\"token punctuation\">,</span>\"humidity\"<span class=\"token punctuation\">:</span><span class=\"token number\">54.63</span><span class=\"token punctuation\">}</span>'\n4/22/2019<span class=\"token punctuation\">,</span> 4<span class=\"token punctuation\">:</span>00<span class=\"token punctuation\">:</span>10 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">info</span><span class=\"token punctuation\">:</span> MQTT publish<span class=\"token punctuation\">:</span> topic 'zigbee2mqtt/smart_button'<span class=\"token punctuation\">,</span> payload '<span class=\"token punctuation\">{</span>\"linkquality\"<span class=\"token punctuation\">:</span><span class=\"token number\">110</span><span class=\"token punctuation\">,</span>\"duration\"<span class=\"token punctuation\">:</span><span class=\"token number\">835</span><span class=\"token punctuation\">,</span>\"click\"<span class=\"token punctuation\">:</span><span class=\"token string\">\"single\"</span><span class=\"token punctuation\">}</span>'\n4/22/2019<span class=\"token punctuation\">,</span> 4<span class=\"token punctuation\">:</span>00<span class=\"token punctuation\">:</span>17 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">info</span><span class=\"token punctuation\">:</span> MQTT publish<span class=\"token punctuation\">:</span> topic 'zigbee2mqtt/smart_button'<span class=\"token punctuation\">,</span> payload '<span class=\"token punctuation\">{</span>\"linkquality\"<span class=\"token punctuation\">:</span><span class=\"token number\">102</span><span class=\"token punctuation\">,</span>\"duration\"<span class=\"token punctuation\">:</span><span class=\"token number\">835</span><span class=\"token punctuation\">,</span>\"click\"<span class=\"token punctuation\">:</span><span class=\"token string\">\"double\"</span><span class=\"token punctuation\">}</span>'\n4/22/2019<span class=\"token punctuation\">,</span> 4<span class=\"token punctuation\">:</span>00<span class=\"token punctuation\">:</span>19 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">info</span><span class=\"token punctuation\">:</span> MQTT publish<span class=\"token punctuation\">:</span> topic 'zigbee2mqtt/smart_button'<span class=\"token punctuation\">,</span> payload '<span class=\"token punctuation\">{</span>\"linkquality\"<span class=\"token punctuation\">:</span><span class=\"token number\">99</span><span class=\"token punctuation\">,</span>\"duration\"<span class=\"token punctuation\">:</span><span class=\"token number\">835</span><span class=\"token punctuation\">,</span>\"click\"<span class=\"token punctuation\">:</span><span class=\"token string\">\"triple\"</span><span class=\"token punctuation\">}</span>'\n4/22/2019<span class=\"token punctuation\">,</span> 4<span class=\"token punctuation\">:</span>00<span class=\"token punctuation\">:</span>20 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">info</span><span class=\"token punctuation\">:</span> MQTT publish<span class=\"token punctuation\">:</span> topic 'zigbee2mqtt/smart_button'<span class=\"token punctuation\">,</span> payload '<span class=\"token punctuation\">{</span>\"linkquality\"<span class=\"token punctuation\">:</span><span class=\"token number\">102</span><span class=\"token punctuation\">,</span>\"duration\"<span class=\"token punctuation\">:</span><span class=\"token number\">835</span><span class=\"token punctuation\">,</span>\"click\"<span class=\"token punctuation\">:</span><span class=\"token string\">\"quadruple\"</span><span class=\"token punctuation\">}</span>'\n4/22/2019<span class=\"token punctuation\">,</span> 4<span class=\"token punctuation\">:</span>00<span class=\"token punctuation\">:</span>23 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">info</span><span class=\"token punctuation\">:</span> MQTT publish<span class=\"token punctuation\">:</span> topic 'zigbee2mqtt/smart_button'<span class=\"token punctuation\">,</span> payload '<span class=\"token punctuation\">{</span>\"linkquality\"<span class=\"token punctuation\">:</span><span class=\"token number\">99</span><span class=\"token punctuation\">,</span>\"duration\"<span class=\"token punctuation\">:</span><span class=\"token number\">835</span><span class=\"token punctuation\">,</span>\"click\"<span class=\"token punctuation\">:</span><span class=\"token string\">\"long\"</span><span class=\"token punctuation\">}</span>'\n4/22/2019<span class=\"token punctuation\">,</span> 4<span class=\"token punctuation\">:</span>00<span class=\"token punctuation\">:</span>24 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">info</span><span class=\"token punctuation\">:</span> MQTT publish<span class=\"token punctuation\">:</span> topic 'zigbee2mqtt/smart_button'<span class=\"token punctuation\">,</span> payload '<span class=\"token punctuation\">{</span>\"linkquality\"<span class=\"token punctuation\">:</span><span class=\"token number\">99</span><span class=\"token punctuation\">,</span>\"duration\"<span class=\"token punctuation\">:</span><span class=\"token number\">1094</span><span class=\"token punctuation\">,</span>\"click\"<span class=\"token punctuation\">:</span><span class=\"token string\">\"long_release\"</span><span class=\"token punctuation\">}</span>'\n4/22/2019<span class=\"token punctuation\">,</span> 4<span class=\"token punctuation\">:</span>00<span class=\"token punctuation\">:</span>30 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">info</span><span class=\"token punctuation\">:</span> MQTT publish<span class=\"token punctuation\">:</span> topic 'zigbee2mqtt/motion_pir_sensor'<span class=\"token punctuation\">,</span> payload '<span class=\"token punctuation\">{</span>\"occupancy\"<span class=\"token punctuation\">:</span><span class=\"token boolean important\">true</span><span class=\"token punctuation\">,</span>\"linkquality\"<span class=\"token punctuation\">:</span><span class=\"token number\">97</span><span class=\"token punctuation\">}</span>'\n4/22/2019<span class=\"token punctuation\">,</span> 4<span class=\"token punctuation\">:</span>00<span class=\"token punctuation\">:</span>30 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">info</span><span class=\"token punctuation\">:</span> MQTT publish<span class=\"token punctuation\">:</span> topic 'zigbee2mqtt/temp_hum_sensor'<span class=\"token punctuation\">,</span> payload '<span class=\"token punctuation\">{</span>\"temperature\"<span class=\"token punctuation\">:</span><span class=\"token number\">27.73</span><span class=\"token punctuation\">,</span>\"linkquality\"<span class=\"token punctuation\">:</span><span class=\"token number\">141</span><span class=\"token punctuation\">,</span>\"humidity\"<span class=\"token punctuation\">:</span><span class=\"token number\">54.63</span><span class=\"token punctuation\">}</span>'\n4/22/2019<span class=\"token punctuation\">,</span> 4<span class=\"token punctuation\">:</span>00<span class=\"token punctuation\">:</span>30 PM <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">info</span><span class=\"token punctuation\">:</span> MQTT publish<span class=\"token punctuation\">:</span> topic 'zigbee2mqtt/temp_hum_sensor'<span class=\"token punctuation\">,</span> payload '<span class=\"token punctuation\">{</span>\"temperature\"<span class=\"token punctuation\">:</span><span class=\"token number\">27.73</span><span class=\"token punctuation\">,</span>\"linkquality\"<span class=\"token punctuation\">:</span><span class=\"token number\">141</span><span class=\"token punctuation\">,</span>\"humidity\"<span class=\"token punctuation\">:</span><span class=\"token number\">69.32</span><span class=\"token punctuation\">}</span>'</code></pre></div>\n<p>Note that the <strong>Occupancy Sensor</strong> sends a <code class=\"language-text\">true</code> or <code class=\"language-text\">false</code> payload depending on if motion was detected or not. The <strong>Temperature &#x26; Humidity Sensor</strong> just sends number values for temperature and humidity. And the <strong>Wireless Button</strong> sends click events and can discern between <code class=\"language-text\">single</code>, <code class=\"language-text\">double</code>, <code class=\"language-text\">triple</code>, <code class=\"language-text\">quadruple</code> and <code class=\"language-text\">long / long_release</code> clicks.</p>\n<hr>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/97433298c0a126fb1e2c92ae1e3cd7af/7b680/zigbee2mqtt_13.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 730px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 52.465753424657535%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACHUlEQVQoz3WRWW8SURTH59s0KcsAZcrALDA7AkPZ2tLSYoG2dDNxezDx0a9k1Ji2Ll/AxCeNLz6o6Rrj8v7zMjRaE3345X/Oufcs9x7pzdsPvHv/kU+fLzk9/8GZ4PxC6MVU//CT88srrsUn90/OvvPl5CunZ9+Qwv4hzeEhy+NjVnZe0hwc0dt/xfqt16wJ7Y5fRPGlrWO8pae4i0/wl5/hXdEYHNIeHVFbf46/+hjJq47pDR5SdPpkck1BW9BiTm1PyU20gxWMKC/s49d2MN2BYIOiUMsfYgdD4d8kCHeRFEWm11vEDyzy+SyaNk+ppGGa+cguFJQoHtgmnbDCQsUnsAxc28AR2JYeqSVyGgsVJE3TGY+2OdjbZ21llY31Pv3eGqPBgKV2h2a9QVgLsXIa7ryOrep4qkFRM9B0A/0KNV+gXL6B1LAdHt2+w4PdPe5tbnF/e5u7m5uRPWy1WalWWfY8qp5Lo9PGcR1Kjk2xVBIvmWJZdqRhGCI5YsJOpUJFFK65LqHA0TR8w8TIKuRkmbwgFN19v0yr1aJer2PbNo7jREwKVas1ut0uUjIlE08mScgTZBLCjicSxAQTPymQ02lUVUXPKxRU0URRyGazv1GEnxZ3giBASomEVCr1f8R5Jp0hO5fBNxOU1CRZOcHsbIxYbEo8HmdmZiaaWvpXEflak4k96V4smuimKxZhie0XxCL0v9DEN1mWxS9lw5SI/ZrTMQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;\"\n        alt=\"Zigbee2MQTT\"\n        title=\"\"\n        src=\"/static/97433298c0a126fb1e2c92ae1e3cd7af/7b680/zigbee2mqtt_13.png\"\n        srcset=\"/static/97433298c0a126fb1e2c92ae1e3cd7af/9ec3c/zigbee2mqtt_13.png 200w,\n/static/97433298c0a126fb1e2c92ae1e3cd7af/c7805/zigbee2mqtt_13.png 400w,\n/static/97433298c0a126fb1e2c92ae1e3cd7af/7b680/zigbee2mqtt_13.png 730w\"\n        sizes=\"(max-width: 730px) 100vw, 730px\"\n      />\n  </span>\n  </a></p>\n<hr>\n<h2 id=\"adding-our-sensors-to-fhem\"><a href=\"#adding-our-sensors-to-fhem\" aria-label=\"adding our sensors to fhem permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Adding our Sensors to FHEM</h2>\n<p>First we need to add a <a href=\"https://github.com/oskarn97/fhem-xiaomi-mqtt\">new module</a> to FHEM that allows us to communicate with our Zigbee2MQTT Bridge:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">update <span class=\"token function\">add</span> https://raw.githubusercontent.com/oskarn97/fhem-xiaomi-mqtt/master/controls_xiaomi-zb2mqtt.txt\nupdate check xiaomi-zb2mqtt\nupdate all xiaomi-zb2mqtt\n<span class=\"token function\">shutdown</span> restart</code></pre></div>\n<hr>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/144c7d53bccb6efb764c4005dd6fb8cd/7b680/zigbee2mqtt_14.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 730px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 21.78082191780822%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAtUlEQVQI132NzQqCQBhFP8WUUWfGxETLcSKz0pq0HyTEjDY9hYS1btP7b5IWES069+wulwtE0WYWjygPzJGkGgqiuO8Zlott33YZtX2pZ8iq+atGdIMAQiiZx4xNvOF4EU83Qtyaa9s0z8fj3rZlVQGAJMvSG+iEjwCU0vpU7/ZbsUzPRXEpy0OSpoxFAwcpCvyHEFIdqzzP0iRZCbHOM8Z5EIa243QVxoRaFsFduheKkP69fQFAGBRpoajE1gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;\"\n        alt=\"Zigbee2MQTT\"\n        title=\"\"\n        src=\"/static/144c7d53bccb6efb764c4005dd6fb8cd/7b680/zigbee2mqtt_14.png\"\n        srcset=\"/static/144c7d53bccb6efb764c4005dd6fb8cd/9ec3c/zigbee2mqtt_14.png 200w,\n/static/144c7d53bccb6efb764c4005dd6fb8cd/c7805/zigbee2mqtt_14.png 400w,\n/static/144c7d53bccb6efb764c4005dd6fb8cd/7b680/zigbee2mqtt_14.png 730w\"\n        sizes=\"(max-width: 730px) 100vw, 730px\"\n      />\n  </span>\n  </a></p>\n<hr>\n<p>Once FHEM is back up we can define the bridge module that will handle the communication for us:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">define ZigbeeBridge XiaomiMQTTDevice bridge</code></pre></div>\n<p>Just a few seconds later we already start seeing readings coming in:</p>\n<hr>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1c5621b3ae360f7eb271f1f73a156593/13a77/zigbee2mqtt_15.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 100.82938388625593%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAA7DAAAOwwHHb6hkAAADm0lEQVQ4y22S6W/bZBzH/R8Moa4SW7ch8WIvJlHxnncIoSFtatJOGu1yFKZVnVDLX8AQEhKCITFN7SYxUFs0DnUJbeIma+zEuUpzNGPQ5rBzOHHiHE2bLqevOOHnpF2L2KOP7O/zu/08Rl47c2ng3PDgm++cvjA8eGF44PzwwNClU+fffnfo4pWzb506ffb1VzI49MaZc8jSL0b/1t/+wJZCMOTdDLq8m5uBEGwDgS2f/5DDgB4+iHv2fPmJEfnq+yUbTjy1Wg0m+wqKoRYAXzHbQJssmNmCmy3YKmrD8ONlwzC3y3n3/gJy+fJVjVav1ek+GteqVGNq9ahKpR4ZUY+o1KojFA32I0bUo6Nj1957/wPEF/yL48RGo9XieGC/8qIJL17guB680OIExdU6ptnkJFHe3gkjvkBIcbd4qd2RJHm3fLB/0KhUm7V6q1Zvvqg2muCS5JOIYrvb7UajJLK9ExHA1JZFqQ2U9up7B3ylJtZbIi+IHK88+66XCKIEyZFoDCkUd6E8FOtT3qvAtLLcOe7Ta3USQThKTiRTEMHzItSDJtVanReUXqAB4aU42vYtcqcbDkeQZIqGMp1Op9tbbbkLCnyH+1etfnAmwyDr6zaTyYSiKEmSbq/33vwP9+Yf/Rl8blxZuT835wsEHC4n2EHMPXwQDIUgLB6PEwRx587niNG4Mv/g4Tfffud0ulHj6mdT07O3ptYMxq+/+HJKN4k+MRoe/7b6+7J52TCt/9hs+IMg3BsbmwuLP2u0OiTDMMokAMdXt6M8WxTYYjlKNdNst3zQTGfrNNOgs81MrlOu8GSiA1faG55hskihUAAFXyrX6sUYRReKKSaXLZTSbJ7OsZl8ETSdy2fYYipf3N2JKGcrSdCNJGNIqVQ67Nxo5CMxOl9kWAgtAJDGQHK+lC/tMblCrry/G45K8D9KylVRFIWQJNVP7ra46rN/qgm6kaSrVLIeTwG1eKpFM0ImKzKskGWFnSiMLffmTiSSCIZhcOjxRCqXyyViZDxKJkkqRVFsOsNmeqTTiu6RTWfCZBrmS6RYt9uD3J17bCc8GGZD191W3ONweexOD064bQ4QXofrP4DF7dnwer0Bv3/+0a/IlVHN7U9nZ2Znpm/PaPS3ro/rr09Mjt+YvKGdnNAqz5NMaBSXTqe/efOTD6+OIT/+tES4PLjd4XAQlqd28xpuWsOt67jdjv9/YRi+iuIWK0YQzsXFhX8BxfCaXyqwp44AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;\"\n        alt=\"Zigbee2MQTT\"\n        title=\"\"\n        src=\"/static/1c5621b3ae360f7eb271f1f73a156593/8ff1e/zigbee2mqtt_15.png\"\n        srcset=\"/static/1c5621b3ae360f7eb271f1f73a156593/9ec3c/zigbee2mqtt_15.png 200w,\n/static/1c5621b3ae360f7eb271f1f73a156593/c7805/zigbee2mqtt_15.png 400w,\n/static/1c5621b3ae360f7eb271f1f73a156593/8ff1e/zigbee2mqtt_15.png 800w,\n/static/1c5621b3ae360f7eb271f1f73a156593/13a77/zigbee2mqtt_15.png 844w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n      />\n  </span>\n  </a></p>\n<hr>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"devices\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"message\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"ieeeAddr\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0x00124b0018ed113b\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Coordinator\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"ieeeAddr\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0x00158d00023a21c8\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"EndDevice\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"model\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"WSDCGQ01LM\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"friendly_name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"temp_hum_sensor\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"nwkAddr\"</span><span class=\"token operator\">:</span> <span class=\"token number\">29097</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"manufId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">4151</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"manufName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"LUMI\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"powerSource\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Battery\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"modelId\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"lumi.sens\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"ieeeAddr\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0x00158d00023d229c\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"EndDevice\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"model\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"WXKG01LM\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"friendly_name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"smart_button\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"nwkAddr\"</span><span class=\"token operator\">:</span> <span class=\"token number\">40807</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"manufId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">4151</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"manufName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"LUMI\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"powerSource\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Battery\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"modelId\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"lumi.sensor_switch\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"ieeeAddr\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0x00158d00020b3dff\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"EndDevice\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"model\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"RTCGQ01LM\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"friendly_name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"motion_pir_sensor\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"nwkAddr\"</span><span class=\"token operator\">:</span> <span class=\"token number\">2091</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"manufId\"</span><span class=\"token operator\">:</span> <span class=\"token number\">4151</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"manufName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"LUMI\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"powerSource\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Battery\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"modelId\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"lumi.sensor_motion\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Our sensors have been recognized through the FHEM connector - nice! And we have a new <em>Room</em> in our list called <strong>XiaoMiMQTTDevice</strong> holding all our sensors:</p>\n<hr>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6aff1662e1413f143ae5acb6cade9eca/7b680/zigbee2mqtt_16.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 730px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 37.397260273972606%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABS0lEQVQY02Pg4xfy8fVXUVFWUtXl5OJnIAEwMggKCCQlJSmrqKqrqwMFQsIi58xb0dM/vat3cmd3f09vX3dPX3//xImTpsDRhImTp06bVVxSxhAfn9DX19/d1T1nzpzg4OCJEyf+////9+/f//7/ByKs4O/fv0Dy/PnzDF2dbWdOHTt8cM/tG5cb6ytLy2uevPh8+dq923cfXrpy4/KVq1euXrtz997de/fh6Paduw8fv9i0eQvDjHmrn77/f/Px1ycf/i9cvSsxKaWrZ0Jza3tLa0djc1tzc0tNbV1tXT0yAoo0N7WkpqYxpNaumH/o37Qdn3s2fZm/5+OLV+8/ff//49e/P3//f//0A4+zz507x7BowZz/f398/vjmx9f3nz69vXDx6pcf/7//+Pnl68/Xbz99+frtx49f37//BJJwxtev34GaT5w4CQDJZQ7UCAO2mQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;\"\n        alt=\"Zigbee2MQTT\"\n        title=\"\"\n        src=\"/static/6aff1662e1413f143ae5acb6cade9eca/7b680/zigbee2mqtt_16.png\"\n        srcset=\"/static/6aff1662e1413f143ae5acb6cade9eca/9ec3c/zigbee2mqtt_16.png 200w,\n/static/6aff1662e1413f143ae5acb6cade9eca/c7805/zigbee2mqtt_16.png 400w,\n/static/6aff1662e1413f143ae5acb6cade9eca/7b680/zigbee2mqtt_16.png 730w\"\n        sizes=\"(max-width: 730px) 100vw, 730px\"\n      />\n  </span>\n  </a></p>\n<hr>\n<!-- ## Using Zigbee Devices to control INSTAR IP Cameras in Node-RED\n\nWe now set up the Zigbee Bridge, connected Zigbee sensors and made sure that the messages are send to our Mosquitto MQTT server. We also found out the topics that our bridge uses for each sensors to publish its messages - `zigbee2mqtt/motion_pir_sensor`, `zigbee2mqtt/temp_hum_sensor` and `zigbee2mqtt/smart_button` - and what kind of payload to expect.\n\nNow we can use the program [MQTT.fx](/Advanced_User/OpenHAB_Home_Automation/Mosquitto_Installation_on_Windows/#testing-the-mqtt-server-with-mqttfx) to verify that the message was received by our Mosquitto server:\n\n\n---\n![Zigbee2MQTT](./zigbee2mqtt_x11.png)\n\n---\n\n\nEvery time the state changes the sensor will send a Zigbee message to our Bridge, which then forwards its payload to our Mosquitto server - perfect!\n\nWe can now start our [Node-RED](https://nodered.org/) - that we either installed under [Windows 10](/Advanced_User/Node-RED_and_MQTT/), on a [Raspberry Pi](/Advanced_User/openHABian_on_Raspberry_Pi/Node-RED_Setup/) or a [Debian Linux Server](/Software/Linux/Node-RED/), add __MQTT Nodes__ and subscribe to all 3 MQTT topics:\n\n\n---\n![Zigbee2MQTT](./zigbee2mqtt_x12.png)\n\n---\n\n\nConnect all 3 of them to a __Debug Node__ and deploy the flow. Click the button, warm up the temp sensor and trigger the motion detection - the MQTT messages will show up in the debug pane in Node-RED:\n\n\n---\n![Zigbee2MQTT](./zigbee2mqtt_13.png)\n\n---\n\n\n### Add the MQTT input to an existing Flow\n\nIn the following sequence we are using the input for the wireless button to switch __Alarm Areas__ on our cameras - we already used the same sequence for the [Amazon Alexa Integration](/Advanced_User/Alexa_Voice_Control_without_Cloud/) (the complete flow can be found in the [Home Assistant Tutorial](/Software/Linux/Home_Assistant/)):\n\n\n---\n![Zigbee2MQTT](./zigbee2mqtt_x14.png)\n\n---\n\n\nYou can copy the following JSON code and import it into Node-RED ([How do I import flows to Node-RED?](/Software/Linux/Node-RED/#using-node-red-to-communicate-with-your-camera)):\n\n\n```json\n[{\"id\":\"ebde9a4c.90efe8\",\"type\":\"link out\",\"z\":\"17b43655.05bd3a\",\"name\":\"\",\"links\":[\"57b22bf7.0e2874\",\"5eb0d369.b3b15c\",\"b5ce97db.b3f4f8\",\"f335d7f4.4bbe18\"],\"x\":1308,\"y\":100,\"wires\":[]},{\"id\":\"accb31dd.a130c\",\"type\":\"mqtt in\",\"z\":\"17b43655.05bd3a\",\"name\":\"Wireless Button\",\"topic\":\"zigbee2mqtt/smart_button\",\"qos\":\"1\",\"broker\":\"40415d07.67dd94\",\"x\":780,\"y\":100,\"wires\":[[\"2537690e.6230d6\"]]},{\"id\":\"2537690e.6230d6\",\"type\":\"json\",\"z\":\"17b43655.05bd3a\",\"name\":\"\",\"property\":\"payload\",\"action\":\"\",\"pretty\":false,\"x\":929,\"y\":100,\"wires\":[[\"17df313d.2e7aff\"]]},{\"id\":\"17df313d.2e7aff\",\"type\":\"change\",\"z\":\"17b43655.05bd3a\",\"name\":\"single / double\",\"rules\":[{\"t\":\"set\",\"p\":\"payload\",\"pt\":\"msg\",\"to\":\"payload.click\",\"tot\":\"msg\"}],\"action\":\"\",\"property\":\"\",\"from\":\"\",\"to\":\"\",\"reg\":false,\"x\":1076,\"y\":100,\"wires\":[[\"1f97ee5b.dfc642\"]]},{\"id\":\"1f97ee5b.dfc642\",\"type\":\"string\",\"z\":\"17b43655.05bd3a\",\"name\":\"\",\"methods\":[{\"name\":\"replaceAll\",\"params\":[{\"type\":\"str\",\"value\":\"single\"},{\"type\":\"str\",\"value\":\"{\\\"val\\\" : \\\"on\\\"}\"}]},{\"name\":\"replaceAll\",\"params\":[{\"type\":\"str\",\"value\":\"double\"},{\"type\":\"str\",\"value\":\"{\\\"val\\\" : \\\"off\\\"}\"}]}],\"prop\":\"payload\",\"propout\":\"payload\",\"object\":\"msg\",\"objectout\":\"msg\",\"x\":1226,\"y\":100,\"wires\":[[\"ebde9a4c.90efe8\"]]},{\"id\":\"40415d07.67dd94\",\"type\":\"mqtt-broker\",\"z\":\"\",\"name\":\"Debian Mosquitto\",\"broker\":\"localhost\",\"port\":\"1883\",\"clientid\":\"\",\"usetls\":false,\"compatmode\":true,\"keepalive\":\"60\",\"cleansession\":true,\"birthTopic\":\"\",\"birthQos\":\"0\",\"birthPayload\":\"\",\"closeTopic\":\"\",\"closePayload\":\"\",\"willTopic\":\"\",\"willQos\":\"0\",\"willPayload\":\"\"}]\n```\n\n\nThe __MQTT Node__ outputs the message from our button as a string. We first have to turn it into a JavaScript Object with a __JSON Node__.\n\n\nNext follows a __Change Node__ that changes the Message Payload to the value of __Click__ - as we learnt above, this value can either be `single`, `double`, `triple`, `quadruple`, `long` or `release`:\n\n\n---\n![Zigbee2MQTT](./zigbee2mqtt_x15.png)\n\n---\n\n\nAfter that follows a __String Node__ (this node type [has to be installed manually](/Software/Linux/Node-RED/#the-node-red-admin-panel) - it is called `node-red-contrib-string`) that searches for the payload `single` or `double` and replaces them with something that we need to trigger the Flow below - in this case we need a JSON expression that either sets a value to `on` or `off`: `{\"val\" : \"on\"}` / `{\"val\" : \"off\"}`:\n\n\n---\n![Zigbee2MQTT](./zigbee2mqtt_x16.png)\n\n---\n\n\nAnd last but not least we add a __Link Node__ to plug it in to all 4 sequences for the for the 4 alarm areas. Now every time we single-click the Wireless Button all areas are activated. A double-click deactivates them:\n\n\n---\n![Zigbee2MQTT](./nodered_x01.gif)\n\n---\n\n\nWe attached a __Debug Node__ to the MQTT input to visualize the input given by the Wireless Button - __Note__ that only the `single` and `double` click trigger the Alarm Area Sequences - the rest of the input options can be used for other functions. -->","htmlAst":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/1573b72350c8a783e5ea459a809c1f73/8e846/photo-19194765263_69ad0f_o.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 42.199999999999996%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAACTpAAAk6QFQJOf4AAACMElEQVQozw2RS09TURRGr4okio9KRMUUkIKBQktL3/e2vbe9fdNYwFb6pkItpVANEKCRGMQHRI3GaCQyMToxcWRionHgj1uewRntvb98ax0pmPEzczfAfC5IKa9SL4ZolcK0yzobFZ2tqk5nUefxYojtaojNisbDskZtwc/KUoL5coJLgWnOKnZOOyeQWhWVJ/Uw++Id1HUOliMc1WO8ayT50Ehx3EzycSXGGzHbr4XpVDU2yiqtYgA1LTMQdDCgu+kWgZJ9HGku62etpLIjFvfEwaEI/NxM8G8nx++tLJ9WUrytx9kVTZsFjYIgScz6ic0q3NY9XPTY6JZF2PQEZyyjSOdlJ0MRL44ZhfCdIPeyKusC+8t2hW/tPEdLaRqFONmsjpxWMUb8GDSZLp+Lq6qL614rktmMwTKOw3ULaSjgYjzmw5zwYopreOYSuDM6e48a/D3c5c+zl6xWKmQW4kzNaAxGA/QoMqccTobDXnrsk3SNjTHotnLDPIJ0wWPnsnuaPtXDzZCP0WSIVCHN14Mtfuy/4P3TY361dzlZWyI0HyWfi2JPqaKhG2/azzXhziDbGIk4GFbEpxh9NnqsVvo1D72KG1NEZk4gNpeFu1qeB811Xm/W+dlZp1mM0qqtUixV6Rf+Ou0c8h2hKqeRK8c4N2FC6vPa6PW7MChOjAI/nHKREuK1WY2TVpHvz19xv5ojndG44rTgjiRxhHVMnkmmhCqjYsPktTASEKVcJv4Dn4En0PRH5coAAAAASUVORK5CYII='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;","alt":"Hongkong","title":"","src":"/static/1573b72350c8a783e5ea459a809c1f73/8ff1e/photo-19194765263_69ad0f_o.png","srcSet":["/static/1573b72350c8a783e5ea459a809c1f73/9ec3c/photo-19194765263_69ad0f_o.png 200w","/static/1573b72350c8a783e5ea459a809c1f73/c7805/photo-19194765263_69ad0f_o.png 400w","/static/1573b72350c8a783e5ea459a809c1f73/8ff1e/photo-19194765263_69ad0f_o.png 800w","/static/1573b72350c8a783e5ea459a809c1f73/6ff5e/photo-19194765263_69ad0f_o.png 1200w","/static/1573b72350c8a783e5ea459a809c1f73/8e846/photo-19194765263_69ad0f_o.png 1500w"],"sizes":["(max-width:","800px)","100vw,","800px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]}]},{"type":"text","value":"\n"},{"type":"comment","value":" TOC "},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"#zigbee-communication-without-a-proprietary-hub"},"children":[{"type":"text","value":"ZigBee Communication without a proprietary Hub"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"#setting-up-the-bridge"},"children":[{"type":"text","value":"Setting up the bridge"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"#running-the-bridge"},"children":[{"type":"text","value":"Running the bridge"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"#determine-location-of-cc2531-usb-sniffer-and-checking-user-permissions"},"children":[{"type":"text","value":"Determine location of CC2531 USB sniffer and checking user permissions"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"#installation"},"children":[{"type":"text","value":"Installation"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"#configuration"},"children":[{"type":"text","value":"Configuration"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"#running-zigbee2mqtt"},"children":[{"type":"text","value":"Running ZigBee2MQTT"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"#running-zigbee2mqtt-as-a-daemon"},"children":[{"type":"text","value":"Running ZigBee2MQTT as a Daemon"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"#update-zigbee2mqtt-to-the-latest-version"},"children":[{"type":"text","value":"Update zigbee2mqtt to the latest version"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"#pairing-devices"},"children":[{"type":"text","value":"Pairing Devices"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"#adding-our-sensors-to-fhem"},"children":[{"type":"text","value":"Adding our Sensors to FHEM"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"#add-the-mqtt-input-to-an-existing-flow"},"children":[{"type":"text","value":"Add the MQTT input to an existing Flow"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"comment","value":" /TOC "},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"zigbee-communication-without-a-proprietary-hub"},"children":[{"type":"element","tagName":"a","properties":{"href":"#zigbee-communication-without-a-proprietary-hub","ariaLabel":"zigbee communication without a proprietary hub permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"ZigBee Communication without a proprietary Hub"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Zigbee is a specification for a suite of high-level communication protocols used to create personal area networks with small, low-power digital radios, such as for home automation, medical device data collection, and other low-power low-bandwidth needs, designed for small scale projects which need wireless connection. Hence, Zigbee is a low-power, low data rate, and close proximity wireless ad hoc network."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/Koenkk/zigbee2mqtt"},"children":[{"type":"text","value":"Zigbee2MQTT"}]},{"type":"text","value":" bridge enables you to use selected "},{"type":"element","tagName":"a","properties":{"href":"https://www.zigbee2mqtt.io/information/supported_devices.html"},"children":[{"type":"text","value":"supported ZigBee devices"}]},{"type":"text","value":" "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"without the otherwise mandatory Hub and Vendor Cloud"}]},{"type":"text","value":" connection. Among the devices that you can control are smart (ZigBee) light bulbs from Belkin, IKEA, OSRAM and Philips as well as smart sensors from SmartThings and Xiaomi."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ZigBee bridge consists of a "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"ZigBee Sniffer Module"}]},{"type":"text","value":" and a controlling software written in "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Node.js"}]},{"type":"text","value":". It bridges events and allows you to control your Zigbee devices via "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"MQTT"}]},{"type":"text","value":". In this way you can integrate your Zigbee devices with whatever smart home infrastructure you are using."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://www.zigbee2mqtt.io/getting_started/what_do_i_need.html"},"children":[{"type":"text","value":"Needed Hardware"}]},{"type":"text","value":":"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"CC debugger"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"CC2531 USB sniffer"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Downloader cable CC2531"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"PC or Raspberry Pi to run bridge\t"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The Debugger, Sniffer and connecting cable can be ordered directly through "},{"type":"element","tagName":"a","properties":{"href":"https://community.home-assistant.io/t/zigbee2mqtt-getting-rid-of-your-proprietary-zigbee-bridges-xiaomi-hue-tradfri/52108/193"},"children":[{"type":"text","value":"online shops like AliExpress"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The debugger and cable are only used once to flash the firmware onto the stick. There is alternative way to do that "},{"type":"element","tagName":"a","properties":{"href":"https://www.zigbee2mqtt.io/information/alternative_flashing_methods.html"},"children":[{"type":"text","value":"using an Arduino board instead"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"setting-up-the-bridge"},"children":[{"type":"element","tagName":"a","properties":{"href":"#setting-up-the-bridge","ariaLabel":"setting up the bridge permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Setting up the bridge"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Install "},{"type":"element","tagName":"a","properties":{"href":"http://www.ti.com/tool/FLASH-PROGRAMMER"},"children":[{"type":"text","value":"SmartRF Flash programmer"}]},{"type":"text","value":" ("},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"NOT V2"}]},{"type":"text","value":"). This software is free but requires a Texas Instruments account in order to download."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/983bf5269150f333772ce890283f6c21/7b680/flash_00.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 730px;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 77.26027397260273%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA7CAAAOwgEVKEqAAAACwElEQVQ4y61Ty04UURDt/3DpdxhXBnCiM0YXRIVIQvQjXMBCl3yBMUZCYtiaSAjvAYYBEhIgICDM++HY73u7e3p6pmeOVZcZQ4ILF97kpOrWrXuq7ulqbfhRCg9GEhifmMR6egvZ3X1ksrvYIH9jcxub2ztIb2WUz+fp7QxhB1uZHewfHWPv+xkOT07x4eMnJJJPoJkHB7g6P8dVuYxCpYKrYhG6baMDoN3roT2wcaxs1OkocDwkIvftNGSxDLMVwRQSWvH5C/xIPsbZyAhOh4dxMjSE80QCuVTqGskk8k+foTQ5ifzoKEqv36D4auJ6T+f5e/dRGHuJ3Pg42TFocm0NcnkZ3tISJGFgxeKigrOwAJvgUo7g+OoqxMrKNciX2Szk+hoEnxM0GXdgRxGMZhNC+W1YrRasqAWn01ZP6/bxL0tr1GqolEqo13+iTn61XFFWui5c0rJL2t1apKXCX+KalBKu58Epl6AzcaMBm4iEEAiaIZp0LuhDWRSz+xAUC6igvbcH2zBgOw4sywJzaYHvww9DePk8GhcXqNTrqsMSkRucRBeM42NUqlXU+DU0Db90A4LienoD5UIBNXpdlSbEMExoLdKLSQMi/R9L8zxJzAZM00RMevVIB9Ytplnrdrvosm23/+w5h+0gT+XcgNamZEkaxn3xOej6AQR1LIIALn1pDz245LOukoY3CHy4pKEQLhzSz6d8y7ZIXwdasxlAJ010XVfCMrGTyyG4vESHkltfvyGc+4K4VFaj0+O/hMYspIIR2UHXARVkYq1DCS06ZC1DAu/t+XnU37+Dx8P6MAXzzl2En+dujUivDyblxXfpyREx+/Do2VyFgz5VHkxZTF13paf8kManNjUFcXSIkEgiaoAJ+Q7fVx1yd6yDS2DLnRqzs2jMzCCmubq5Yn5JLo/Y81TBXr+zQYf8PX4DpstImfKtTkkAAAAASUVORK5CYII='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;","alt":"Zigbee2MQTT","title":"","src":"/static/983bf5269150f333772ce890283f6c21/7b680/flash_00.png","srcSet":["/static/983bf5269150f333772ce890283f6c21/9ec3c/flash_00.png 200w","/static/983bf5269150f333772ce890283f6c21/c7805/flash_00.png 400w","/static/983bf5269150f333772ce890283f6c21/7b680/flash_00.png 730w"],"sizes":["(max-width:","730px)","100vw,","730px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":2},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Install the "},{"type":"element","tagName":"a","properties":{"href":"http://www.ti.com/general/docs/lit/getliterature.tsp?baseLiteratureNumber=swrc212&fileType=zip"},"children":[{"type":"text","value":"CC debugger driver"}]},{"type":"text","value":" on your PC (Windows only). Before continuing, verify that the CC Debugger driver has been installed correctly. In case the CC Debugger is not recognized correctly "},{"type":"element","tagName":"a","properties":{"href":"https://www.youtube.com/watch?v=jyKrxxXOvQY"},"children":[{"type":"text","value":"install the driver manually"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/b39cf2db7e61283fa70e61d86bda766f/7b680/driver_00.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 730px;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 62.465753424657535%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB2UlEQVQoz11Sa2+bMBTN//89mzRN2j6um7opSdd2EBJs84gBG7+wsQkEdlfWqdn5gK6Ez8M+d6OU7l8wTeOyLL3rKkrpuQJIqYZhGN/gcrlIyWGAk9M0bcqyzPOiKM5RnKOipoyVRcGFYEJUTcOF7IehD2E18N5zXjvnVqFNnmWoKAilGM5qA/+UVppxUZSDUksI185evQerZZ7hA7Jaa1ABrU3nPf3+I//wMX33Pr/71gi2zFf38Mgfn3pCZBxXP5/cdr+8QmsBruu8cZcR7yPy6XP95W4qzy64ZRzFbp9st5bxOkU8L8NzNHgf/tx/AjIE/ks2XfeclUdCiqYZ5tloeZmuMi+L7YPDGb6/p7u9IplUSghhrbshd9YeDvHpkKBTWmR5XVNUqa+/yBY3KkzGOdN750NnTGe6eZ7/c7ZPR5weUyjGaNPUlDMWRTFGyNqurmpAA8/O2xAGqOeGrDq7Q+f0lGKEtQGnrqpokiQYY6UUdAgDQig+JKAC/FtnY6IkQifU1A2k8t4yxpLjEcqHMuQL1q1YoVR7Q8YkBWfYK9gCY2TLeXJICCHBBw6FCwHFwo0giLVWqnZ8+9onSIwJRAXPtmVSitXQvqJtW8jMOacUtrb8F+Q3rh6dnOJP+fkAAAAASUVORK5CYII='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;","alt":"Zigbee2MQTT","title":"","src":"/static/b39cf2db7e61283fa70e61d86bda766f/7b680/driver_00.png","srcSet":["/static/b39cf2db7e61283fa70e61d86bda766f/9ec3c/driver_00.png 200w","/static/b39cf2db7e61283fa70e61d86bda766f/c7805/driver_00.png 400w","/static/b39cf2db7e61283fa70e61d86bda766f/7b680/driver_00.png 730w"],"sizes":["(max-width:","730px)","100vw,","730px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":3},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Connect "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"CC debugger"}]},{"type":"text","value":" —> "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Downloader cable CC2531"}]},{"type":"text","value":" —> "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"CC2531 USB sniffer"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/b7639d155aa03a2ddf678e20119f7a5d/7b680/ccdebugger_00.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 730px;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 55.47945205479452%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABoUlEQVQoz2NgwAuCAtzU1ZSADEZGRgYiAUSphJTo1ElV2lqqQDYzMxNpmjPiYtcsnpeTkaairAwRZAaawcSEUw8QQKS5ubiCIwI9Y3xtzczLiwvt7WyBOrHoYWFh4WDngBsJsVZOQyG6OF5KSw7IZmVh8XB1SY6Pj4+OdnN25ubmZmYBG8TIxKggL2eor6ejpaWrra2jpQ0k5WRkRbSkFEMMOIW5mRigbmFjYxMWEpIUFZOXl9FyNJBRlmXg4+XR1FRVUpKXkhRXVJBTU1G2MjNTUVNhRA0h5NAW4Oe19LXSMNNi4OPjUVVRlJeTERLkFxLi19ZQc7C10VZTiwwOntjdVZ6bHeHjaaSmzs7EAjICrJmTg1NRRUFSUQroGFagi+XkpAUF+RQVZHW0NDTUVTzdnYuK8hYunltdV5aZmVBenFGYFu9pZyMqIKAsr+Dt5ColLckvzA/SLCYmIiIiJCQsoKOtqawoLyoiJCEpwcLKgnAzE6Oisry3l7O7k72prr6Rpg4nJycD3B9MTIxA1ezsbHy83Lw83BAfMsIAruQAABB+PAgrOlYNAAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;","alt":"Zigbee2MQTT","title":"","src":"/static/b7639d155aa03a2ddf678e20119f7a5d/7b680/ccdebugger_00.png","srcSet":["/static/b7639d155aa03a2ddf678e20119f7a5d/9ec3c/ccdebugger_00.png 200w","/static/b7639d155aa03a2ddf678e20119f7a5d/c7805/ccdebugger_00.png 400w","/static/b7639d155aa03a2ddf678e20119f7a5d/7b680/ccdebugger_00.png 730w"],"sizes":["(max-width:","730px)","100vw,","730px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{"start":4},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Connect "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"BOTH"}]},{"type":"text","value":" the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"CC2531 USB sniffer"}]},{"type":"text","value":" and the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"CC debugger"}]},{"type":"text","value":" to your PC using USB."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If the light on the CC debugger is RED press set reset button on the CC debugger. The light on the CC debugger should now turn GREEN. If not use "},{"type":"element","tagName":"a","properties":{"href":"http://www.ti.com/lit/ug/swru197h/swru197h.pdf"},"children":[{"type":"text","value":"CC debugger user guide"}]},{"type":"text","value":" to troubleshoot your problem. "}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Download and unzip the firmware "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/Koenkk/Z-Stack-firmware/tree/master/coordinator/default/CC2531"},"children":[{"type":"text","value":"CC2531ZNP-Prod.hex"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Start SmartRF Flash Programmer, setup as shown below and press "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Perform actions"}]},{"type":"text","value":". "}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/1c6c877c2d14178a31f0c35525c8612a/79997/flash_01.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 702px;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 86.8945868945869%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAD80lEQVQ4y01TW2xUVRS9pNjGAMYWNbUULPZh1EaIoBGNERMQpNBCNPEFDY9KUEQT/cAA0YhJjX5oYqrxo0yhEUuKfCgaEzX8lI59MAydtvO+M3Nn5s59z7MzTGeU5T5nGujHuvvcc/ZZZz/WFr7qG4Rt+ArOEGwXr2D48ghiMRlyPA5N1VAoFFAsFrmdn59HuVzmKJVKHOyM7TObz+chtG39CM/s+wb1206jZtMJrHn5c3h8QXg8brjdbszOzmJqagrTLhd0TYNhGBypVAqpZLJiF5BOpyE89MIHeP5AH55714b2g/1of7MPHr8IMRiAGA4jIkmIyzJy9HqBorDoomElkZ2bQyaX48gS0tkcUoyw6pF9EDZ/gpr3L2DJ0SE8fLgfUlSGaRqIB4jUeR2KzwfF74MWDCIdlZCSInxPoz014OdrKyRCp4eFFR2nUHv6b9T1/oXqk5fR1vsHZNVAIZ+D6x8XBi6MYvBnO/qHRnDpNwd+/HUKtksOnB2+im8HR3Duoh3fnx/BmSE7gtNeCPdv/RgrD5xF/YlfcM+p39F67DyC4SjisSgMM4n/AJTp8++tii3Sp1i+xf9Li/ZLZHXThHBvaweWPfE2Grv7saJ7AK3v/QTRPoGY3Y7Y+AQSk9cQn5iAPDnJoTocUK45+Do2Nk4+41CdTmhjY5Bd0xDurluPZS2v4rGeAazsPoeWQzZI3gCvSyIQhB4Kw3/dyaHQf3hmBtKsG1GPh84DUEURGvmofj9kWgsbu46jefOHaNv9GZa/9AVa9nxJKUsIRSLwURNEsiHqtJ+vwwiEQkioKlRd5x2eu3mTKyBPCtBITsKLB7/G+s5PsbylC1Vru9D8bDckKYoQde2G8wZmWEREGotSXUnsKpFxzRGSlgWL6mYSLForigLh0R0nsW5PL1q3HIfwwHY0bdiLcKRCqGk6dIqEXUguiJhZ9s/EbS4iY6Jmjwm1jx9Gbfs7uG/dUdQ070Xjk4cg0ehpmsodNJoOdoERiFSjINWW2TCJPkTpS1QO9lAmk6kQVq96DdWNb6G64XUsXf0Gmp7qoemI8UOZhMrAIyFClaxKc2sspJtciJiR3SFs6MTSVa/grobdEOp2oHnTEZqUOEWkcwcGNsMWpWRRJ83vfoDh9cEgImNROe4Qru7Akgc7UdWwk/Lfgqane4gwBl1VeHSJRAIKQbVMKFdHkThyDOqoHRqRqNQEds7AfKPUuAph/S4i3EURbsOaDfvhFyVE4uSsVNL2U2Q+rxdusjMJGW7Sn5d0GKRasqhYd5llKiDCnQuEnUS4HWs37ofDJ+NPN9XLTCGbSd/uJk+RLpq6cbu7LFXW4Ww2y0n/B1OcQzHiWD2WAAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;","alt":"Zigbee2MQTT","title":"","src":"/static/1c6c877c2d14178a31f0c35525c8612a/79997/flash_01.png","srcSet":["/static/1c6c877c2d14178a31f0c35525c8612a/9ec3c/flash_01.png 200w","/static/1c6c877c2d14178a31f0c35525c8612a/c7805/flash_01.png 400w","/static/1c6c877c2d14178a31f0c35525c8612a/79997/flash_01.png 702w"],"sizes":["(max-width:","702px)","100vw,","702px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/3014b8d933b6e22629143b2cf9ef7868/79997/flash_02.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 702px;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 87.17948717948718%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAD50lEQVQ4yz1Ta0xbZRg+MGExgx8QNIBbnBQ71Ojwh+KFLFFciA7wGl0y2XSKxJGoMdEoZlni1MVojEZd5pgUMzcFI9lWvMWlIfMHs0xCEeiNntOenp5LWwrlUijN9vi+X8Efz/lu53ve533f55M+/vIMHAMu9DJ+cmHA+RdiMR1aVINlWlhZWcHq6ioymQyy2SxyuZzA2tqaAJ/xPo/Ly8uQapveQkP7Z6hqPoqi+95FTcsHmAnJmJqagtfrFeP4+DgmJycRj8eRSCQE5ubmkErNiXED8/PzkG5qfAO7Dn6Fxi4H7nixB3c9/zURKpiZCUKWZSjhMLRYTETPkNpUKoVkchaLi4tYWFhYxyLS6YU8oWTbD6npCDa/1g/p0A+4tfMUdN2gS0lEiMznnYYaCUMNK1QGFQnLRNzU6UxBlPajakScmboG0zQhXf/oEZQfvYiyD/9EcbcTtx37HboZx3wqiRFvFCdcIZwaDuH4xQD63Rp6RwycuKThpCuIT3/zo2dYxud/+HF8OAKvEoNU9nA3Kg72obL7AkrfG0Ld62cpXRmBQABWIokcgLWrhGv5MUOfldw1sc5eze9l1xGPJyCVbG9BSX0nth74FiXtDtR1fU81M6jTGlRVFWlyWlExj8LQdeh0xnthRRblsEwDpqHTHVJ4XWk9Su3P4vaOPpS192HHyw6oZBlZDsEwDNFZVsvgtaIoCEcoAJPT2rIsxKnrXD9BePeed2B76E3Yn3wfW3Z/hLpnPkEwGCSb/Au/3y86zeB5KBQSZzqpZIJ0Oo2lpSXRcXYBk0u7XvgCO1sPY4utDZu2Pw574wERiZV4PB7hvwgpEulrmri04bnZ2VkBdgSPrFiyNx9G/VPHUNv0NqSKZtju3U+EBnw+HwxSwSbmn9l/rIjJmID3eWTwGQcQtinZ0YnyO19Fxc4uFNfsw833dMC08nWbmJjA9PS0UMzK+NXwmksQJo9yCVg9B+FggrDgxueweds+FFfvxaZte1HT0EHKLKqZD5dHLmN0dFSky4r4KXIJuI4bpIwUZcCEIuWCG9pQtPVpFFU/Aan8MdgfPESR4tTpKLw+PwJ0medJumSSSt0wxXoDMXpVKa7p/wor96CwmhpS3UIufwS2+zsR02JI6Aw9P5LHGFGykkzKDVKcoieYpL04l4N8aWpR4VVBWFDVQoStRLgbtzzwClTXJcgD5xD62Ql50AlP31mMO87A/Y0D7pMOXOn5DmO9pzF5uh/K4BD9Q/hxEOqVMUiFVa0orGwlwjYibEZtw0vw+DUM/RPDL2N5XHBHcO7vCM4TnKPq+jyM826VznXxz6+EGUXDf83BO5mMD0P0AAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;","alt":"Zigbee2MQTT","title":"","src":"/static/3014b8d933b6e22629143b2cf9ef7868/79997/flash_02.png","srcSet":["/static/3014b8d933b6e22629143b2cf9ef7868/9ec3c/flash_02.png 200w","/static/3014b8d933b6e22629143b2cf9ef7868/c7805/flash_02.png 400w","/static/3014b8d933b6e22629143b2cf9ef7868/79997/flash_02.png 702w"],"sizes":["(max-width:","702px)","100vw,","702px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"running-the-bridge"},"children":[{"type":"element","tagName":"a","properties":{"href":"#running-the-bridge","ariaLabel":"running the bridge permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Running the bridge"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"After flashing your CC2531 USB sniffer with CC2531ZNP-Prod.hex firmware we can remove the CC Debugger and connecting cable and plug the Sniffer into our Linux computer you can use a "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Raspberry Pi 3"}]},{"type":"text","value":" with "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Raspbian Stretch Lite"}]},{"type":"text","value":", but will work on any Linux machine."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"determine-location-of-cc2531-usb-sniffer-and-checking-user-permissions"},"children":[{"type":"element","tagName":"a","properties":{"href":"#determine-location-of-cc2531-usb-sniffer-and-checking-user-permissions","ariaLabel":"determine location of cc2531 usb sniffer and checking user permissions permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Determine location of CC2531 USB sniffer and checking user permissions"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We first need to determine the location of the CC2531 USB sniffer. Connect the CC2531 USB to your Raspberry Pi. Most of the times the location of the CC2531 is "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"/dev/ttyACM0"}]},{"type":"text","value":". This can be verified by:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"ls"}]},{"type":"text","value":" -l /dev/ttyACM0\ncrw-rw---- 1 root dialout 166, 0 Apr 21 13:14 /dev/ttyACM0  "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# <-- CC2531 on /dev/ttyACM0"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/37fd2d4145a1b1101bed9a256fd79449/a6906/zigbee2mqtt_01.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 728px;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 4.8076923076923075%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAIAAABR8BlyAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAPElEQVQI12M4cnb16Ysbz5zcfuHUtguntpw9vvHc8U13rh88vm/5jPb8xb1FV89sfnjv2L1bh+7fPoyGAGKXLhF7eBOrAAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;","alt":"Zigbee2MQTT","title":"","src":"/static/37fd2d4145a1b1101bed9a256fd79449/a6906/zigbee2mqtt_01.png","srcSet":["/static/37fd2d4145a1b1101bed9a256fd79449/9ec3c/zigbee2mqtt_01.png 200w","/static/37fd2d4145a1b1101bed9a256fd79449/c7805/zigbee2mqtt_01.png 400w","/static/37fd2d4145a1b1101bed9a256fd79449/a6906/zigbee2mqtt_01.png 728w"],"sizes":["(max-width:","728px)","100vw,","728px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"As an alternative, the device can also be mapped by an ID. This can be handy if you have multiple serial devices connected to your pi. In the example below the device location is: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"/dev/serial/by-id/usb-Texas_Instruments_TI_CC2531_USB_CDC___0X00124B0018E32D5B-if00"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"ls"}]},{"type":"text","value":" -l /dev/serial/by-id\ntotal 0\nlrwxrwxrwx 1 root root 13 Apr 21 13:14 usb-Texas_Instruments_TI_CC2531_USB_CDC___0X00124B0018ED113B-if00 -"},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":">"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":".."}]},{"type":"text","value":"/"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":".."}]},{"type":"text","value":"/ttyACM0"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/7ec366605ae74a597215a541d0b0b525/7ec06/zigbee2mqtt_02.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 732px;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 8.060109289617486%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAd0lEQVQI1x2HTQ6CMBQGuagLr8DWjXdwwy3caHQhCdgPY/BJ+/pDH0XiVaQmk8lMkb7tPL3T2PjhavoT05npYk0topKoGFWOKVv+u6wdVRhXUOzLbbXbtMfDR+7ibnOoY2iMf5CDdiAGWWif/bJ4GnBAz+g0MHQ/gz9d6vdOe3EAAAAASUVORK5CYII='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;","alt":"Zigbee2MQTT","title":"","src":"/static/7ec366605ae74a597215a541d0b0b525/7ec06/zigbee2mqtt_02.png","srcSet":["/static/7ec366605ae74a597215a541d0b0b525/9ec3c/zigbee2mqtt_02.png 200w","/static/7ec366605ae74a597215a541d0b0b525/c7805/zigbee2mqtt_02.png 400w","/static/7ec366605ae74a597215a541d0b0b525/7ec06/zigbee2mqtt_02.png 732w"],"sizes":["(max-width:","732px)","100vw,","732px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"installation"},"children":[{"type":"element","tagName":"a","properties":{"href":"#installation","ariaLabel":"installation permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Installation"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To use ZigBee2MQTT we first need to install Node.js and Git:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sudo"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"apt"}]},{"type":"text","value":" update\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sudo"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"apt"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"install"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"git"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You can confirm that you have installed Git and Node correctly by running the following commands:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"git"}]},{"type":"text","value":" --version\nnode -v"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/af89768258b258aeff83197ea9763b79/af110/zigbee2mqtt_03.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 731px;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 8.618331053351573%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAN0lEQVQI12PYf2rZ6TNbL5zafePynqsXdgHJB3eO3L99mBjEcOTM6vMXt185v/f65d33iNMDRwAwTGH9olzo2AAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;","alt":"Zigbee2MQTT","title":"","src":"/static/af89768258b258aeff83197ea9763b79/af110/zigbee2mqtt_03.png","srcSet":["/static/af89768258b258aeff83197ea9763b79/9ec3c/zigbee2mqtt_03.png 200w","/static/af89768258b258aeff83197ea9763b79/c7805/zigbee2mqtt_03.png 400w","/static/af89768258b258aeff83197ea9763b79/af110/zigbee2mqtt_03.png 731w"],"sizes":["(max-width:","731px)","100vw,","731px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Then clone "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/Koenkk/zigbee2mqtt"},"children":[{"type":"text","value":"ZigBee2MQTT from Github"}]},{"type":"text","value":" and change the owner of the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"/opt/zigbee2mqtt"}]},{"type":"text","value":" directory to your default Linux user - in our case this is "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"nodeadmin"}]},{"type":"text","value":":"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sudo"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"git"}]},{"type":"text","value":" clone https://github.com/Koenkk/zigbee2mqtt.git /opt/zigbee2mqtt\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sudo"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"chown"}]},{"type":"text","value":" -R pi:pi /opt/zigbee2mqtt"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Then change into the directory and use "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"npm"}]},{"type":"text","value":" to install all dependencies:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"cd"}]},{"type":"text","value":" /opt/zigbee2mqtt\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"npm"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"install"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/92a96e661ebb18928c21dfd2b397f042/7b680/zigbee2mqtt_04.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 730px;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 31.506849315068497%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABLUlEQVQY01XN2U6DQBQGYJ7fG2PihUtri2iUUqg4qK1tKTAMy4yUoQsd1kGfxKm9Mvny5z8nJzmSFz7PoeJjjczHeHBBlMtMvd4b/cKUSyAzc8DMoZAbdxW4F8RmP+41js4bJCW+uUaAuEbgalFoJsSKApNgi9IpK9y2C1seNC0Syb+j7ijufmIuxhJKyBtBVw08DcNJYKuhPYodLUGTLzTJsJXFVoYBjUFOZ7z0/qmgFBLdTzRCzS210/WsYG5d+01zfNV1UcfDtobt36nIE9FPpEWsvMCbJX4kDsB6j77Jm4+HDZC3lpICmb4OGbZYbrPNnO0WxW5RHZyu9nnti5SmwfAdD9xUjb0l0o2VqgXKbXp1tuufF59PFXrla7tmXrW3y9yuD45QHVan8gv09xWAFsb4iAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;","alt":"Zigbee2MQTT","title":"","src":"/static/92a96e661ebb18928c21dfd2b397f042/7b680/zigbee2mqtt_04.png","srcSet":["/static/92a96e661ebb18928c21dfd2b397f042/9ec3c/zigbee2mqtt_04.png 200w","/static/92a96e661ebb18928c21dfd2b397f042/c7805/zigbee2mqtt_04.png 400w","/static/92a96e661ebb18928c21dfd2b397f042/7b680/zigbee2mqtt_04.png 730w"],"sizes":["(max-width:","730px)","100vw,","730px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"configuration"},"children":[{"type":"element","tagName":"a","properties":{"href":"#configuration","ariaLabel":"configuration permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Configuration"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Before we can start zigbee2mqtt we need to edit the configuration.yaml file. This file contains the configuration which will be used by zigbee2mqtt. Open the configuration file:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"nano"}]},{"type":"text","value":" /opt/zigbee2mqtt/data/configuration.yaml"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/36e83adc9f974118600937e43a5574ba/7ec06/zigbee2mqtt_05.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 732px;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 43.442622950819676%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABJklEQVQoz4WQ6U7CUBCF++hEEw24FEiIsShBFAmkSmxlKQJlKbJ031u6CD6Jp2niz5KcTCb33m/mnkO0atdNqvBUuaiSOYrMNe4um1S+9XD19lymG6VOvdipk3Sj2K7ftms3tfL5Y+ns5T6P29dqgZA3jC71DKlvKcO9w3vWxLenvjWJ/PkxWh0iAfVfv/E3lPShcIxXhLbrGXJfF/sAAneaAKEABvUnWGaLMJWhpXGBO8NrbEvkJTX2F/F+cQJez2lly0rrD3XL2hrnaCPPGnvmGA1GHMJMeLt8VzaMKHTBwzycO/oocHgIRrKXE+KqK68ZZcPCNrDQ5bEWmQFGg89nwZr4aatDW+VCb5YepWmlOuFZ2bGmPIBtQx64xhfCQ2Anc071BwPtqrL65V0BAAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;","alt":"Zigbee2MQTT","title":"","src":"/static/36e83adc9f974118600937e43a5574ba/7ec06/zigbee2mqtt_05.png","srcSet":["/static/36e83adc9f974118600937e43a5574ba/9ec3c/zigbee2mqtt_05.png 200w","/static/36e83adc9f974118600937e43a5574ba/c7805/zigbee2mqtt_05.png 400w","/static/36e83adc9f974118600937e43a5574ba/7ec06/zigbee2mqtt_05.png 732w"],"sizes":["(max-width:","732px)","100vw,","732px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I am going to use a local Mosquitto MQTT server running on a INSTAR Full HD Camera on "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"192.168.2.115"}]},{"type":"text","value":". Alternatively, you can install a "},{"type":"element","tagName":"a","properties":{"href":"https://wiki.instar.com/Software/Linux/Node-RED/#installing-mosquitto"},"children":[{"type":"text","value":"local Mosquitto Server"}]},{"type":"text","value":" on your Raspberry Pi and add it via "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"server: 'mqtt://localhost'"}]},{"type":"text","value":" in the config file."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"yaml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# Home Assistant integration (MQTT discovery)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"homeassistant"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean","important"]},"children":[{"type":"text","value":"false"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# allow new devices to join"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"permit_join"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean","important"]},"children":[{"type":"text","value":"true"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# MQTT settings"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"mqtt"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# MQTT base topic for zigbee2mqtt MQTT messages"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"base_topic"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" zigbee2mqtt\n  "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# MQTT server URL"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"server"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'mqtt://192.168.2.115'"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# MQTT server authentication, uncomment if required:"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# user: my_user"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# password: my_password"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# Serial settings"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"serial"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# Location of CC2531 USB sniffer"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"port"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" /dev/ttyACM0"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"I am not sure if Zigbee2MQTT offer TLS support - I will have to look into that. Also, I deactivated the user authentication on my MQTT server for now to have an easier time debugging - user name and password have to be added here before reactivating it."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Make sure that "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"permit_join"}]},{"type":"text","value":" is set to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"true"}]},{"type":"text","value":", to allow new devices to be added. It can be set to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"false"}]},{"type":"text","value":" once all your Zigbee devices are integrated."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"For the serial port you can use the "},{"type":"element","tagName":"a","properties":{"href":"#determine-location-of-cc2531-usb-sniffer-and-checking-user-permissions"},"children":[{"type":"text","value":"location of CC2531 USB sniffer"}]},{"type":"text","value":" that we determined to be either "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"/dev/ttyACM0"}]},{"type":"text","value":" or "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"/dev/serial/by-id/usb-Texas_Instruments_TI_CC2531_USB_CDC___0X00124B0018ED113B-if00"}]},{"type":"text","value":" - both can be used interchangeably (the location might differ in your case!)."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"running-zigbee2mqtt"},"children":[{"type":"element","tagName":"a","properties":{"href":"#running-zigbee2mqtt","ariaLabel":"running zigbee2mqtt permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Running ZigBee2MQTT"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Now that we have setup everything correctly we can start zigbee2mqtt directly from our console to see if there are any error messages:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"cd"}]},{"type":"text","value":" /opt/zigbee2mqtt\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"npm"}]},{"type":"text","value":" start"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You should see the status LED on your CC2531 light up green and hopefully a friendly console log like this:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/bd210ff556999e29664b143039a7fc08/c2c20/zigbee2mqtt_06.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 729px;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 49.65706447187929%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAB50lEQVQoz41SyXbaQBDU//9ADjaX5CXYRgiBhdksC+2jfbQhBML2n1R6BttJbjnU61bPqKequpWknCPIVKR8gTzeI/IdhJ4LnlqoshWO9TPezu5/Q+nKLdJgjpwt0Lc7nA6Edouu3KAp1lQzcentL7yeHBmHbo/huMfleK2LXECpqhXs+A5FY6Bq18RqjTpfo+VbNPlKsqwJonmZLnEodzIXtSp7kuCx8aHGhCIa6dEIDr8HK2eInCliT7vCnYK5M4S2imCvIiQwOu+qnWQj7OjbFxnPBwvvgwelaZYw2QgsGyMrNPppAmZPZbPYFQ00BNYDEl+Xjwl7MkKVPqFMljg1ppQvrJAeDqWBzhnhFI3Rp7OPZho1mCH1NUQesZbfumxWkLyYaqWwQthAkQtL+AanzoLC+zXmyQh2MUbApwitiZQVEcPImcB/vkNg3iOgyExiSvKryEBN8ltCR5b0no4LeftGTJXS+oFNcAu/VpFUc2IlmOhy6plgOblBOv6GQr0BV29RU2xIxYGGdiDZLQ3uTIyPm184WyqUfPUdgf0TvKaJ0cRz9ghO3gh5YoJZsEARLsCjR/LMkJE5KnKK8mExYcqzlwdU1FipaQ+PtGuv/Z99ErsljL70/+7Y8Hcu733eca5nhN9lsJg2dVHliwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;","alt":"Zigbee2MQTT","title":"","src":"/static/bd210ff556999e29664b143039a7fc08/c2c20/zigbee2mqtt_06.png","srcSet":["/static/bd210ff556999e29664b143039a7fc08/9ec3c/zigbee2mqtt_06.png 200w","/static/bd210ff556999e29664b143039a7fc08/c7805/zigbee2mqtt_06.png 400w","/static/bd210ff556999e29664b143039a7fc08/c2c20/zigbee2mqtt_06.png 729w"],"sizes":["(max-width:","729px)","100vw,","729px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You can see that the service is running, connected to the local MQTT server and published a message to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"zigbee2mqtt/bridge/state"}]},{"type":"text","value":" with the payload "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"online"}]},{"type":"text","value":". We can use the program "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/thomasnordquist/MQTT-Explorer"},"children":[{"type":"text","value":"MQTT Explorer"}]},{"type":"text","value":" to verify that the message was received by our Mosquitto server:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/4a8a2f81b8c643ad47a87da2c6e15f72/7b680/zigbee2mqtt_07.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 730px;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 40.41095890410959%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABiElEQVQoz5WRy07bQBRA/TFdJCJ+YEvYTmzH9ng8cXBIIUkfiN/oqv9BWyWoVSU+opsuKxVUKoIKUlcVeyB/cBgctV10QxdH587c0Z25d4xPn3/y5es1F1d3LC9XLK9WOl6tY8355R3fL24bzjTfljcNZ7+t985/rHMnp78w5Owjw4Nj5GRONn7HYLZg+PwINV00yL05gTokKA8J1RuSnSP6mrheEG/P6Y8WVM8+kO++p5q+xdgtFa9eHpD7IX7YJfAD/AeCsHGgHQR/XVdD9sZPUbIkz3JELsi0k37KZDzCSLtdXihFrUrUQFEIgRD5HwvtPM+adZamZGEPESVkvYgojvCTHnESE4Yho6rEMC2LVqfDhqbTYP6DaZpNztJnt+u6QUhJlRbsx4pBXpDqC6cPL3Qch02N8wg8z6UoJLLQ3QwrJrHk9dYO46xE6O72Z5N1wcdg27b2Jl3fJYlcvC0PyzZ54mzQsUxarTYyS/6/YC/0KPqu/jwXVxe09UgsPZJWu02RJtwDGAs6YsGGNXsAAAAASUVORK5CYII='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;","alt":"Zigbee2MQTT","title":"","src":"/static/4a8a2f81b8c643ad47a87da2c6e15f72/7b680/zigbee2mqtt_07.png","srcSet":["/static/4a8a2f81b8c643ad47a87da2c6e15f72/9ec3c/zigbee2mqtt_07.png 200w","/static/4a8a2f81b8c643ad47a87da2c6e15f72/c7805/zigbee2mqtt_07.png 400w","/static/4a8a2f81b8c643ad47a87da2c6e15f72/7b680/zigbee2mqtt_07.png 730w"],"sizes":["(max-width:","730px)","100vw,","730px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Looks like we were successful!"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"running-zigbee2mqtt-as-a-daemon"},"children":[{"type":"element","tagName":"a","properties":{"href":"#running-zigbee2mqtt-as-a-daemon","ariaLabel":"running zigbee2mqtt as a daemon permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Running ZigBee2MQTT as a Daemon"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To run zigbee2mqtt as a service and start it automatically on boot we will run zigbee2mqtt with "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"systemctl"}]},{"type":"text","value":":"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sudo"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"nano"}]},{"type":"text","value":" /etc/systemd/system/zigbee2mqtt.service"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Add the following to this file to automatically run the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"index.js"}]},{"type":"text","value":" file from the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"zigbee2mqtt"}]},{"type":"text","value":" bridge inside the Node runtime:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"[Unit]\nDescription=zigbee2mqtt\nAfter=network.target\n\n[Service]\nExecStart=/usr/bin/node /opt/zigbee2mqtt/index.js\nStandardOutput=syslog\nStandardError=syslog\nSyslogIdentifier=zigbee2mqtt\nRestart=always\n # Restart service after 10 seconds if node service crashes\n RestartSec=10\n\n[Install]\nWantedBy=multi-user.target"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/023ef4131b7ffb965594acf71e5f1eb1/7ec06/zigbee2mqtt_08.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 732px;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 34.15300546448087%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA/0lEQVQY03WQe0vCYBTG9+E1CNRaS5BCN8xlm1ulNlPalTmnzr3q7hffWt+k0x+GhsKPw+HhPJznHGLINXjmmmeuHu8rTP2CpkrdZuWpWQVR7FBimxQeyBf2VmiTHF1j7y5pqtyiSlyrJnZuCDQfbB0pQJOtM4q9j29sFbvpH1+5ecSxTmyWkmv3ffTuo3HsybtEz0IVyCMN+MzM//4DCMd6tY0esvvQeO4oDdXElyFCGirQw0SBrbPmuSHoE3am8QvzGU4I0BgW4sTIIz2PAQ1S4NQ4bYa0rj3YLN/2UWGzkkVqGigAKFDPmr2VtF4MIeqvwZdhtMDTw5+deNueH9MpSGSwsenqAAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;","alt":"Zigbee2MQTT","title":"","src":"/static/023ef4131b7ffb965594acf71e5f1eb1/7ec06/zigbee2mqtt_08.png","srcSet":["/static/023ef4131b7ffb965594acf71e5f1eb1/9ec3c/zigbee2mqtt_08.png 200w","/static/023ef4131b7ffb965594acf71e5f1eb1/c7805/zigbee2mqtt_08.png 400w","/static/023ef4131b7ffb965594acf71e5f1eb1/7ec06/zigbee2mqtt_08.png 732w"],"sizes":["(max-width:","732px)","100vw,","732px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Save the file, exit and verify that the configuration works:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sudo"}]},{"type":"text","value":" systemctl daemon-reload\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sudo"}]},{"type":"text","value":" systemctl start zigbee2mqtt\nsystemctl status zigbee2mqtt.service"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/96e070bc3872ded682dd9b71fd1ab1b0/af110/zigbee2mqtt_09.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 731px;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 25.3077975376197%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA80lEQVQY022OS0+DQBhF+f8bExNXpsbGqCFTUgsUoTADDM+ZTmGgvCz08VP80MSVycld3ZtzFYM9viR3Jl98mhS9Zssn5uOYRas0QDnVEqLGWM0CJPfbtnSGo3dqyW2KgesYKUS8WeHCZ+9B6BJMTX1H8bbM9ZIZFTdhI9KNZEYnnctXeP5h7INpCOdxWzgpRsx6Tlb3XH8QeCmyD8kNoD5YrXSa0m4KuxIWaIfag+xrF/zXKVIufXhqSCesgqI60ap8LbkuuXnINrAExs7/PTm/Pcd/OZvzQqN7NS/WaeIFGBOXZNQGW1+5bWkfQV7toPcv3zR46IDmlcsTAAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;","alt":"Zigbee2MQTT","title":"","src":"/static/96e070bc3872ded682dd9b71fd1ab1b0/af110/zigbee2mqtt_09.png","srcSet":["/static/96e070bc3872ded682dd9b71fd1ab1b0/9ec3c/zigbee2mqtt_09.png 200w","/static/96e070bc3872ded682dd9b71fd1ab1b0/c7805/zigbee2mqtt_09.png 400w","/static/96e070bc3872ded682dd9b71fd1ab1b0/af110/zigbee2mqtt_09.png 731w"],"sizes":["(max-width:","731px)","100vw,","731px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Now that everything works, we want "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"systemctl"}]},{"type":"text","value":" to start "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"zigbee2mqtt"}]},{"type":"text","value":" automatically on boot, this can be done by executing:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"sudo systemctl enable zigbee2mqtt.service"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/042cc5df5914d41c6c035dd06ae48a4c/7ec06/zigbee2mqtt_10.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 732px;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 6.0109289617486334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAIAAABR8BlyAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAASElEQVQI1wE9AML/AMTIqrzEo8PHqcbCucG7ur67vMq4r9CnltGpmNGpmdCnltGol8uik8+mltKmltfIs9rYwNbQutTQudbSuyg8K7bvqTuFAAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;","alt":"Zigbee2MQTT","title":"","src":"/static/042cc5df5914d41c6c035dd06ae48a4c/7ec06/zigbee2mqtt_10.png","srcSet":["/static/042cc5df5914d41c6c035dd06ae48a4c/9ec3c/zigbee2mqtt_10.png 200w","/static/042cc5df5914d41c6c035dd06ae48a4c/c7805/zigbee2mqtt_10.png 400w","/static/042cc5df5914d41c6c035dd06ae48a4c/7ec06/zigbee2mqtt_10.png 732w"],"sizes":["(max-width:","732px)","100vw,","732px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To stop, restart or check the log of our service run the following commands:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# Stopping zigbee2mqtt"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sudo"}]},{"type":"text","value":" systemctl stop zigbee2mqtt\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# Starting zigbee2mqtt"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sudo"}]},{"type":"text","value":" systemctl start zigbee2mqtt\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# View the log of zigbee2mqtt"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sudo"}]},{"type":"text","value":" journalctl -u zigbee2mqtt.service -f"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{"id":"update-zigbee2mqtt-to-the-latest-version"},"children":[{"type":"element","tagName":"a","properties":{"href":"#update-zigbee2mqtt-to-the-latest-version","ariaLabel":"update zigbee2mqtt to the latest version permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Update zigbee2mqtt to the latest version"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# Stop zigbee2mqtt and go to directory"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sudo"}]},{"type":"text","value":" systemctl stop zigbee2mqtt\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"cd"}]},{"type":"text","value":" /opt/zigbee2mqtt\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# Backup configuration"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"cp"}]},{"type":"text","value":" -R data data-backup\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# Update"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"git"}]},{"type":"text","value":" checkout HEAD -- npm-shrinkwrap.json\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"git"}]},{"type":"text","value":" pull\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" -rf node_modules\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"npm"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"install"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# Restore configuration"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"cp"}]},{"type":"text","value":" -R data-backup/* data\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"rm"}]},{"type":"text","value":" -rf data-backup\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"# Start zigbee2mqtt"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"sudo"}]},{"type":"text","value":" systemctl start zigbee2mqtt"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"pairing-devices"},"children":[{"type":"element","tagName":"a","properties":{"href":"#pairing-devices","ariaLabel":"pairing devices permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Pairing Devices"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The "},{"type":"element","tagName":"a","properties":{"href":"https://www.zigbee2mqtt.io/information/supported_devices.html"},"children":[{"type":"text","value":"number of devices that you can use with the zigbee2mqtt bridge"}]},{"type":"text","value":" is steadily growing (there are alternative "},{"type":"element","tagName":"a","properties":{"href":"https://www.zigbee2mqtt.io/getting_started/pairing_devices.html"},"children":[{"type":"text","value":"pairing instructions available here"}]},{"type":"text","value":"). In this tutorial we are going to add 3 "},{"type":"element","tagName":"a","properties":{"href":"https://xiaomi-mi.com/sockets-and-sensors/"},"children":[{"type":"text","value":"XiaoMi Mi Home"}]},{"type":"text","value":" sensors - a "},{"type":"element","tagName":"a","properties":{"href":"https://xiaomi-mi.com/sockets-and-sensors/xiaomi-mi-temperature-humidity-sensor/"},"children":[{"type":"text","value":"Temperature & Humidity Sensor"}]},{"type":"text","value":", a "},{"type":"element","tagName":"a","properties":{"href":"https://xiaomi-mi.com/sockets-and-sensors/xiaomi-mi-wireless-switch/"},"children":[{"type":"text","value":"Wireless Switch"}]},{"type":"text","value":" and a "},{"type":"element","tagName":"a","properties":{"href":"https://xiaomi-mi.com/sockets-and-sensors/xiaomi-mi-occupancy-sensor/"},"children":[{"type":"text","value":"Home Occupancy Sensor"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"IMPORTANT"}]},{"type":"text","value":": Before you start, make sure that "},{"type":"element","tagName":"a","properties":{"href":"#configuration"},"children":[{"type":"text","value":"permit_join: true"}]},{"type":"text","value":" is set in your "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"configuration.yaml"}]},{"type":"text","value":". Otherwise new devices cannot join the network! Also verify that the "},{"type":"element","tagName":"a","properties":{"href":"#running-zigbee2mqtt-as-a-daemon"},"children":[{"type":"text","value":"ZigBee2MQTT Bridge is running"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"We first start with the "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Temperature & Humidity Sensor"}]},{"type":"text","value":" that has a pairing button on its side. Press the button for about 5 seconds - the "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"blue LED will start to blink"}]},{"type":"text","value":": in my case it started to blink slowly in 3-time sequences. After a few seconds the blinking sped up and stopped and the device was paired with the ZigBee Bridge."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The pairing can be found inside a log file in "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"/opt/zigbee2mqtt/data/log/"}]},{"type":"text","value":":"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"yaml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"text","value":"4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 3"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"34"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"17 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"info"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" New device 'undefined' with address 0x00158d00023a21c8 connected!\n4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 3"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"34"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"17 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"info"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" MQTT publish"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" topic 'zigbee2mqtt/bridge/log'"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" payload '"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\"type\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"device_connected\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"message\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"0x00158d00023a21c8\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"meta\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"'\n4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 3"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"34"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"17 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"warn"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" Device with modelID 'undefined' is not supported.\n4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 3"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"34"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"17 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"warn"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" Please see"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" https"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"//www.zigbee2mqtt.io/how_tos/how_to_support_new_devices.html\n4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 3"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"34"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"17 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"info"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" MQTT publish"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" topic 'zigbee2mqtt/0x00158d00023a21c8'"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" payload '"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\"temperature\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"29.63"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"linkquality\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"134"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"'\n4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 3"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"34"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"17 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"info"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" MQTT publish"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" topic 'zigbee2mqtt/0x00158d00023a21c8'"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" payload '"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\"temperature\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"29.63"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"linkquality\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"134"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"humidity\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"60.12"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"'\n4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 3"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"35"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"05 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"info"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" MQTT publish"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" topic 'zigbee2mqtt/0x00158d00023a21c8'"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" payload '"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\"temperature\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"29.12"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"linkquality\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"134"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"humidity\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"60.12"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"'\n4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 3"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"35"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"05 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"info"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" MQTT publish"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" topic 'zigbee2mqtt/0x00158d00023a21c8'"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" payload '"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\"temperature\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"29.12"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"linkquality\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"134"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"humidity\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"57.13"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"'\n4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 3"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"35"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"08 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"info"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" Device incoming"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"..."}]},{"type":"text","value":"\n4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 3"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"35"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"08 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"info"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" MQTT publish"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" topic 'zigbee2mqtt/bridge/log'"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" payload '"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\"type\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"pairing\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"message\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"device incoming\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"'"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Shortly afterwards the sensor data started coming in:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/bc58ad487f242e3b6150e3fcb36bc922/7b680/zigbee2mqtt_11.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 730px;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 49.86301369863014%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAB7UlEQVQoz42Sy27TQBSG/Ti5iFzdJnbsxDO+JLGdEHKhadwKWpGoPAAvBkLqlS0SO8SGDa1KYIWQwhN8jB2ogAWw+HTOHM35Z84/o71+85637675cPOF2/WGj582rD9/U1Gh4voPsvpvbLK+69uv3Ci0KDljdHTO7MkFs+UVo8fn7D99xUIxP7lStUseri5V/QwxfoE7fYk32yJVHh+eMj6+IExO8ebP0YLwiOTRM8z2lEq9R7nep1TbxooeZrlhT4hGK+LxCaJ7SNtd0PESOm6C8BPc4EDlC7rxMVpjt8ZqecR0ch/P7dDrucRRlygM6AaSQCE6LSJP8iDqEUmHbsfGEzZSKsQWx2llPZrvByyXK5LkgMUiydjbm7O/v2AwGDIYDpGORBqqyWzTaVoI08a2bKwftCwLwzDxPB9N13WazSbVajWjVquRz+czisViFncbDSbTCWEU4vk+0nVxhIMQQt3MwVc1z/OI4xitXC5TKpWoVCqkecpP8ZR0bZomvX4fIV0lPFU2BGpMoUaWmWgURZnYfD5HS4X+Riqo6zvYzR2kuUNTr2VT1Ov1O349+L8E06awV2U8rGCb9yjkC+RyuTtSWwr5IiW199+CpTIN5aHVVsZbJoZpIBzBUD1WOmYcxXT76mu5DYRh8B2mTYt7rOIZPwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;","alt":"Zigbee2MQTT","title":"","src":"/static/bc58ad487f242e3b6150e3fcb36bc922/7b680/zigbee2mqtt_11.png","srcSet":["/static/bc58ad487f242e3b6150e3fcb36bc922/9ec3c/zigbee2mqtt_11.png 200w","/static/bc58ad487f242e3b6150e3fcb36bc922/c7805/zigbee2mqtt_11.png 400w","/static/bc58ad487f242e3b6150e3fcb36bc922/7b680/zigbee2mqtt_11.png 730w"],"sizes":["(max-width:","730px)","100vw,","730px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"So far so good. But the "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"device ID"}]},{"type":"text","value":" was a bit hard to read and memorize: "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"0x00158d00023a21c8"}]},{"type":"text","value":". Luckily this can be adjusted in "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"/opt/zigbee2mqtt/data/configuration.yaml"}]},{"type":"text","value":":"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/f143b15d4896d2f18844ce2642fa4bef/7ec06/zigbee2mqtt_12.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 732px;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 26.639344262295083%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA0ElEQVQY04XM2Q7BQBQG4Hl5wQURRXFhqzVUqkWKxD5t0Y4l2tBWR8uDGOpCRCL5Lv7zn5wDus1MIx+t5yIMHSokAqVUkIzNQqxdprhass1QbClOMsvEiUo2nKcC5XSYlHydBirkkCIYu4GxH2JrcXcVD0ue8+ReoOdAP79h6XaVb1gmK9eBYK/2NblzRCJSeFXijO3AMibYnGNzQX59ckxi7vMboModbSXoh9FhK5qnGb7Al+XX5U/A1sebHrMWikis6tPWGXKnGWshEdv/7x/cU+goSfdUDAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;","alt":"Zigbee2MQTT","title":"","src":"/static/f143b15d4896d2f18844ce2642fa4bef/7ec06/zigbee2mqtt_12.png","srcSet":["/static/f143b15d4896d2f18844ce2642fa4bef/9ec3c/zigbee2mqtt_12.png 200w","/static/f143b15d4896d2f18844ce2642fa4bef/c7805/zigbee2mqtt_12.png 400w","/static/f143b15d4896d2f18844ce2642fa4bef/7ec06/zigbee2mqtt_12.png 732w"],"sizes":["(max-width:","732px)","100vw,","732px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"All paired devices will be listed at the bottom of the configuration file - just change the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"friendly_name"}]},{"type":"text","value":" to something human-readable. Remember that this will also change the MQTT topic the Zigbee bridge is using to publish the sensor readouts:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"yaml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"info"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" MQTT publish"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"topic"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'zigbee2mqtt/temp_hum_sensor'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"payload"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'{\"temperature\":26.33,\"linkquality\":78,\"humidity\":54.32,\"battery\":99,\"voltage\":3005}'"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The topic changed from "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"zigbee2mqtt/0x00158d00023a21c8"}]},{"type":"text","value":" to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"zigbee2mqtt/temp_hum_sensor"}]},{"type":"text","value":"! "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Note"}]},{"type":"text","value":": I thought I remembered that this worked without restarting the service - but this time it was necessary to do that ¯\\"},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"(ツ)"}]},{"type":"text","value":"/¯"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"But pairing both the "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Wireless Switch"}]},{"type":"text","value":" and "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Home Occupancy Sensor"}]},{"type":"text","value":" turned out to be more difficult. Holding the pairing button - that here could only be reached with a metal pin - gave the same pattern. The "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"blue LED started flashing"}]},{"type":"text","value":" - first slowly, then fast. But I kept getting timeouts for both devices - that identified as "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"0x00158d00023d229c"}]},{"type":"text","value":" and "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"0x00158d00020b3dff"}]},{"type":"text","value":" - for the pairing process inside the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"/opt/zigbee2mqtt/data/log/"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"yaml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"error"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" Cannot get the Node Descriptor of the Device"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" 0x00158d00023d229c (Error"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" Timed out after 10000 ms)\n"},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"error"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" Cannot get the Node Descriptor of the Device"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" 0x00158d00020b3dff (Error"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" Timed out after 10000 ms)"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You can "},{"type":"element","tagName":"a","properties":{"href":"https://www.zigbee2mqtt.io/getting_started/pairing_devices.html"},"children":[{"type":"text","value":"find an instruction"}]},{"type":"text","value":" that you need to press and hold the pairing button for 5 seconds (until the blue LED starts flashing), then release and keep pressing the button repeatedly (1s interval) afterwards - which feels a little bit counter-intuitive. But it actually works. Checking the log file shows that a "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Occupancy Sensor"}]},{"type":"text","value":" with the ID "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"0x00158d00020b3dff"}]},{"type":"text","value":" was connected:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"yaml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"text","value":"4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 3"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"55"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"03 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"warn"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" Device with modelID 'undefined' is not supported.\n4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 3"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"55"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"03 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"warn"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" Please see"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" https"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"//www.zigbee2mqtt.io/how_tos/how_to_support_new_devices.html\n4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 3"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"55"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"41 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"info"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" Device incoming"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"..."}]},{"type":"text","value":"\n4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 3"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"55"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"41 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"info"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" MQTT publish"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" topic 'zigbee2mqtt/bridge/log'"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" payload '"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\"type\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"pairing\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"message\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"device incoming\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"'\n4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 3"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"55"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"49 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"info"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" MQTT publish"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" topic 'zigbee2mqtt/0x00158d00020b3dff'"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" payload '"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\"occupancy\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","boolean","important"]},"children":[{"type":"text","value":"true"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"linkquality\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"110"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"'"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Repeating the same for the "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Wireless Switch"}]},{"type":"text","value":" and a new device with ID "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"0x00158d00023d229c"}]},{"type":"text","value":" showed up - excellent!"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"yaml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"text","value":"4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 3"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"50"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"57 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"info"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" New device 'undefined' with address 0x00158d00023d229c connected!\n4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 3"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"50"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"57 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"info"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" MQTT publish"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" topic 'zigbee2mqtt/bridge/log'"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" payload '"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\"type\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"device_connected\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"message\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"0x00158d00023d229c\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"meta\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"'\n4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 3"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"50"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"57 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"warn"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" Device with modelID 'undefined' is not supported.\n4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 3"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"50"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"57 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"warn"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" Please see"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" https"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"//www.zigbee2mqtt.io/how_tos/how_to_support_new_devices.html\n4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 3"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"50"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"58 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"warn"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" Device with modelID 'undefined' is not supported.\n4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 3"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"50"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"58 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"warn"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" Please see"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" https"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"//www.zigbee2mqtt.io/how_tos/how_to_support_new_devices.html\n4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 3"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"51"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"28 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"info"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" MQTT publish"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" topic 'zigbee2mqtt/0x00158d00023d229c'"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" payload '"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\"click\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"single\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"linkquality\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"102"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"'"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":" Again, we can adjust that a human-readable name is displayed instead of the ID in "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"/opt/zigbee2mqtt/data/configuration.yaml"}]},{"type":"text","value":":"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"yaml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"devices"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"'0x00158d00023a21c8'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"friendly_name"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'temp_hum_sensor'"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"retain"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean","important"]},"children":[{"type":"text","value":"false"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"'0x00158d00023d229c'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"friendly_name"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'smart_button'"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"retain"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean","important"]},"children":[{"type":"text","value":"false"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"'0x00158d00020b3dff'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"friendly_name"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'motion_pir_sensor'"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"retain"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","boolean","important"]},"children":[{"type":"text","value":"false"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The new names will now be used for the corresponding MQTT topics:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"yaml"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-yaml"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-yaml"]},"children":[{"type":"text","value":"4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 3"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"55"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"49 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"info"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" MQTT publish"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" topic 'zigbee2mqtt/motion_pir_sensor'"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" payload '"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\"occupancy\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","boolean","important"]},"children":[{"type":"text","value":"true"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"linkquality\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"110"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"'\n4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 3"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"57"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"19 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"info"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" MQTT publish"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" topic 'zigbee2mqtt/motion_pir_sensor'"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" payload '"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\"occupancy\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","boolean","important"]},"children":[{"type":"text","value":"false"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"linkquality\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"110"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"'\n4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 3"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"59"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"11 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"info"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" MQTT publish"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" topic 'zigbee2mqtt/temp_hum_sensor'"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" payload '"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\"temperature\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"26.55"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"linkquality\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"141"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"humidity\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"60.77"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"'\n4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 3"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"59"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"12 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"info"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" MQTT publish"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" topic 'zigbee2mqtt/temp_hum_sensor'"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" payload '"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\"temperature\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"26.55"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"linkquality\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"141"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"humidity\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"54.63"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"'\n4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 4"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"00"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"10 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"info"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" MQTT publish"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" topic 'zigbee2mqtt/smart_button'"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" payload '"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\"linkquality\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"110"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"duration\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"835"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"click\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"single\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"'\n4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 4"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"00"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"17 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"info"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" MQTT publish"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" topic 'zigbee2mqtt/smart_button'"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" payload '"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\"linkquality\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"102"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"duration\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"835"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"click\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"double\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"'\n4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 4"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"00"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"19 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"info"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" MQTT publish"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" topic 'zigbee2mqtt/smart_button'"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" payload '"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\"linkquality\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"99"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"duration\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"835"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"click\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"triple\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"'\n4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 4"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"00"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"20 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"info"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" MQTT publish"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" topic 'zigbee2mqtt/smart_button'"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" payload '"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\"linkquality\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"102"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"duration\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"835"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"click\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"quadruple\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"'\n4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 4"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"00"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"23 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"info"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" MQTT publish"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" topic 'zigbee2mqtt/smart_button'"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" payload '"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\"linkquality\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"99"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"duration\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"835"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"click\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"long\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"'\n4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 4"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"00"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"24 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"info"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" MQTT publish"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" topic 'zigbee2mqtt/smart_button'"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" payload '"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\"linkquality\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"99"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"duration\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"1094"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"click\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"long_release\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"'\n4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 4"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"00"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"30 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"info"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" MQTT publish"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" topic 'zigbee2mqtt/motion_pir_sensor'"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" payload '"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\"occupancy\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","boolean","important"]},"children":[{"type":"text","value":"true"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"linkquality\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"97"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"'\n4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 4"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"00"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"30 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"info"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" MQTT publish"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" topic 'zigbee2mqtt/temp_hum_sensor'"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" payload '"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\"temperature\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"27.73"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"linkquality\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"141"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"humidity\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"54.63"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"'\n4/22/2019"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" 4"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"00"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":"30 PM "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"-"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","key","atrule"]},"children":[{"type":"text","value":"info"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" MQTT publish"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" topic 'zigbee2mqtt/temp_hum_sensor'"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" payload '"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\"temperature\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"27.73"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"linkquality\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"141"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\"humidity\""},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":":"}]},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"69.32"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"'"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note that the "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Occupancy Sensor"}]},{"type":"text","value":" sends a "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"true"}]},{"type":"text","value":" or "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"false"}]},{"type":"text","value":" payload depending on if motion was detected or not. The "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Temperature & Humidity Sensor"}]},{"type":"text","value":" just sends number values for temperature and humidity. And the "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Wireless Button"}]},{"type":"text","value":" sends click events and can discern between "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"single"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"double"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"triple"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"quadruple"}]},{"type":"text","value":" and "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"long / long_release"}]},{"type":"text","value":" clicks."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/97433298c0a126fb1e2c92ae1e3cd7af/7b680/zigbee2mqtt_13.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 730px;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 52.465753424657535%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACHUlEQVQoz3WRWW8SURTH59s0KcsAZcrALDA7AkPZ2tLSYoG2dDNxezDx0a9k1Ji2Ll/AxCeNLz6o6Rrj8v7zMjRaE3345X/Oufcs9x7pzdsPvHv/kU+fLzk9/8GZ4PxC6MVU//CT88srrsUn90/OvvPl5CunZ9+Qwv4hzeEhy+NjVnZe0hwc0dt/xfqt16wJ7Y5fRPGlrWO8pae4i0/wl5/hXdEYHNIeHVFbf46/+hjJq47pDR5SdPpkck1BW9BiTm1PyU20gxWMKC/s49d2MN2BYIOiUMsfYgdD4d8kCHeRFEWm11vEDyzy+SyaNk+ppGGa+cguFJQoHtgmnbDCQsUnsAxc28AR2JYeqSVyGgsVJE3TGY+2OdjbZ21llY31Pv3eGqPBgKV2h2a9QVgLsXIa7ryOrep4qkFRM9B0A/0KNV+gXL6B1LAdHt2+w4PdPe5tbnF/e5u7m5uRPWy1WalWWfY8qp5Lo9PGcR1Kjk2xVBIvmWJZdqRhGCI5YsJOpUJFFK65LqHA0TR8w8TIKuRkmbwgFN19v0yr1aJer2PbNo7jREwKVas1ut0uUjIlE08mScgTZBLCjicSxAQTPymQ02lUVUXPKxRU0URRyGazv1GEnxZ3giBASomEVCr1f8R5Jp0hO5fBNxOU1CRZOcHsbIxYbEo8HmdmZiaaWvpXEflak4k96V4smuimKxZhie0XxCL0v9DEN1mWxS9lw5SI/ZrTMQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;","alt":"Zigbee2MQTT","title":"","src":"/static/97433298c0a126fb1e2c92ae1e3cd7af/7b680/zigbee2mqtt_13.png","srcSet":["/static/97433298c0a126fb1e2c92ae1e3cd7af/9ec3c/zigbee2mqtt_13.png 200w","/static/97433298c0a126fb1e2c92ae1e3cd7af/c7805/zigbee2mqtt_13.png 400w","/static/97433298c0a126fb1e2c92ae1e3cd7af/7b680/zigbee2mqtt_13.png 730w"],"sizes":["(max-width:","730px)","100vw,","730px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"adding-our-sensors-to-fhem"},"children":[{"type":"element","tagName":"a","properties":{"href":"#adding-our-sensors-to-fhem","ariaLabel":"adding our sensors to fhem permalink","className":["anchor"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Adding our Sensors to FHEM"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"First we need to add a "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/oskarn97/fhem-xiaomi-mqtt"},"children":[{"type":"text","value":"new module"}]},{"type":"text","value":" to FHEM that allows us to communicate with our Zigbee2MQTT Bridge:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"bash"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-bash"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-bash"]},"children":[{"type":"text","value":"update "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"add"}]},{"type":"text","value":" https://raw.githubusercontent.com/oskarn97/fhem-xiaomi-mqtt/master/controls_xiaomi-zb2mqtt.txt\nupdate check xiaomi-zb2mqtt\nupdate all xiaomi-zb2mqtt\n"},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"shutdown"}]},{"type":"text","value":" restart"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/144c7d53bccb6efb764c4005dd6fb8cd/7b680/zigbee2mqtt_14.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 730px;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 21.78082191780822%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAtUlEQVQI132NzQqCQBhFP8WUUWfGxETLcSKz0pq0HyTEjDY9hYS1btP7b5IWES069+wulwtE0WYWjygPzJGkGgqiuO8Zlott33YZtX2pZ8iq+atGdIMAQiiZx4xNvOF4EU83Qtyaa9s0z8fj3rZlVQGAJMvSG+iEjwCU0vpU7/ZbsUzPRXEpy0OSpoxFAwcpCvyHEFIdqzzP0iRZCbHOM8Z5EIa243QVxoRaFsFduheKkP69fQFAGBRpoajE1gAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;","alt":"Zigbee2MQTT","title":"","src":"/static/144c7d53bccb6efb764c4005dd6fb8cd/7b680/zigbee2mqtt_14.png","srcSet":["/static/144c7d53bccb6efb764c4005dd6fb8cd/9ec3c/zigbee2mqtt_14.png 200w","/static/144c7d53bccb6efb764c4005dd6fb8cd/c7805/zigbee2mqtt_14.png 400w","/static/144c7d53bccb6efb764c4005dd6fb8cd/7b680/zigbee2mqtt_14.png 730w"],"sizes":["(max-width:","730px)","100vw,","730px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Once FHEM is back up we can define the bridge module that will handle the communication for us:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"define ZigbeeBridge XiaomiMQTTDevice bridge"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Just a few seconds later we already start seeing readings coming in:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/1c5621b3ae360f7eb271f1f73a156593/13a77/zigbee2mqtt_15.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 100.82938388625593%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAA7DAAAOwwHHb6hkAAADm0lEQVQ4y22S6W/bZBzH/R8Moa4SW7ch8WIvJlHxnncIoSFtatJOGu1yFKZVnVDLX8AQEhKCITFN7SYxUFs0DnUJbeIma+zEuUpzNGPQ5rBzOHHiHE2bLqevOOHnpF2L2KOP7O/zu/08Rl47c2ng3PDgm++cvjA8eGF44PzwwNClU+fffnfo4pWzb506ffb1VzI49MaZc8jSL0b/1t/+wJZCMOTdDLq8m5uBEGwDgS2f/5DDgB4+iHv2fPmJEfnq+yUbTjy1Wg0m+wqKoRYAXzHbQJssmNmCmy3YKmrD8ONlwzC3y3n3/gJy+fJVjVav1ek+GteqVGNq9ahKpR4ZUY+o1KojFA32I0bUo6Nj1957/wPEF/yL48RGo9XieGC/8qIJL17guB680OIExdU6ptnkJFHe3gkjvkBIcbd4qd2RJHm3fLB/0KhUm7V6q1Zvvqg2muCS5JOIYrvb7UajJLK9ExHA1JZFqQ2U9up7B3ylJtZbIi+IHK88+66XCKIEyZFoDCkUd6E8FOtT3qvAtLLcOe7Ta3USQThKTiRTEMHzItSDJtVanReUXqAB4aU42vYtcqcbDkeQZIqGMp1Op9tbbbkLCnyH+1etfnAmwyDr6zaTyYSiKEmSbq/33vwP9+Yf/Rl8blxZuT835wsEHC4n2EHMPXwQDIUgLB6PEwRx587niNG4Mv/g4Tfffud0ulHj6mdT07O3ptYMxq+/+HJKN4k+MRoe/7b6+7J52TCt/9hs+IMg3BsbmwuLP2u0OiTDMMokAMdXt6M8WxTYYjlKNdNst3zQTGfrNNOgs81MrlOu8GSiA1faG55hskihUAAFXyrX6sUYRReKKSaXLZTSbJ7OsZl8ETSdy2fYYipf3N2JKGcrSdCNJGNIqVQ67Nxo5CMxOl9kWAgtAJDGQHK+lC/tMblCrry/G45K8D9KylVRFIWQJNVP7ra46rN/qgm6kaSrVLIeTwG1eKpFM0ImKzKskGWFnSiMLffmTiSSCIZhcOjxRCqXyyViZDxKJkkqRVFsOsNmeqTTiu6RTWfCZBrmS6RYt9uD3J17bCc8GGZD191W3ONweexOD064bQ4QXofrP4DF7dnwer0Bv3/+0a/IlVHN7U9nZ2Znpm/PaPS3ro/rr09Mjt+YvKGdnNAqz5NMaBSXTqe/efOTD6+OIT/+tES4PLjd4XAQlqd28xpuWsOt67jdjv9/YRi+iuIWK0YQzsXFhX8BxfCaXyqwp44AAAAASUVORK5CYII='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;","alt":"Zigbee2MQTT","title":"","src":"/static/1c5621b3ae360f7eb271f1f73a156593/8ff1e/zigbee2mqtt_15.png","srcSet":["/static/1c5621b3ae360f7eb271f1f73a156593/9ec3c/zigbee2mqtt_15.png 200w","/static/1c5621b3ae360f7eb271f1f73a156593/c7805/zigbee2mqtt_15.png 400w","/static/1c5621b3ae360f7eb271f1f73a156593/8ff1e/zigbee2mqtt_15.png 800w","/static/1c5621b3ae360f7eb271f1f73a156593/13a77/zigbee2mqtt_15.png 844w"],"sizes":["(max-width:","800px)","100vw,","800px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"json"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-json"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-json"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"type\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"devices\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"message\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"ieeeAddr\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"0x00124b0018ed113b\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"type\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"Coordinator\""}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"ieeeAddr\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"0x00158d00023a21c8\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"type\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"EndDevice\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"model\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"WSDCGQ01LM\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"friendly_name\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"temp_hum_sensor\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"nwkAddr\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"29097"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"manufId\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"4151"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"manufName\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"LUMI\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"powerSource\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"Battery\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"modelId\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"lumi.sens\""}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"ieeeAddr\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"0x00158d00023d229c\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"type\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"EndDevice\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"model\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"WXKG01LM\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"friendly_name\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"smart_button\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"nwkAddr\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"40807"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"manufId\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"4151"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"manufName\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"LUMI\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"powerSource\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"Battery\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"modelId\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"lumi.sensor_switch\""}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"ieeeAddr\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"0x00158d00020b3dff\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"type\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"EndDevice\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"model\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"RTCGQ01LM\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"friendly_name\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"motion_pir_sensor\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"nwkAddr\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"2091"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"manufId\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","number"]},"children":[{"type":"text","value":"4151"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"manufName\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"LUMI\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"powerSource\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"Battery\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","property"]},"children":[{"type":"text","value":"\"modelId\""}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"lumi.sensor_motion\""}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Our sensors have been recognized through the FHEM connector - nice! And we have a new "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Room"}]},{"type":"text","value":" in our list called "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"XiaoMiMQTTDevice"}]},{"type":"text","value":" holding all our sensors:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/6aff1662e1413f143ae5acb6cade9eca/7b680/zigbee2mqtt_16.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 730px;"},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 37.397260273972606%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABS0lEQVQY02Pg4xfy8fVXUVFWUtXl5OJnIAEwMggKCCQlJSmrqKqrqwMFQsIi58xb0dM/vat3cmd3f09vX3dPX3//xImTpsDRhImTp06bVVxSxhAfn9DX19/d1T1nzpzg4OCJEyf+////9+/f//7/ByKs4O/fv0Dy/PnzDF2dbWdOHTt8cM/tG5cb6ytLy2uevPh8+dq923cfXrpy4/KVq1euXrtz997de/fh6Paduw8fv9i0eQvDjHmrn77/f/Px1ycf/i9cvSsxKaWrZ0Jza3tLa0djc1tzc0tNbV1tXT0yAoo0N7WkpqYxpNaumH/o37Qdn3s2fZm/5+OLV+8/ff//49e/P3//f//0A4+zz507x7BowZz/f398/vjmx9f3nz69vXDx6pcf/7//+Pnl68/Xbz99+frtx49f37//BJJwxtev34GaT5w4CQDJZQ7UCAO2mQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;","alt":"Zigbee2MQTT","title":"","src":"/static/6aff1662e1413f143ae5acb6cade9eca/7b680/zigbee2mqtt_16.png","srcSet":["/static/6aff1662e1413f143ae5acb6cade9eca/9ec3c/zigbee2mqtt_16.png 200w","/static/6aff1662e1413f143ae5acb6cade9eca/c7805/zigbee2mqtt_16.png 400w","/static/6aff1662e1413f143ae5acb6cade9eca/7b680/zigbee2mqtt_16.png 730w"],"sizes":["(max-width:","730px)","100vw,","730px"]},"children":[]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n  "}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"comment","value":" ## Using Zigbee Devices to control INSTAR IP Cameras in Node-RED\n\nWe now set up the Zigbee Bridge, connected Zigbee sensors and made sure that the messages are send to our Mosquitto MQTT server. We also found out the topics that our bridge uses for each sensors to publish its messages - `zigbee2mqtt/motion_pir_sensor`, `zigbee2mqtt/temp_hum_sensor` and `zigbee2mqtt/smart_button` - and what kind of payload to expect.\n\nNow we can use the program [MQTT.fx](/Advanced_User/OpenHAB_Home_Automation/Mosquitto_Installation_on_Windows/#testing-the-mqtt-server-with-mqttfx) to verify that the message was received by our Mosquitto server:\n\n\n---\n![Zigbee2MQTT](./zigbee2mqtt_x11.png)\n\n---\n\n\nEvery time the state changes the sensor will send a Zigbee message to our Bridge, which then forwards its payload to our Mosquitto server - perfect!\n\nWe can now start our [Node-RED](https://nodered.org/) - that we either installed under [Windows 10](/Advanced_User/Node-RED_and_MQTT/), on a [Raspberry Pi](/Advanced_User/openHABian_on_Raspberry_Pi/Node-RED_Setup/) or a [Debian Linux Server](/Software/Linux/Node-RED/), add __MQTT Nodes__ and subscribe to all 3 MQTT topics:\n\n\n---\n![Zigbee2MQTT](./zigbee2mqtt_x12.png)\n\n---\n\n\nConnect all 3 of them to a __Debug Node__ and deploy the flow. Click the button, warm up the temp sensor and trigger the motion detection - the MQTT messages will show up in the debug pane in Node-RED:\n\n\n---\n![Zigbee2MQTT](./zigbee2mqtt_13.png)\n\n---\n\n\n### Add the MQTT input to an existing Flow\n\nIn the following sequence we are using the input for the wireless button to switch __Alarm Areas__ on our cameras - we already used the same sequence for the [Amazon Alexa Integration](/Advanced_User/Alexa_Voice_Control_without_Cloud/) (the complete flow can be found in the [Home Assistant Tutorial](/Software/Linux/Home_Assistant/)):\n\n\n---\n![Zigbee2MQTT](./zigbee2mqtt_x14.png)\n\n---\n\n\nYou can copy the following JSON code and import it into Node-RED ([How do I import flows to Node-RED?](/Software/Linux/Node-RED/#using-node-red-to-communicate-with-your-camera)):\n\n\n```json\n[{\"id\":\"ebde9a4c.90efe8\",\"type\":\"link out\",\"z\":\"17b43655.05bd3a\",\"name\":\"\",\"links\":[\"57b22bf7.0e2874\",\"5eb0d369.b3b15c\",\"b5ce97db.b3f4f8\",\"f335d7f4.4bbe18\"],\"x\":1308,\"y\":100,\"wires\":[]},{\"id\":\"accb31dd.a130c\",\"type\":\"mqtt in\",\"z\":\"17b43655.05bd3a\",\"name\":\"Wireless Button\",\"topic\":\"zigbee2mqtt/smart_button\",\"qos\":\"1\",\"broker\":\"40415d07.67dd94\",\"x\":780,\"y\":100,\"wires\":[[\"2537690e.6230d6\"]]},{\"id\":\"2537690e.6230d6\",\"type\":\"json\",\"z\":\"17b43655.05bd3a\",\"name\":\"\",\"property\":\"payload\",\"action\":\"\",\"pretty\":false,\"x\":929,\"y\":100,\"wires\":[[\"17df313d.2e7aff\"]]},{\"id\":\"17df313d.2e7aff\",\"type\":\"change\",\"z\":\"17b43655.05bd3a\",\"name\":\"single / double\",\"rules\":[{\"t\":\"set\",\"p\":\"payload\",\"pt\":\"msg\",\"to\":\"payload.click\",\"tot\":\"msg\"}],\"action\":\"\",\"property\":\"\",\"from\":\"\",\"to\":\"\",\"reg\":false,\"x\":1076,\"y\":100,\"wires\":[[\"1f97ee5b.dfc642\"]]},{\"id\":\"1f97ee5b.dfc642\",\"type\":\"string\",\"z\":\"17b43655.05bd3a\",\"name\":\"\",\"methods\":[{\"name\":\"replaceAll\",\"params\":[{\"type\":\"str\",\"value\":\"single\"},{\"type\":\"str\",\"value\":\"{\\\"val\\\" : \\\"on\\\"}\"}]},{\"name\":\"replaceAll\",\"params\":[{\"type\":\"str\",\"value\":\"double\"},{\"type\":\"str\",\"value\":\"{\\\"val\\\" : \\\"off\\\"}\"}]}],\"prop\":\"payload\",\"propout\":\"payload\",\"object\":\"msg\",\"objectout\":\"msg\",\"x\":1226,\"y\":100,\"wires\":[[\"ebde9a4c.90efe8\"]]},{\"id\":\"40415d07.67dd94\",\"type\":\"mqtt-broker\",\"z\":\"\",\"name\":\"Debian Mosquitto\",\"broker\":\"localhost\",\"port\":\"1883\",\"clientid\":\"\",\"usetls\":false,\"compatmode\":true,\"keepalive\":\"60\",\"cleansession\":true,\"birthTopic\":\"\",\"birthQos\":\"0\",\"birthPayload\":\"\",\"closeTopic\":\"\",\"closePayload\":\"\",\"willTopic\":\"\",\"willQos\":\"0\",\"willPayload\":\"\"}]\n```\n\n\nThe __MQTT Node__ outputs the message from our button as a string. We first have to turn it into a JavaScript Object with a __JSON Node__.\n\n\nNext follows a __Change Node__ that changes the Message Payload to the value of __Click__ - as we learnt above, this value can either be `single`, `double`, `triple`, `quadruple`, `long` or `release`:\n\n\n---\n![Zigbee2MQTT](./zigbee2mqtt_x15.png)\n\n---\n\n\nAfter that follows a __String Node__ (this node type [has to be installed manually](/Software/Linux/Node-RED/#the-node-red-admin-panel) - it is called `node-red-contrib-string`) that searches for the payload `single` or `double` and replaces them with something that we need to trigger the Flow below - in this case we need a JSON expression that either sets a value to `on` or `off`: `{\"val\" : \"on\"}` / `{\"val\" : \"off\"}`:\n\n\n---\n![Zigbee2MQTT](./zigbee2mqtt_x16.png)\n\n---\n\n\nAnd last but not least we add a __Link Node__ to plug it in to all 4 sequences for the for the 4 alarm areas. Now every time we single-click the Wireless Button all areas are activated. A double-click deactivates them:\n\n\n---\n![Zigbee2MQTT](./nodered_x01.gif)\n\n---\n\n\nWe attached a __Debug Node__ to the MQTT input to visualize the input given by the Wireless Button - __Note__ that only the `single` and `double` click trigger the Alarm Area Sequences - the rest of the input options can be used for other functions. "}],"data":{"quirksMode":false}},"fields":{"slug":"/zigbee2mqtt-xiaomi-fhem/","prefix":"2019-01-05"},"frontmatter":{"title":"Zigbee Sensors in FHEM","subTitle":"Zigbee Sensors with FHEM and Zigbee2MQTT","cover":{"childImageSharp":{"resize":{"src":"/static/9ad619a12b19a208278b98236f2afc93/fbe2f/photo-19194765263_69ad0f_o-cover.png"}}}}},"author":{"id":"9c69de06-11ab-55c9-b52a-3cc0b2f51365","html":"<p><strong>Mike Polinowski</strong> Proin ornare ligula eu tellus tempus elementum. Aenean <a href=\"/contact/\">contact me</a> iaculis mi, nec blandit lacus interdum vitae. Vestibulum non nibh risus, a scelerisque purus. :hearts:</p>"},"footnote":{"id":"24817670-3434-5a21-9de1-e9fab89708d7","html":"<ul>\n<li>This is a personal Developer Blog</li>\n<li>Ξ</li>\n<li>built by <a href=\"https://github.com/mpolinowski\">Mike Polinowski</a></li>\n<li>Ξ</li>\n<li>with <a href=\"https://www.gatsbyjs.org/\">Gatsby</a> &#x26; <a href=\"https://reactjs.org\">React</a></li>\n<li>Ξ</li>\n<li>source code on <a href=\"https://github.com/mpolinowski/mpolinowski.github.io\">GitHub</a></li>\n<li>Ξ</li>\n<li>deliverd by <a href=\"https://pages.github.com\">Github Pages</a></li>\n<li>Ξ</li>\n<li>photos from <a href=\"https://www.flickr.com/people/149680084@N06/\">Flickr</a></li>\n</ul>"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/zigbee2mqtt-xiaomi-fhem/"}}